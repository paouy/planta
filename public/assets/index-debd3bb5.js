(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function wl(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Re={},Cn=[],vt=()=>{},Li=()=>!1,ji=/^on[^a-z]/,tr=e=>ji.test(e),Ol=e=>e.startsWith("onUpdate:"),je=Object.assign,kl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Di=Object.prototype.hasOwnProperty,me=(e,t)=>Di.call(e,t),le=Array.isArray,An=e=>vo(e)==="[object Map]",jn=e=>vo(e)==="[object Set]",ia=e=>vo(e)==="[object Date]",ie=e=>typeof e=="function",qe=e=>typeof e=="string",lo=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",qs=e=>Ee(e)&&ie(e.then)&&ie(e.catch),Ns=Object.prototype.toString,vo=e=>Ns.call(e),Bi=e=>vo(e).slice(8,-1),Us=e=>vo(e)==="[object Object]",Sl=e=>qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vo=wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Fi=/-(\w)/g,Ct=nr(e=>e.replace(Fi,(t,n)=>n?n.toUpperCase():"")),zi=/\B([A-Z])/g,hn=nr(e=>e.replace(zi,"-$1").toLowerCase()),or=nr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rr=nr(e=>e?`on${or(e)}`:""),ao=(e,t)=>!Object.is(e,t),Po=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Lo=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},jo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ca;const Kr=()=>ca||(ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rr(e){if(le(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=qe(o)?Ji(o):rr(o);if(r)for(const l in r)t[l]=r[l]}return t}else{if(qe(e))return e;if(Ee(e))return e}}const Wi=/;(?![^(]*\))/g,Hi=/:([^]+)/,Ki=/\/\*[^]*?\*\//g;function Ji(e){const t={};return e.replace(Ki,"").split(Wi).forEach(n=>{if(n){const o=n.split(Hi);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Fe(e){let t="";if(qe(e))t=e;else if(le(e))for(let n=0;n<e.length;n++){const o=Fe(e[n]);o&&(t+=o+" ")}else if(Ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Qi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Yi=wl(Qi);function Ls(e){return!!e||e===""}function Gi(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=yn(e[o],t[o]);return n}function yn(e,t){if(e===t)return!0;let n=ia(e),o=ia(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=lo(e),o=lo(t),n||o)return e===t;if(n=le(e),o=le(t),n||o)return n&&o?Gi(e,t):!1;if(n=Ee(e),o=Ee(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const s=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(s&&!u||!s&&u||!yn(e[a],t[a]))return!1}}return String(e)===String(t)}function El(e,t){return e.findIndex(n=>yn(n,t))}const C=e=>qe(e)?e:e==null?"":le(e)||Ee(e)&&(e.toString===Ns||!ie(e.toString))?JSON.stringify(e,js,2):String(e),js=(e,t)=>t&&t.__v_isRef?js(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r])=>(n[`${o} =>`]=r,n),{})}:jn(t)?{[`Set(${t.size})`]:[...t.values()]}:Ee(t)&&!le(t)&&!Us(t)?String(t):t;let ot;class Xi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ot;try{return ot=this,t()}finally{ot=n}}}on(){ot=this}off(){ot=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Zi(e,t=ot){t&&t.active&&t.effects.push(e)}function Ds(){return ot}function ec(e){ot&&ot.cleanups.push(e)}const Cl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Bs=e=>(e.w&en)>0,Fs=e=>(e.n&en)>0,tc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=en},nc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];Bs(r)&&!Fs(r)?r.delete(e):t[n++]=r,r.w&=~en,r.n&=~en}t.length=n}},Do=new WeakMap;let Gn=0,en=1;const Jr=30;let ft;const mn=Symbol(""),Qr=Symbol("");class Al{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Zi(this,o)}run(){if(!this.active)return this.fn();let t=ft,n=Gt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ft,ft=this,Gt=!0,en=1<<++Gn,Gn<=Jr?tc(this):da(this),this.fn()}finally{Gn<=Jr&&nc(this),en=1<<--Gn,ft=this.parent,Gt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ft===this?this.deferStop=!0:this.active&&(da(this),this.onStop&&this.onStop(),this.active=!1)}}function da(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Gt=!0;const zs=[];function Dn(){zs.push(Gt),Gt=!1}function Bn(){const e=zs.pop();Gt=e===void 0?!0:e}function tt(e,t,n){if(Gt&&ft){let o=Do.get(e);o||Do.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=Cl()),Ws(r)}}function Ws(e,t){let n=!1;Gn<=Jr?Fs(e)||(e.n|=en,n=!Bs(e)):n=!e.has(ft),n&&(e.add(ft),ft.deps.push(e))}function Tt(e,t,n,o,r,l){const a=Do.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(n==="length"&&le(e)){const u=Number(o);a.forEach((i,c)=>{(c==="length"||c>=u)&&s.push(i)})}else switch(n!==void 0&&s.push(a.get(n)),t){case"add":le(e)?Sl(n)&&s.push(a.get("length")):(s.push(a.get(mn)),An(e)&&s.push(a.get(Qr)));break;case"delete":le(e)||(s.push(a.get(mn)),An(e)&&s.push(a.get(Qr)));break;case"set":An(e)&&s.push(a.get(mn));break}if(s.length===1)s[0]&&Yr(s[0]);else{const u=[];for(const i of s)i&&u.push(...i);Yr(Cl(u))}}function Yr(e,t){const n=le(e)?e:[...e];for(const o of n)o.computed&&pa(o);for(const o of n)o.computed||pa(o)}function pa(e,t){(e!==ft||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function oc(e,t){var n;return(n=Do.get(e))==null?void 0:n.get(t)}const rc=wl("__proto__,__v_isRef,__isVue"),Hs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(lo)),lc=$l(),ac=$l(!1,!0),sc=$l(!0),fa=uc();function uc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=be(this);for(let l=0,a=this.length;l<a;l++)tt(o,"get",l+"");const r=o[t](...n);return r===-1||r===!1?o[t](...n.map(be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Dn();const o=be(this)[t].apply(this,n);return Bn(),o}}),e}function ic(e){const t=be(this);return tt(t,"has",e),t.hasOwnProperty(e)}function $l(e=!1,t=!1){return function(o,r,l){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&l===(e?t?Ec:Gs:t?Ys:Qs).get(o))return o;const a=le(o);if(!e){if(a&&me(fa,r))return Reflect.get(fa,r,l);if(r==="hasOwnProperty")return ic}const s=Reflect.get(o,r,l);return(lo(r)?Hs.has(r):rc(r))||(e||tt(o,"get",r),t)?s:Me(s)?a&&Sl(r)?s:s.value:Ee(s)?e?Je(s):ar(s):s}}const cc=Ks(),dc=Ks(!0);function Ks(e=!1){return function(n,o,r,l){let a=n[o];if(In(a)&&Me(a)&&!Me(r))return!1;if(!e&&(!Bo(r)&&!In(r)&&(a=be(a),r=be(r)),!le(n)&&Me(a)&&!Me(r)))return a.value=r,!0;const s=le(n)&&Sl(o)?Number(o)<n.length:me(n,o),u=Reflect.set(n,o,r,l);return n===be(l)&&(s?ao(r,a)&&Tt(n,"set",o,r):Tt(n,"add",o,r)),u}}function pc(e,t){const n=me(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&Tt(e,"delete",t,void 0),o}function fc(e,t){const n=Reflect.has(e,t);return(!lo(t)||!Hs.has(t))&&tt(e,"has",t),n}function mc(e){return tt(e,"iterate",le(e)?"length":mn),Reflect.ownKeys(e)}const Js={get:lc,set:cc,deleteProperty:pc,has:fc,ownKeys:mc},vc={get:sc,set(e,t){return!0},deleteProperty(e,t){return!0}},yc=je({},Js,{get:ac,set:dc}),xl=e=>e,lr=e=>Reflect.getPrototypeOf(e);function _o(e,t,n=!1,o=!1){e=e.__v_raw;const r=be(e),l=be(t);n||(t!==l&&tt(r,"get",t),tt(r,"get",l));const{has:a}=lr(r),s=o?xl:n?Vl:so;if(a.call(r,t))return s(e.get(t));if(a.call(r,l))return s(e.get(l));e!==r&&e.get(t)}function wo(e,t=!1){const n=this.__v_raw,o=be(n),r=be(e);return t||(e!==r&&tt(o,"has",e),tt(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Oo(e,t=!1){return e=e.__v_raw,!t&&tt(be(e),"iterate",mn),Reflect.get(e,"size",e)}function ma(e){e=be(e);const t=be(this);return lr(t).has.call(t,e)||(t.add(e),Tt(t,"add",e,e)),this}function va(e,t){t=be(t);const n=be(this),{has:o,get:r}=lr(n);let l=o.call(n,e);l||(e=be(e),l=o.call(n,e));const a=r.call(n,e);return n.set(e,t),l?ao(t,a)&&Tt(n,"set",e,t):Tt(n,"add",e,t),this}function ya(e){const t=be(this),{has:n,get:o}=lr(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),o&&o.call(t,e);const l=t.delete(e);return r&&Tt(t,"delete",e,void 0),l}function ha(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Tt(e,"clear",void 0,void 0),n}function ko(e,t){return function(o,r){const l=this,a=l.__v_raw,s=be(a),u=t?xl:e?Vl:so;return!e&&tt(s,"iterate",mn),a.forEach((i,c)=>o.call(r,u(i),u(c),l))}}function So(e,t,n){return function(...o){const r=this.__v_raw,l=be(r),a=An(l),s=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,i=r[e](...o),c=n?xl:t?Vl:so;return!t&&tt(l,"iterate",u?Qr:mn),{next(){const{value:p,done:m}=i.next();return m?{value:p,done:m}:{value:s?[c(p[0]),c(p[1])]:c(p),done:m}},[Symbol.iterator](){return this}}}}function jt(e){return function(...t){return e==="delete"?!1:this}}function hc(){const e={get(l){return _o(this,l)},get size(){return Oo(this)},has:wo,add:ma,set:va,delete:ya,clear:ha,forEach:ko(!1,!1)},t={get(l){return _o(this,l,!1,!0)},get size(){return Oo(this)},has:wo,add:ma,set:va,delete:ya,clear:ha,forEach:ko(!1,!0)},n={get(l){return _o(this,l,!0)},get size(){return Oo(this,!0)},has(l){return wo.call(this,l,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:ko(!0,!1)},o={get(l){return _o(this,l,!0,!0)},get size(){return Oo(this,!0)},has(l){return wo.call(this,l,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:ko(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=So(l,!1,!1),n[l]=So(l,!0,!1),t[l]=So(l,!1,!0),o[l]=So(l,!0,!0)}),[e,n,t,o]}const[bc,gc,_c,wc]=hc();function Rl(e,t){const n=t?e?wc:_c:e?gc:bc;return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(me(n,r)&&r in o?n:o,r,l)}const Oc={get:Rl(!1,!1)},kc={get:Rl(!1,!0)},Sc={get:Rl(!0,!1)},Qs=new WeakMap,Ys=new WeakMap,Gs=new WeakMap,Ec=new WeakMap;function Cc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ac(e){return e.__v_skip||!Object.isExtensible(e)?0:Cc(Bi(e))}function ar(e){return In(e)?e:Il(e,!1,Js,Oc,Qs)}function Xs(e){return Il(e,!1,yc,kc,Ys)}function Je(e){return Il(e,!0,vc,Sc,Gs)}function Il(e,t,n,o,r){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=r.get(e);if(l)return l;const a=Ac(e);if(a===0)return e;const s=new Proxy(e,a===2?o:n);return r.set(e,s),s}function $n(e){return In(e)?$n(e.__v_raw):!!(e&&e.__v_isReactive)}function In(e){return!!(e&&e.__v_isReadonly)}function Bo(e){return!!(e&&e.__v_isShallow)}function Zs(e){return $n(e)||In(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function eu(e){return Lo(e,"__v_skip",!0),e}const so=e=>Ee(e)?ar(e):e,Vl=e=>Ee(e)?Je(e):e;function Pl(e){Gt&&ft&&(e=be(e),Ws(e.dep||(e.dep=Cl())))}function Ml(e,t){e=be(e);const n=e.dep;n&&Yr(n)}function Me(e){return!!(e&&e.__v_isRef===!0)}function k(e){return nu(e,!1)}function tu(e){return nu(e,!0)}function nu(e,t){return Me(e)?e:new $c(e,t)}class $c{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:so(t)}get value(){return Pl(this),this._value}set value(t){const n=this.__v_isShallow||Bo(t)||In(t);t=n?t:be(t),ao(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:so(t),Ml(this))}}function d(e){return Me(e)?e.value:e}const xc={get:(e,t,n)=>d(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Me(r)&&!Me(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function ou(e){return $n(e)?e:new Proxy(e,xc)}class Rc{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>Pl(this),()=>Ml(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function Ic(e){return new Rc(e)}class Vc{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return oc(be(this._object),this._key)}}class Pc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Mc(e,t,n){return Me(e)?e:ie(e)?new Pc(e):Ee(e)&&arguments.length>1?Tc(e,t,n):k(e)}function Tc(e,t,n){const o=e[t];return Me(o)?o:new Vc(e,t,n)}class qc{constructor(t,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Al(t,()=>{this._dirty||(this._dirty=!0,Ml(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const t=be(this);return Pl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Nc(e,t,n=!1){let o,r;const l=ie(e);return l?(o=e,r=vt):(o=e.get,r=e.set),new qc(o,r,l||!r,n)}function Xt(e,t,n,o){let r;try{r=o?e(...o):e()}catch(l){sr(l,t,n)}return r}function yt(e,t,n,o){if(ie(e)){const l=Xt(e,t,n,o);return l&&qs(l)&&l.catch(a=>{sr(a,t,n)}),l}const r=[];for(let l=0;l<e.length;l++)r.push(yt(e[l],t,n,o));return r}function sr(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let l=t.parent;const a=t.proxy,s=n;for(;l;){const i=l.ec;if(i){for(let c=0;c<i.length;c++)if(i[c](e,a,s)===!1)return}l=l.parent}const u=t.appContext.config.errorHandler;if(u){Xt(u,null,10,[e,a,s]);return}}Uc(e,n,r,o)}function Uc(e,t,n,o=!0){console.error(e)}let uo=!1,Gr=!1;const He=[];let kt=0;const xn=[];let It=null,cn=0;const ru=Promise.resolve();let Tl=null;function ur(e){const t=Tl||ru;return e?t.then(this?e.bind(this):e):t}function Lc(e){let t=kt+1,n=He.length;for(;t<n;){const o=t+n>>>1;io(He[o])<e?t=o+1:n=o}return t}function ql(e){(!He.length||!He.includes(e,uo&&e.allowRecurse?kt+1:kt))&&(e.id==null?He.push(e):He.splice(Lc(e.id),0,e),lu())}function lu(){!uo&&!Gr&&(Gr=!0,Tl=ru.then(su))}function jc(e){const t=He.indexOf(e);t>kt&&He.splice(t,1)}function Dc(e){le(e)?xn.push(...e):(!It||!It.includes(e,e.allowRecurse?cn+1:cn))&&xn.push(e),lu()}function ba(e,t=uo?kt+1:0){for(;t<He.length;t++){const n=He[t];n&&n.pre&&(He.splice(t,1),t--,n())}}function au(e){if(xn.length){const t=[...new Set(xn)];if(xn.length=0,It){It.push(...t);return}for(It=t,It.sort((n,o)=>io(n)-io(o)),cn=0;cn<It.length;cn++)It[cn]();It=null,cn=0}}const io=e=>e.id==null?1/0:e.id,Bc=(e,t)=>{const n=io(e)-io(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function su(e){Gr=!1,uo=!0,He.sort(Bc);const t=vt;try{for(kt=0;kt<He.length;kt++){const n=He[kt];n&&n.active!==!1&&Xt(n,null,14)}}finally{kt=0,He.length=0,au(),uo=!1,Tl=null,(He.length||xn.length)&&su()}}function Fc(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Re;let r=n;const l=t.startsWith("update:"),a=l&&t.slice(7);if(a&&a in o){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:m}=o[c]||Re;m&&(r=n.map(b=>qe(b)?b.trim():b)),p&&(r=n.map(jo))}let s,u=o[s=Rr(t)]||o[s=Rr(Ct(t))];!u&&l&&(u=o[s=Rr(hn(t))]),u&&yt(u,e,6,r);const i=o[s+"Once"];if(i){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,yt(i,e,6,r)}}function uu(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},s=!1;if(!ie(e)){const u=i=>{const c=uu(i,t,!0);c&&(s=!0,je(a,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!l&&!s?(Ee(e)&&o.set(e,null),null):(le(l)?l.forEach(u=>a[u]=null):je(a,l),Ee(e)&&o.set(e,a),a)}function ir(e,t){return!e||!tr(t)?!1:(t=t.slice(2).replace(/Once$/,""),me(e,t[0].toLowerCase()+t.slice(1))||me(e,hn(t))||me(e,t))}let Be=null,iu=null;function Fo(e){const t=Be;return Be=e,iu=e&&e.type.__scopeId||null,t}function y(e,t=Be,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&xa(-1);const l=Fo(t);let a;try{a=e(...r)}finally{Fo(l),o._d&&xa(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function Ir(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:l,propsOptions:[a],slots:s,attrs:u,emit:i,render:c,renderCache:p,data:m,setupState:b,ctx:h,inheritAttrs:_}=e;let R,P;const T=Fo(e);try{if(n.shapeFlag&4){const M=r||o;R=Ot(c.call(M,M,p,l,b,m,h)),P=u}else{const M=t;R=Ot(M.length>1?M(l,{attrs:u,slots:s,emit:i}):M(l,null)),P=t.props?u:zc(u)}}catch(M){no.length=0,sr(M,e,1),R=f(tn)}let q=R;if(P&&_!==!1){const M=Object.keys(P),{shapeFlag:X}=q;M.length&&X&7&&(a&&M.some(Ol)&&(P=Wc(P,a)),q=Pn(q,P))}return n.dirs&&(q=Pn(q),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&(q.transition=n.transition),R=q,Fo(T),R}const zc=e=>{let t;for(const n in e)(n==="class"||n==="style"||tr(n))&&((t||(t={}))[n]=e[n]);return t},Wc=(e,t)=>{const n={};for(const o in e)(!Ol(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Hc(e,t,n){const{props:o,children:r,component:l}=e,{props:a,children:s,patchFlag:u}=t,i=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return o?ga(o,a,i):!!a;if(u&8){const c=t.dynamicProps;for(let p=0;p<c.length;p++){const m=c[p];if(a[m]!==o[m]&&!ir(i,m))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:o===a?!1:o?a?ga(o,a,i):!0:!!a;return!1}function ga(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(t[l]!==e[l]&&!ir(n,l))return!0}return!1}function Kc({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Jc=e=>e.__isSuspense;function Qc(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):Dc(e)}const Eo={};function et(e,t,n){return cu(e,t,n)}function cu(e,t,{immediate:n,deep:o,flush:r,onTrack:l,onTrigger:a}=Re){var s;const u=Ds()===((s=Le)==null?void 0:s.scope)?Le:null;let i,c=!1,p=!1;if(Me(e)?(i=()=>e.value,c=Bo(e)):$n(e)?(i=()=>e,o=!0):le(e)?(p=!0,c=e.some(M=>$n(M)||Bo(M)),i=()=>e.map(M=>{if(Me(M))return M.value;if($n(M))return fn(M);if(ie(M))return Xt(M,u,2)})):ie(e)?t?i=()=>Xt(e,u,2):i=()=>{if(!(u&&u.isUnmounted))return m&&m(),yt(e,u,3,[b])}:i=vt,t&&o){const M=i;i=()=>fn(M())}let m,b=M=>{m=T.onStop=()=>{Xt(M,u,4)}},h;if(po)if(b=vt,t?n&&yt(t,u,3,[i(),p?[]:void 0,b]):i(),r==="sync"){const M=Ud();h=M.__watcherHandles||(M.__watcherHandles=[])}else return vt;let _=p?new Array(e.length).fill(Eo):Eo;const R=()=>{if(T.active)if(t){const M=T.run();(o||c||(p?M.some((X,pe)=>ao(X,_[pe])):ao(M,_)))&&(m&&m(),yt(t,u,3,[M,_===Eo?void 0:p&&_[0]===Eo?[]:_,b]),_=M)}else T.run()};R.allowRecurse=!!t;let P;r==="sync"?P=R:r==="post"?P=()=>Xe(R,u&&u.suspense):(R.pre=!0,u&&(R.id=u.uid),P=()=>ql(R));const T=new Al(i,P);t?n?R():_=T.run():r==="post"?Xe(T.run.bind(T),u&&u.suspense):T.run();const q=()=>{T.stop(),u&&u.scope&&kl(u.scope.effects,T)};return h&&h.push(q),q}function Yc(e,t,n){const o=this.proxy,r=qe(e)?e.includes(".")?du(o,e):()=>o[e]:e.bind(o,o);let l;ie(t)?l=t:(l=t.handler,n=t);const a=Le;Mn(this);const s=cu(r,l.bind(o),n);return a?Mn(a):vn(),s}function du(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}function fn(e,t){if(!Ee(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Me(e))fn(e.value,t);else if(le(e))for(let n=0;n<e.length;n++)fn(e[n],t);else if(jn(e)||An(e))e.forEach(n=>{fn(n,t)});else if(Us(e))for(const n in e)fn(e[n],t);return e}function Zt(e,t){const n=Be;if(n===null)return e;const o=mr(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[a,s,u,i=Re]=t[l];a&&(ie(a)&&(a={mounted:a,updated:a}),a.deep&&fn(s),r.push({dir:a,instance:o,value:s,oldValue:void 0,arg:u,modifiers:i}))}return e}function an(e,t,n,o){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const s=r[a];l&&(s.oldValue=l[a].value);let u=s.dir[o];u&&(Dn(),yt(u,n,8,[e.el,s,e,t]),Bn())}}function pu(e,t){return ie(e)?(()=>je({name:e.name},t,{setup:e}))():e}const eo=e=>!!e.type.__asyncLoader,fu=e=>e.type.__isKeepAlive;function Gc(e,t){mu(e,"a",t)}function Xc(e,t){mu(e,"da",t)}function mu(e,t,n=Le){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(cr(t,o,n),n){let r=n.parent;for(;r&&r.parent;)fu(r.parent.vnode)&&Zc(o,t,n,r),r=r.parent}}function Zc(e,t,n,o){const r=cr(t,e,o,!0);yu(()=>{kl(o[t],r)},n)}function cr(e,t,n=Le,o=!1){if(n){const r=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Dn(),Mn(n);const s=yt(t,n,e,a);return vn(),Bn(),s});return o?r.unshift(l):r.push(l),l}}const Nt=e=>(t,n=Le)=>(!po||e==="sp")&&cr(e,(...o)=>t(...o),n),Nl=Nt("bm"),Ne=Nt("m"),ed=Nt("bu"),td=Nt("u"),vu=Nt("bum"),yu=Nt("um"),nd=Nt("sp"),od=Nt("rtg"),rd=Nt("rtc");function ld(e,t=Le){cr("ec",e,t)}const Ul="components";function bn(e,t){return bu(Ul,e,!0,t)||e}const hu=Symbol.for("v-ndc");function Vn(e){return qe(e)?bu(Ul,e,!1)||e:e||hu}function bu(e,t,n=!0,o=!1){const r=Be||Le;if(r){const l=r.type;if(e===Ul){const s=Td(l,!1);if(s&&(s===t||s===Ct(t)||s===or(Ct(t))))return l}const a=_a(r[e]||l[e],t)||_a(r.appContext[e],t);return!a&&o?l:a}}function _a(e,t){return e&&(e[t]||e[Ct(t)]||e[or(Ct(t))])}function he(e,t,n,o){let r;const l=n&&n[o];if(le(e)||qe(e)){r=new Array(e.length);for(let a=0,s=e.length;a<s;a++)r[a]=t(e[a],a,void 0,l&&l[a])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,l&&l[a])}else if(Ee(e))if(e[Symbol.iterator])r=Array.from(e,(a,s)=>t(a,s,void 0,l&&l[s]));else{const a=Object.keys(e);r=new Array(a.length);for(let s=0,u=a.length;s<u;s++){const i=a[s];r[s]=t(e[i],i,s,l&&l[s])}}else r=[];return n&&(n[o]=r),r}function ad(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(le(o))for(let r=0;r<o.length;r++)e[o[r].name]=o[r].fn;else o&&(e[o.name]=o.key?(...r)=>{const l=o.fn(...r);return l&&(l.key=o.key),l}:o.fn)}return e}function ye(e,t,n={},o,r){if(Be.isCE||Be.parent&&eo(Be.parent)&&Be.parent.isCE)return t!=="default"&&(n.name=t),f("slot",n,o&&o());let l=e[t];l&&l._c&&(l._d=!1),v();const a=l&&gu(l(n)),s=w(G,{key:n.key||a&&a.key||`_${t}`},a||(o?o():[]),a&&e._===1?64:-2);return!r&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),l&&l._c&&(l._d=!0),s}function gu(e){return e.some(t=>Ho(t)?!(t.type===tn||t.type===G&&!gu(t.children)):!0)?e:null}const Xr=e=>e?Iu(e)?mr(e)||e.proxy:Xr(e.parent):null,to=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xr(e.parent),$root:e=>Xr(e.root),$emit:e=>e.emit,$options:e=>Ll(e),$forceUpdate:e=>e.f||(e.f=()=>ql(e.update)),$nextTick:e=>e.n||(e.n=ur.bind(e.proxy)),$watch:e=>Yc.bind(e)}),Vr=(e,t)=>e!==Re&&!e.__isScriptSetup&&me(e,t),sd={get({_:e},t){const{ctx:n,setupState:o,data:r,props:l,accessCache:a,type:s,appContext:u}=e;let i;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return l[t]}else{if(Vr(o,t))return a[t]=1,o[t];if(r!==Re&&me(r,t))return a[t]=2,r[t];if((i=e.propsOptions[0])&&me(i,t))return a[t]=3,l[t];if(n!==Re&&me(n,t))return a[t]=4,n[t];Zr&&(a[t]=0)}}const c=to[t];let p,m;if(c)return t==="$attrs"&&tt(e,"get",t),c(e);if((p=s.__cssModules)&&(p=p[t]))return p;if(n!==Re&&me(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,me(m,t))return m[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:l}=e;return Vr(r,t)?(r[t]=n,!0):o!==Re&&me(o,t)?(o[t]=n,!0):me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:l}},a){let s;return!!n[a]||e!==Re&&me(e,a)||Vr(t,a)||(s=l[0])&&me(s,a)||me(o,a)||me(to,a)||me(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:me(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function dr(){return ud().slots}function ud(){const e=Ru();return e.setupContext||(e.setupContext=Pu(e))}function wa(e){return le(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Zr=!0;function id(e){const t=Ll(e),n=e.proxy,o=e.ctx;Zr=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:s,provide:u,inject:i,created:c,beforeMount:p,mounted:m,beforeUpdate:b,updated:h,activated:_,deactivated:R,beforeDestroy:P,beforeUnmount:T,destroyed:q,unmounted:M,render:X,renderTracked:pe,renderTriggered:de,errorCaptured:ne,serverPrefetch:ae,expose:$e,inheritAttrs:at,components:Ye,directives:ct,filters:De}=t;if(i&&cd(i,o,null),a)for(const Se in a){const ge=a[Se];ie(ge)&&(o[Se]=ge.bind(n))}if(r){const Se=r.call(n,n);Ee(Se)&&(e.data=ar(Se))}if(Zr=!0,l)for(const Se in l){const ge=l[Se],$t=ie(ge)?ge.bind(n,n):ie(ge.get)?ge.get.bind(n,n):vt,Lt=!ie(ge)&&ie(ge.set)?ge.set.bind(n):vt,gt=V({get:$t,set:Lt});Object.defineProperty(o,Se,{enumerable:!0,configurable:!0,get:()=>gt.value,set:Ge=>gt.value=Ge})}if(s)for(const Se in s)_u(s[Se],o,n,Se);if(u){const Se=ie(u)?u.call(n):u;Reflect.ownKeys(Se).forEach(ge=>{Rn(ge,Se[ge])})}c&&Oa(c,e,"c");function Pe(Se,ge){le(ge)?ge.forEach($t=>Se($t.bind(n))):ge&&Se(ge.bind(n))}if(Pe(Nl,p),Pe(Ne,m),Pe(ed,b),Pe(td,h),Pe(Gc,_),Pe(Xc,R),Pe(ld,ne),Pe(rd,pe),Pe(od,de),Pe(vu,T),Pe(yu,M),Pe(nd,ae),le($e))if($e.length){const Se=e.exposed||(e.exposed={});$e.forEach(ge=>{Object.defineProperty(Se,ge,{get:()=>n[ge],set:$t=>n[ge]=$t})})}else e.exposed||(e.exposed={});X&&e.render===vt&&(e.render=X),at!=null&&(e.inheritAttrs=at),Ye&&(e.components=Ye),ct&&(e.directives=ct)}function cd(e,t,n=vt){le(e)&&(e=el(e));for(const o in e){const r=e[o];let l;Ee(r)?"default"in r?l=lt(r.from||o,r.default,!0):l=lt(r.from||o):l=lt(r),Me(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[o]=l}}function Oa(e,t,n){yt(le(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function _u(e,t,n,o){const r=o.includes(".")?du(n,o):()=>n[o];if(qe(e)){const l=t[e];ie(l)&&et(r,l)}else if(ie(e))et(r,e.bind(n));else if(Ee(e))if(le(e))e.forEach(l=>_u(l,t,n,o));else{const l=ie(e.handler)?e.handler.bind(n):t[e.handler];ie(l)&&et(r,l,e)}}function Ll(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,s=l.get(t);let u;return s?u=s:!r.length&&!n&&!o?u=t:(u={},r.length&&r.forEach(i=>zo(u,i,a,!0)),zo(u,t,a)),Ee(t)&&l.set(t,u),u}function zo(e,t,n,o=!1){const{mixins:r,extends:l}=t;l&&zo(e,l,n,!0),r&&r.forEach(a=>zo(e,a,n,!0));for(const a in t)if(!(o&&a==="expose")){const s=dd[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const dd={data:ka,props:Sa,emits:Sa,methods:Xn,computed:Xn,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:Xn,directives:Xn,watch:fd,provide:ka,inject:pd};function ka(e,t){return t?e?function(){return je(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function pd(e,t){return Xn(el(e),el(t))}function el(e){if(le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ke(e,t){return e?[...new Set([].concat(e,t))]:t}function Xn(e,t){return e?je(Object.create(null),e,t):t}function Sa(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:je(Object.create(null),wa(e),wa(t??{})):t}function fd(e,t){if(!e)return t;if(!t)return e;const n=je(Object.create(null),e);for(const o in t)n[o]=Ke(e[o],t[o]);return n}function wu(){return{app:null,config:{isNativeTag:Li,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let md=0;function vd(e,t){return function(o,r=null){ie(o)||(o=je({},o)),r!=null&&!Ee(r)&&(r=null);const l=wu(),a=new Set;let s=!1;const u=l.app={_uid:md++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:Ld,get config(){return l.config},set config(i){},use(i,...c){return a.has(i)||(i&&ie(i.install)?(a.add(i),i.install(u,...c)):ie(i)&&(a.add(i),i(u,...c))),u},mixin(i){return l.mixins.includes(i)||l.mixins.push(i),u},component(i,c){return c?(l.components[i]=c,u):l.components[i]},directive(i,c){return c?(l.directives[i]=c,u):l.directives[i]},mount(i,c,p){if(!s){const m=f(o,r);return m.appContext=l,c&&t?t(m,i):e(m,i,p),s=!0,u._container=i,i.__vue_app__=u,mr(m.component)||m.component.proxy}},unmount(){s&&(e(null,u._container),delete u._container.__vue_app__)},provide(i,c){return l.provides[i]=c,u},runWithContext(i){Wo=u;try{return i()}finally{Wo=null}}};return u}}let Wo=null;function Rn(e,t){if(Le){let n=Le.provides;const o=Le.parent&&Le.parent.provides;o===n&&(n=Le.provides=Object.create(o)),n[e]=t}}function lt(e,t,n=!1){const o=Le||Be;if(o||Wo){const r=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Wo._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ie(t)?t.call(o&&o.proxy):t}}function yd(e,t,n,o=!1){const r={},l={};Lo(l,fr,1),e.propsDefaults=Object.create(null),Ou(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=o?r:Xs(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function hd(e,t,n,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,s=be(r),[u]=e.propsOptions;let i=!1;if((o||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let p=0;p<c.length;p++){let m=c[p];if(ir(e.emitsOptions,m))continue;const b=t[m];if(u)if(me(l,m))b!==l[m]&&(l[m]=b,i=!0);else{const h=Ct(m);r[h]=tl(u,s,h,b,e,!1)}else b!==l[m]&&(l[m]=b,i=!0)}}}else{Ou(e,t,r,l)&&(i=!0);let c;for(const p in s)(!t||!me(t,p)&&((c=hn(p))===p||!me(t,c)))&&(u?n&&(n[p]!==void 0||n[c]!==void 0)&&(r[p]=tl(u,s,p,void 0,e,!0)):delete r[p]);if(l!==s)for(const p in l)(!t||!me(t,p))&&(delete l[p],i=!0)}i&&Tt(e,"set","$attrs")}function Ou(e,t,n,o){const[r,l]=e.propsOptions;let a=!1,s;if(t)for(let u in t){if(Vo(u))continue;const i=t[u];let c;r&&me(r,c=Ct(u))?!l||!l.includes(c)?n[c]=i:(s||(s={}))[c]=i:ir(e.emitsOptions,u)||(!(u in o)||i!==o[u])&&(o[u]=i,a=!0)}if(l){const u=be(n),i=s||Re;for(let c=0;c<l.length;c++){const p=l[c];n[p]=tl(r,u,p,i[p],e,!me(i,p))}}return a}function tl(e,t,n,o,r,l){const a=e[n];if(a!=null){const s=me(a,"default");if(s&&o===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&ie(u)){const{propsDefaults:i}=r;n in i?o=i[n]:(Mn(r),o=i[n]=u.call(null,t),vn())}else o=u}a[0]&&(l&&!s?o=!1:a[1]&&(o===""||o===hn(n))&&(o=!0))}return o}function ku(e,t,n=!1){const o=t.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},s=[];let u=!1;if(!ie(e)){const c=p=>{u=!0;const[m,b]=ku(p,t,!0);je(a,m),b&&s.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!u)return Ee(e)&&o.set(e,Cn),Cn;if(le(l))for(let c=0;c<l.length;c++){const p=Ct(l[c]);Ea(p)&&(a[p]=Re)}else if(l)for(const c in l){const p=Ct(c);if(Ea(p)){const m=l[c],b=a[p]=le(m)||ie(m)?{type:m}:je({},m);if(b){const h=$a(Boolean,b.type),_=$a(String,b.type);b[0]=h>-1,b[1]=_<0||h<_,(h>-1||me(b,"default"))&&s.push(p)}}}const i=[a,s];return Ee(e)&&o.set(e,i),i}function Ea(e){return e[0]!=="$"}function Ca(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Aa(e,t){return Ca(e)===Ca(t)}function $a(e,t){return le(t)?t.findIndex(n=>Aa(n,e)):ie(t)&&Aa(t,e)?0:-1}const Su=e=>e[0]==="_"||e==="$stable",jl=e=>le(e)?e.map(Ot):[Ot(e)],bd=(e,t,n)=>{if(t._n)return t;const o=y((...r)=>jl(t(...r)),n);return o._c=!1,o},Eu=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Su(r))continue;const l=e[r];if(ie(l))t[r]=bd(r,l,o);else if(l!=null){const a=jl(l);t[r]=()=>a}}},Cu=(e,t)=>{const n=jl(t);e.slots.default=()=>n},gd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),Lo(t,"_",n)):Eu(t,e.slots={})}else e.slots={},t&&Cu(e,t);Lo(e.slots,fr,1)},_d=(e,t,n)=>{const{vnode:o,slots:r}=e;let l=!0,a=Re;if(o.shapeFlag&32){const s=t._;s?n&&s===1?l=!1:(je(r,t),!n&&s===1&&delete r._):(l=!t.$stable,Eu(t,r)),a=t}else t&&(Cu(e,t),a={default:1});if(l)for(const s in r)!Su(s)&&!(s in a)&&delete r[s]};function nl(e,t,n,o,r=!1){if(le(e)){e.forEach((m,b)=>nl(m,t&&(le(t)?t[b]:t),n,o,r));return}if(eo(o)&&!r)return;const l=o.shapeFlag&4?mr(o.component)||o.component.proxy:o.el,a=r?null:l,{i:s,r:u}=e,i=t&&t.r,c=s.refs===Re?s.refs={}:s.refs,p=s.setupState;if(i!=null&&i!==u&&(qe(i)?(c[i]=null,me(p,i)&&(p[i]=null)):Me(i)&&(i.value=null)),ie(u))Xt(u,s,12,[a,c]);else{const m=qe(u),b=Me(u);if(m||b){const h=()=>{if(e.f){const _=m?me(p,u)?p[u]:c[u]:u.value;r?le(_)&&kl(_,l):le(_)?_.includes(l)||_.push(l):m?(c[u]=[l],me(p,u)&&(p[u]=c[u])):(u.value=[l],e.k&&(c[e.k]=u.value))}else m?(c[u]=a,me(p,u)&&(p[u]=a)):b&&(u.value=a,e.k&&(c[e.k]=a))};a?(h.id=-1,Xe(h,n)):h()}}}const Xe=Qc;function wd(e){return Od(e)}function Od(e,t){const n=Kr();n.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:s,createComment:u,setText:i,setElementText:c,parentNode:p,nextSibling:m,setScopeId:b=vt,insertStaticContent:h}=e,_=(O,E,x,U=null,D=null,F=null,Q=!1,H=null,K=!!E.dynamicChildren)=>{if(O===E)return;O&&!Jn(O,E)&&(U=j(O),Ge(O,D,F,!0),O=null),E.patchFlag===-2&&(K=!1,E.dynamicChildren=null);const{type:z,ref:oe,shapeFlag:Z}=E;switch(z){case pr:R(O,E,x,U);break;case tn:P(O,E,x,U);break;case Pr:O==null&&T(E,x,U,Q);break;case G:Ye(O,E,x,U,D,F,Q,H,K);break;default:Z&1?X(O,E,x,U,D,F,Q,H,K):Z&6?ct(O,E,x,U,D,F,Q,H,K):(Z&64||Z&128)&&z.process(O,E,x,U,D,F,Q,H,K,J)}oe!=null&&D&&nl(oe,O&&O.ref,F,E||O,!E)},R=(O,E,x,U)=>{if(O==null)o(E.el=s(E.children),x,U);else{const D=E.el=O.el;E.children!==O.children&&i(D,E.children)}},P=(O,E,x,U)=>{O==null?o(E.el=u(E.children||""),x,U):E.el=O.el},T=(O,E,x,U)=>{[O.el,O.anchor]=h(O.children,E,x,U,O.el,O.anchor)},q=({el:O,anchor:E},x,U)=>{let D;for(;O&&O!==E;)D=m(O),o(O,x,U),O=D;o(E,x,U)},M=({el:O,anchor:E})=>{let x;for(;O&&O!==E;)x=m(O),r(O),O=x;r(E)},X=(O,E,x,U,D,F,Q,H,K)=>{Q=Q||E.type==="svg",O==null?pe(E,x,U,D,F,Q,H,K):ae(O,E,D,F,Q,H,K)},pe=(O,E,x,U,D,F,Q,H)=>{let K,z;const{type:oe,props:Z,shapeFlag:re,transition:ue,dirs:fe}=O;if(K=O.el=a(O.type,F,Z&&Z.is,Z),re&8?c(K,O.children):re&16&&ne(O.children,K,null,U,D,F&&oe!=="foreignObject",Q,H),fe&&an(O,null,U,"created"),de(K,O,O.scopeId,Q,U),Z){for(const ke in Z)ke!=="value"&&!Vo(ke)&&l(K,ke,null,Z[ke],F,O.children,U,D,We);"value"in Z&&l(K,"value",null,Z.value),(z=Z.onVnodeBeforeMount)&&wt(z,U,O)}fe&&an(O,null,U,"beforeMount");const xe=(!D||D&&!D.pendingBranch)&&ue&&!ue.persisted;xe&&ue.beforeEnter(K),o(K,E,x),((z=Z&&Z.onVnodeMounted)||xe||fe)&&Xe(()=>{z&&wt(z,U,O),xe&&ue.enter(K),fe&&an(O,null,U,"mounted")},D)},de=(O,E,x,U,D)=>{if(x&&b(O,x),U)for(let F=0;F<U.length;F++)b(O,U[F]);if(D){let F=D.subTree;if(E===F){const Q=D.vnode;de(O,Q,Q.scopeId,Q.slotScopeIds,D.parent)}}},ne=(O,E,x,U,D,F,Q,H,K=0)=>{for(let z=K;z<O.length;z++){const oe=O[z]=H?Qt(O[z]):Ot(O[z]);_(null,oe,E,x,U,D,F,Q,H)}},ae=(O,E,x,U,D,F,Q)=>{const H=E.el=O.el;let{patchFlag:K,dynamicChildren:z,dirs:oe}=E;K|=O.patchFlag&16;const Z=O.props||Re,re=E.props||Re;let ue;x&&sn(x,!1),(ue=re.onVnodeBeforeUpdate)&&wt(ue,x,E,O),oe&&an(E,O,x,"beforeUpdate"),x&&sn(x,!0);const fe=D&&E.type!=="foreignObject";if(z?$e(O.dynamicChildren,z,H,x,U,fe,F):Q||ge(O,E,H,null,x,U,fe,F,!1),K>0){if(K&16)at(H,E,Z,re,x,U,D);else if(K&2&&Z.class!==re.class&&l(H,"class",null,re.class,D),K&4&&l(H,"style",Z.style,re.style,D),K&8){const xe=E.dynamicProps;for(let ke=0;ke<xe.length;ke++){const Te=xe[ke],pt=Z[Te],On=re[Te];(On!==pt||Te==="value")&&l(H,Te,pt,On,D,O.children,x,U,We)}}K&1&&O.children!==E.children&&c(H,E.children)}else!Q&&z==null&&at(H,E,Z,re,x,U,D);((ue=re.onVnodeUpdated)||oe)&&Xe(()=>{ue&&wt(ue,x,E,O),oe&&an(E,O,x,"updated")},U)},$e=(O,E,x,U,D,F,Q)=>{for(let H=0;H<E.length;H++){const K=O[H],z=E[H],oe=K.el&&(K.type===G||!Jn(K,z)||K.shapeFlag&70)?p(K.el):x;_(K,z,oe,null,U,D,F,Q,!0)}},at=(O,E,x,U,D,F,Q)=>{if(x!==U){if(x!==Re)for(const H in x)!Vo(H)&&!(H in U)&&l(O,H,x[H],null,Q,E.children,D,F,We);for(const H in U){if(Vo(H))continue;const K=U[H],z=x[H];K!==z&&H!=="value"&&l(O,H,z,K,Q,E.children,D,F,We)}"value"in U&&l(O,"value",x.value,U.value)}},Ye=(O,E,x,U,D,F,Q,H,K)=>{const z=E.el=O?O.el:s(""),oe=E.anchor=O?O.anchor:s("");let{patchFlag:Z,dynamicChildren:re,slotScopeIds:ue}=E;ue&&(H=H?H.concat(ue):ue),O==null?(o(z,x,U),o(oe,x,U),ne(E.children,x,oe,D,F,Q,H,K)):Z>0&&Z&64&&re&&O.dynamicChildren?($e(O.dynamicChildren,re,x,D,F,Q,H),(E.key!=null||D&&E===D.subTree)&&Au(O,E,!0)):ge(O,E,x,oe,D,F,Q,H,K)},ct=(O,E,x,U,D,F,Q,H,K)=>{E.slotScopeIds=H,O==null?E.shapeFlag&512?D.ctx.activate(E,x,U,Q,K):De(E,x,U,D,F,Q,K):dt(O,E,K)},De=(O,E,x,U,D,F,Q)=>{const H=O.component=Id(O,U,D);if(fu(O)&&(H.ctx.renderer=J),Vd(H),H.asyncDep){if(D&&D.registerDep(H,Pe),!O.el){const K=H.subTree=f(tn);P(null,K,E,x)}return}Pe(H,O,E,x,D,F,Q)},dt=(O,E,x)=>{const U=E.component=O.component;if(Hc(O,E,x))if(U.asyncDep&&!U.asyncResolved){Se(U,E,x);return}else U.next=E,jc(U.update),U.update();else E.el=O.el,U.vnode=E},Pe=(O,E,x,U,D,F,Q)=>{const H=()=>{if(O.isMounted){let{next:oe,bu:Z,u:re,parent:ue,vnode:fe}=O,xe=oe,ke;sn(O,!1),oe?(oe.el=fe.el,Se(O,oe,Q)):oe=fe,Z&&Po(Z),(ke=oe.props&&oe.props.onVnodeBeforeUpdate)&&wt(ke,ue,oe,fe),sn(O,!0);const Te=Ir(O),pt=O.subTree;O.subTree=Te,_(pt,Te,p(pt.el),j(pt),O,D,F),oe.el=Te.el,xe===null&&Kc(O,Te.el),re&&Xe(re,D),(ke=oe.props&&oe.props.onVnodeUpdated)&&Xe(()=>wt(ke,ue,oe,fe),D)}else{let oe;const{el:Z,props:re}=E,{bm:ue,m:fe,parent:xe}=O,ke=eo(E);if(sn(O,!1),ue&&Po(ue),!ke&&(oe=re&&re.onVnodeBeforeMount)&&wt(oe,xe,E),sn(O,!0),Z&&_e){const Te=()=>{O.subTree=Ir(O),_e(Z,O.subTree,O,D,null)};ke?E.type.__asyncLoader().then(()=>!O.isUnmounted&&Te()):Te()}else{const Te=O.subTree=Ir(O);_(null,Te,x,U,O,D,F),E.el=Te.el}if(fe&&Xe(fe,D),!ke&&(oe=re&&re.onVnodeMounted)){const Te=E;Xe(()=>wt(oe,xe,Te),D)}(E.shapeFlag&256||xe&&eo(xe.vnode)&&xe.vnode.shapeFlag&256)&&O.a&&Xe(O.a,D),O.isMounted=!0,E=x=U=null}},K=O.effect=new Al(H,()=>ql(z),O.scope),z=O.update=()=>K.run();z.id=O.uid,sn(O,!0),z()},Se=(O,E,x)=>{E.component=O;const U=O.vnode.props;O.vnode=E,O.next=null,hd(O,E.props,U,x),_d(O,E.children,x),Dn(),ba(),Bn()},ge=(O,E,x,U,D,F,Q,H,K=!1)=>{const z=O&&O.children,oe=O?O.shapeFlag:0,Z=E.children,{patchFlag:re,shapeFlag:ue}=E;if(re>0){if(re&128){Lt(z,Z,x,U,D,F,Q,H,K);return}else if(re&256){$t(z,Z,x,U,D,F,Q,H,K);return}}ue&8?(oe&16&&We(z,D,F),Z!==z&&c(x,Z)):oe&16?ue&16?Lt(z,Z,x,U,D,F,Q,H,K):We(z,D,F,!0):(oe&8&&c(x,""),ue&16&&ne(Z,x,U,D,F,Q,H,K))},$t=(O,E,x,U,D,F,Q,H,K)=>{O=O||Cn,E=E||Cn;const z=O.length,oe=E.length,Z=Math.min(z,oe);let re;for(re=0;re<Z;re++){const ue=E[re]=K?Qt(E[re]):Ot(E[re]);_(O[re],ue,x,null,D,F,Q,H,K)}z>oe?We(O,D,F,!0,!1,Z):ne(E,x,U,D,F,Q,H,K,Z)},Lt=(O,E,x,U,D,F,Q,H,K)=>{let z=0;const oe=E.length;let Z=O.length-1,re=oe-1;for(;z<=Z&&z<=re;){const ue=O[z],fe=E[z]=K?Qt(E[z]):Ot(E[z]);if(Jn(ue,fe))_(ue,fe,x,null,D,F,Q,H,K);else break;z++}for(;z<=Z&&z<=re;){const ue=O[Z],fe=E[re]=K?Qt(E[re]):Ot(E[re]);if(Jn(ue,fe))_(ue,fe,x,null,D,F,Q,H,K);else break;Z--,re--}if(z>Z){if(z<=re){const ue=re+1,fe=ue<oe?E[ue].el:U;for(;z<=re;)_(null,E[z]=K?Qt(E[z]):Ot(E[z]),x,fe,D,F,Q,H,K),z++}}else if(z>re)for(;z<=Z;)Ge(O[z],D,F,!0),z++;else{const ue=z,fe=z,xe=new Map;for(z=fe;z<=re;z++){const nt=E[z]=K?Qt(E[z]):Ot(E[z]);nt.key!=null&&xe.set(nt.key,z)}let ke,Te=0;const pt=re-fe+1;let On=!1,aa=0;const Kn=new Array(pt);for(z=0;z<pt;z++)Kn[z]=0;for(z=ue;z<=Z;z++){const nt=O[z];if(Te>=pt){Ge(nt,D,F,!0);continue}let _t;if(nt.key!=null)_t=xe.get(nt.key);else for(ke=fe;ke<=re;ke++)if(Kn[ke-fe]===0&&Jn(nt,E[ke])){_t=ke;break}_t===void 0?Ge(nt,D,F,!0):(Kn[_t-fe]=z+1,_t>=aa?aa=_t:On=!0,_(nt,E[_t],x,null,D,F,Q,H,K),Te++)}const sa=On?kd(Kn):Cn;for(ke=sa.length-1,z=pt-1;z>=0;z--){const nt=fe+z,_t=E[nt],ua=nt+1<oe?E[nt+1].el:U;Kn[z]===0?_(null,_t,x,ua,D,F,Q,H,K):On&&(ke<0||z!==sa[ke]?gt(_t,x,ua,2):ke--)}}},gt=(O,E,x,U,D=null)=>{const{el:F,type:Q,transition:H,children:K,shapeFlag:z}=O;if(z&6){gt(O.component.subTree,E,x,U);return}if(z&128){O.suspense.move(E,x,U);return}if(z&64){Q.move(O,E,x,J);return}if(Q===G){o(F,E,x);for(let Z=0;Z<K.length;Z++)gt(K[Z],E,x,U);o(O.anchor,E,x);return}if(Q===Pr){q(O,E,x);return}if(U!==2&&z&1&&H)if(U===0)H.beforeEnter(F),o(F,E,x),Xe(()=>H.enter(F),D);else{const{leave:Z,delayLeave:re,afterLeave:ue}=H,fe=()=>o(F,E,x),xe=()=>{Z(F,()=>{fe(),ue&&ue()})};re?re(F,fe,xe):xe()}else o(F,E,x)},Ge=(O,E,x,U=!1,D=!1)=>{const{type:F,props:Q,ref:H,children:K,dynamicChildren:z,shapeFlag:oe,patchFlag:Z,dirs:re}=O;if(H!=null&&nl(H,null,x,O,!0),oe&256){E.ctx.deactivate(O);return}const ue=oe&1&&re,fe=!eo(O);let xe;if(fe&&(xe=Q&&Q.onVnodeBeforeUnmount)&&wt(xe,E,O),oe&6)go(O.component,x,U);else{if(oe&128){O.suspense.unmount(x,U);return}ue&&an(O,null,E,"beforeUnmount"),oe&64?O.type.remove(O,E,x,D,J,U):z&&(F!==G||Z>0&&Z&64)?We(z,E,x,!1,!0):(F===G&&Z&384||!D&&oe&16)&&We(K,E,x),U&&_n(O)}(fe&&(xe=Q&&Q.onVnodeUnmounted)||ue)&&Xe(()=>{xe&&wt(xe,E,O),ue&&an(O,null,E,"unmounted")},x)},_n=O=>{const{type:E,el:x,anchor:U,transition:D}=O;if(E===G){wn(x,U);return}if(E===Pr){M(O);return}const F=()=>{r(x),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(O.shapeFlag&1&&D&&!D.persisted){const{leave:Q,delayLeave:H}=D,K=()=>Q(x,F);H?H(O.el,F,K):K()}else F()},wn=(O,E)=>{let x;for(;O!==E;)x=m(O),r(O),O=x;r(E)},go=(O,E,x)=>{const{bum:U,scope:D,update:F,subTree:Q,um:H}=O;U&&Po(U),D.stop(),F&&(F.active=!1,Ge(Q,O,E,x)),H&&Xe(H,E),Xe(()=>{O.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},We=(O,E,x,U=!1,D=!1,F=0)=>{for(let Q=F;Q<O.length;Q++)Ge(O[Q],E,x,U,D)},j=O=>O.shapeFlag&6?j(O.component.subTree):O.shapeFlag&128?O.suspense.next():m(O.anchor||O.el),Y=(O,E,x)=>{O==null?E._vnode&&Ge(E._vnode,null,null,!0):_(E._vnode||null,O,E,null,null,null,x),ba(),au(),E._vnode=O},J={p:_,um:Ge,m:gt,r:_n,mt:De,mc:ne,pc:ge,pbc:$e,n:j,o:e};let ee,_e;return t&&([ee,_e]=t(J)),{render:Y,hydrate:ee,createApp:vd(Y,ee)}}function sn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Au(e,t,n=!1){const o=e.children,r=t.children;if(le(o)&&le(r))for(let l=0;l<o.length;l++){const a=o[l];let s=r[l];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[l]=Qt(r[l]),s.el=a.el),n||Au(a,s)),s.type===pr&&(s.el=a.el)}}function kd(e){const t=e.slice(),n=[0];let o,r,l,a,s;const u=e.length;for(o=0;o<u;o++){const i=e[o];if(i!==0){if(r=n[n.length-1],e[r]<i){t[o]=r,n.push(o);continue}for(l=0,a=n.length-1;l<a;)s=l+a>>1,e[n[s]]<i?l=s+1:a=s;i<e[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,a=n[l-1];l-- >0;)n[l]=a,a=t[a];return n}const Sd=e=>e.__isTeleport,G=Symbol.for("v-fgt"),pr=Symbol.for("v-txt"),tn=Symbol.for("v-cmt"),Pr=Symbol.for("v-stc"),no=[];let mt=null;function v(e=!1){no.push(mt=e?null:[])}function Ed(){no.pop(),mt=no[no.length-1]||null}let co=1;function xa(e){co+=e}function $u(e){return e.dynamicChildren=co>0?mt||Cn:null,Ed(),co>0&&mt&&mt.push(e),e}function A(e,t,n,o,r,l){return $u(g(e,t,n,o,r,l,!0))}function w(e,t,n,o,r){return $u(f(e,t,n,o,r,!0))}function Ho(e){return e?e.__v_isVNode===!0:!1}function Jn(e,t){return e.type===t.type&&e.key===t.key}const fr="__vInternal",xu=({key:e})=>e??null,Mo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qe(e)||Me(e)||ie(e)?{i:Be,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,o=0,r=null,l=e===G?0:1,a=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xu(t),ref:t&&Mo(t),scopeId:iu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return s?(Dl(u,n),l&128&&e.normalize(u)):n&&(u.shapeFlag|=qe(n)?8:16),co>0&&!a&&mt&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&mt.push(u),u}const f=Cd;function Cd(e,t=null,n=null,o=0,r=null,l=!1){if((!e||e===hu)&&(e=tn),Ho(e)){const s=Pn(e,t,!0);return n&&Dl(s,n),co>0&&!l&&mt&&(s.shapeFlag&6?mt[mt.indexOf(e)]=s:mt.push(s)),s.patchFlag|=-2,s}if(qd(e)&&(e=e.__vccOpts),t){t=Ad(t);let{class:s,style:u}=t;s&&!qe(s)&&(t.class=Fe(s)),Ee(u)&&(Zs(u)&&!le(u)&&(u=je({},u)),t.style=rr(u))}const a=qe(e)?1:Jc(e)?128:Sd(e)?64:Ee(e)?4:ie(e)?2:0;return g(e,t,n,o,r,a,l,!0)}function Ad(e){return e?Zs(e)||fr in e?je({},e):e:null}function Pn(e,t,n=!1){const{props:o,ref:r,patchFlag:l,children:a}=e,s=t?$d(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&xu(s),ref:t&&t.ref?n&&r?le(r)?r.concat(Mo(t)):[r,Mo(t)]:Mo(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==G?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function S(e=" ",t=0){return f(pr,null,e,t)}function $(e="",t=!1){return t?(v(),w(tn,null,e)):f(tn,null,e)}function Ot(e){return e==null||typeof e=="boolean"?f(tn):le(e)?f(G,null,e.slice()):typeof e=="object"?Qt(e):f(pr,null,String(e))}function Qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Dl(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(le(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Dl(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(fr in t)?t._ctx=Be:r===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:Be},n=32):(t=String(t),o&64?(n=16,t=[S(t)]):n=8);e.children=t,e.shapeFlag|=n}function $d(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Fe([t.class,o.class]));else if(r==="style")t.style=rr([t.style,o.style]);else if(tr(r)){const l=t[r],a=o[r];a&&l!==a&&!(le(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=o[r])}return t}function wt(e,t,n,o=null){yt(e,t,7,[n,o])}const xd=wu();let Rd=0;function Id(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||xd,l={uid:Rd++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ku(o,r),emitsOptions:uu(o,r),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:o.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Fc.bind(null,l),e.ce&&e.ce(l),l}let Le=null;const Ru=()=>Le||Be;let Bl,kn,Ra="__VUE_INSTANCE_SETTERS__";(kn=Kr()[Ra])||(kn=Kr()[Ra]=[]),kn.push(e=>Le=e),Bl=e=>{kn.length>1?kn.forEach(t=>t(e)):kn[0](e)};const Mn=e=>{Bl(e),e.scope.on()},vn=()=>{Le&&Le.scope.off(),Bl(null)};function Iu(e){return e.vnode.shapeFlag&4}let po=!1;function Vd(e,t=!1){po=t;const{props:n,children:o}=e.vnode,r=Iu(e);yd(e,n,r,t),gd(e,o);const l=r?Pd(e,t):void 0;return po=!1,l}function Pd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=eu(new Proxy(e.ctx,sd));const{setup:o}=n;if(o){const r=e.setupContext=o.length>1?Pu(e):null;Mn(e),Dn();const l=Xt(o,e,0,[e.props,r]);if(Bn(),vn(),qs(l)){if(l.then(vn,vn),t)return l.then(a=>{Ia(e,a,t)}).catch(a=>{sr(a,e,0)});e.asyncDep=l}else Ia(e,l,t)}else Vu(e,t)}function Ia(e,t,n){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=ou(t)),Vu(e,n)}let Va;function Vu(e,t,n){const o=e.type;if(!e.render){if(!t&&Va&&!o.render){const r=o.template||Ll(e).template;if(r){const{isCustomElement:l,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:u}=o,i=je(je({isCustomElement:l,delimiters:s},a),u);o.render=Va(r,i)}}e.render=o.render||vt}Mn(e),Dn(),id(e),Bn(),vn()}function Md(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tt(e,"get","$attrs"),t[n]}}))}function Pu(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Md(e)},slots:e.slots,emit:e.emit,expose:t}}function mr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ou(eu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in to)return to[n](e)},has(t,n){return n in t||n in to}}))}function Td(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function qd(e){return ie(e)&&"__vccOpts"in e}const V=(e,t)=>Nc(e,t,po);function Mu(e,t,n){const o=arguments.length;return o===2?Ee(t)&&!le(t)?Ho(t)?f(e,null,[t]):f(e,t):f(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ho(n)&&(n=[n]),f(e,t,n))}const Nd=Symbol.for("v-scx"),Ud=()=>lt(Nd),Ld="3.3.4",jd="http://www.w3.org/2000/svg",dn=typeof document<"u"?document:null,Pa=dn&&dn.createElement("template"),Dd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?dn.createElementNS(jd,e):dn.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>dn.createTextNode(e),createComment:e=>dn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>dn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,l){const a=n?n.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===l||!(r=r.nextSibling)););else{Pa.innerHTML=o?`<svg>${e}</svg>`:e;const s=Pa.content;if(o){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Bd(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Fd(e,t,n){const o=e.style,r=qe(n);if(n&&!r){if(t&&!qe(t))for(const l in t)n[l]==null&&ol(o,l,"");for(const l in n)ol(o,l,n[l])}else{const l=o.display;r?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=l)}}const Ma=/\s*!important$/;function ol(e,t,n){if(le(n))n.forEach(o=>ol(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=zd(e,t);Ma.test(n)?e.setProperty(hn(o),n.replace(Ma,""),"important"):e[o]=n}}const Ta=["Webkit","Moz","ms"],Mr={};function zd(e,t){const n=Mr[t];if(n)return n;let o=Ct(t);if(o!=="filter"&&o in e)return Mr[t]=o;o=or(o);for(let r=0;r<Ta.length;r++){const l=Ta[r]+o;if(l in e)return Mr[t]=l}return t}const qa="http://www.w3.org/1999/xlink";function Wd(e,t,n,o,r){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(qa,t.slice(6,t.length)):e.setAttributeNS(qa,t,n);else{const l=Yi(t);n==null||l&&!Ls(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function Hd(e,t,n,o,r,l,a){if(t==="innerHTML"||t==="textContent"){o&&a(o,r,l),e[t]=n??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=n;const i=s==="OPTION"?e.getAttribute("value"):e.value,c=n??"";i!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Ls(n):n==null&&i==="string"?(n="",u=!0):i==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Pt(e,t,n,o){e.addEventListener(t,n,o)}function Kd(e,t,n,o){e.removeEventListener(t,n,o)}function Jd(e,t,n,o,r=null){const l=e._vei||(e._vei={}),a=l[t];if(o&&a)a.value=o;else{const[s,u]=Qd(t);if(o){const i=l[t]=Xd(o,r);Pt(e,s,i,u)}else a&&(Kd(e,s,a,u),l[t]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function Qd(e){let t;if(Na.test(e)){t={};let o;for(;o=e.match(Na);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hn(e.slice(2)),t]}let Tr=0;const Yd=Promise.resolve(),Gd=()=>Tr||(Yd.then(()=>Tr=0),Tr=Date.now());function Xd(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;yt(Zd(o,n.value),t,5,[o])};return n.value=e,n.attached=Gd(),n}function Zd(e,t){if(le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Ua=/^on[a-z]/,ep=(e,t,n,o,r=!1,l,a,s,u)=>{t==="class"?Bd(e,o,r):t==="style"?Fd(e,n,o):tr(t)?Ol(t)||Jd(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tp(e,t,o,r))?Hd(e,t,o,l,a,s,u):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Wd(e,t,o,r))};function tp(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&Ua.test(t)&&ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ua.test(t)&&qe(n)?!1:t in e}const nn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?n=>Po(t,n):t};function np(e){e.target.composing=!0}function La(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ko={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e._assign=nn(r);const l=o||r.props&&r.props.type==="number";Pt(e,t?"change":"input",a=>{if(a.target.composing)return;let s=e.value;n&&(s=s.trim()),l&&(s=jo(s)),e._assign(s)}),n&&Pt(e,"change",()=>{e.value=e.value.trim()}),t||(Pt(e,"compositionstart",np),Pt(e,"compositionend",La),Pt(e,"change",La))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:r}},l){if(e._assign=nn(l),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(r||e.type==="number")&&jo(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},Fl={deep:!0,created(e,t,n){e._assign=nn(n),Pt(e,"change",()=>{const o=e._modelValue,r=Tn(e),l=e.checked,a=e._assign;if(le(o)){const s=El(o,r),u=s!==-1;if(l&&!u)a(o.concat(r));else if(!l&&u){const i=[...o];i.splice(s,1),a(i)}}else if(jn(o)){const s=new Set(o);l?s.add(r):s.delete(r),a(s)}else a(Tu(e,l))})},mounted:ja,beforeUpdate(e,t,n){e._assign=nn(n),ja(e,t,n)}};function ja(e,{value:t,oldValue:n},o){e._modelValue=t,le(t)?e.checked=El(t,o.props.value)>-1:jn(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=yn(t,Tu(e,!0)))}const op={created(e,{value:t},n){e.checked=yn(t,n.props.value),e._assign=nn(n),Pt(e,"change",()=>{e._assign(Tn(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=nn(o),t!==n&&(e.checked=yn(t,o.props.value))}},zl={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=jn(t);Pt(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?jo(Tn(a)):Tn(a));e._assign(e.multiple?r?new Set(l):l:l[0])}),e._assign=nn(o)},mounted(e,{value:t}){Da(e,t)},beforeUpdate(e,t,n){e._assign=nn(n)},updated(e,{value:t}){Da(e,t)}};function Da(e,t){const n=e.multiple;if(!(n&&!le(t)&&!jn(t))){for(let o=0,r=e.options.length;o<r;o++){const l=e.options[o],a=Tn(l);if(n)le(t)?l.selected=El(t,a)>-1:l.selected=t.has(a);else if(yn(Tn(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Tn(e){return"_value"in e?e._value:e.value}function Tu(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qu={created(e,t,n){Co(e,t,n,null,"created")},mounted(e,t,n){Co(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){Co(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){Co(e,t,n,o,"updated")}};function rp(e,t){switch(e){case"SELECT":return zl;case"TEXTAREA":return Ko;default:switch(t){case"checkbox":return Fl;case"radio":return op;default:return Ko}}}function Co(e,t,n,o,r){const a=rp(e.tagName,n.props&&n.props.type)[r];a&&a(e,t,n,o)}const lp=["ctrl","shift","alt","meta"],ap={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lp.some(n=>e[`${n}Key`]&&!t.includes(n))},ce=(e,t)=>(n,...o)=>{for(let r=0;r<t.length;r++){const l=ap[t[r]];if(l&&l(n,t))return}return e(n,...o)},sp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rl=(e,t)=>n=>{if(!("key"in n))return;const o=hn(n.key);if(t.some(r=>r===o||sp[r]===o))return e(n)},up=je({patchProp:ep},Dd);let Ba;function ip(){return Ba||(Ba=wd(up))}const cp=(...e)=>{const t=ip().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=dp(o);if(!r)return;const l=t._component;!ie(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function dp(e){return qe(e)?document.querySelector(e):e}const pp=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},fp={};function mp(e,t){const n=bn("RouterView");return v(),w(n)}const vp=pp(fp,[["render",mp]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const En=typeof window<"u";function yp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Oe=Object.assign;function qr(e,t){const n={};for(const o in t){const r=t[o];n[o]=ht(r)?r.map(e):e(r)}return n}const oo=()=>{},ht=Array.isArray,hp=/\/$/,bp=e=>e.replace(hp,"");function Nr(e,t,n="/"){let o,r={},l="",a="";const s=t.indexOf("#");let u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(o=t.slice(0,u),l=t.slice(u+1,s>-1?s:t.length),r=e(l)),s>-1&&(o=o||t.slice(0,s),a=t.slice(s,t.length)),o=Op(o??t,n),{fullPath:o+(l&&"?")+l+a,path:o,query:r,hash:a}}function gp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Fa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _p(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&qn(t.matched[o],n.matched[r])&&Nu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function qn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wp(e[n],t[n]))return!1;return!0}function wp(e,t){return ht(e)?za(e,t):ht(t)?za(t,e):e===t}function za(e,t){return ht(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Op(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=n.length-1,a,s;for(a=0;a<o.length;a++)if(s=o[a],s!==".")if(s==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+o.slice(a-(a===o.length?1:0)).join("/")}var fo;(function(e){e.pop="pop",e.push="push"})(fo||(fo={}));var ro;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ro||(ro={}));function kp(e){if(!e)if(En){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bp(e)}const Sp=/^[^#]+#/;function Ep(e,t){return e.replace(Sp,"#")+t}function Cp(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const vr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ap(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Cp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Wa(e,t){return(history.state?history.state.position-t:-1)+e}const ll=new Map;function $p(e,t){ll.set(e,t)}function xp(e){const t=ll.get(e);return ll.delete(e),t}let Rp=()=>location.protocol+"//"+location.host;function Uu(e,t){const{pathname:n,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let s=r.includes(e.slice(l))?e.slice(l).length:1,u=r.slice(s);return u[0]!=="/"&&(u="/"+u),Fa(u,"")}return Fa(n,e)+o+r}function Ip(e,t,n,o){let r=[],l=[],a=null;const s=({state:m})=>{const b=Uu(e,location),h=n.value,_=t.value;let R=0;if(m){if(n.value=b,t.value=m,a&&a===h){a=null;return}R=_?m.position-_.position:0}else o(b);r.forEach(P=>{P(n.value,h,{delta:R,type:fo.pop,direction:R?R>0?ro.forward:ro.back:ro.unknown})})};function u(){a=n.value}function i(m){r.push(m);const b=()=>{const h=r.indexOf(m);h>-1&&r.splice(h,1)};return l.push(b),b}function c(){const{history:m}=window;m.state&&m.replaceState(Oe({},m.state,{scroll:vr()}),"")}function p(){for(const m of l)m();l=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:i,destroy:p}}function Ha(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?vr():null}}function Vp(e){const{history:t,location:n}=window,o={value:Uu(e,n)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,i,c){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+u:Rp()+e+u;try{t[c?"replaceState":"pushState"](i,"",m),r.value=i}catch(b){console.error(b),n[c?"replace":"assign"](m)}}function a(u,i){const c=Oe({},t.state,Ha(r.value.back,u,r.value.forward,!0),i,{position:r.value.position});l(u,c,!0),o.value=u}function s(u,i){const c=Oe({},r.value,t.state,{forward:u,scroll:vr()});l(c.current,c,!0);const p=Oe({},Ha(o.value,u,null),{position:c.position+1},i);l(u,p,!1),o.value=u}return{location:o,state:r,push:s,replace:a}}function Pp(e){e=kp(e);const t=Vp(e),n=Ip(e,t.state,t.location,t.replace);function o(l,a=!0){a||n.pauseListeners(),history.go(l)}const r=Oe({location:"",base:e,go:o,createHref:Ep.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Mp(e){return typeof e=="string"||e&&typeof e=="object"}function Lu(e){return typeof e=="string"||typeof e=="symbol"}const Dt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ju=Symbol("");var Ka;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ka||(Ka={}));function Nn(e,t){return Oe(new Error,{type:e,[ju]:!0},t)}function xt(e,t){return e instanceof Error&&ju in e&&(t==null||!!(e.type&t))}const Ja="[^/]+?",Tp={sensitive:!1,strict:!1,start:!0,end:!0},qp=/[.+*?^${}()[\]/\\]/g;function Np(e,t){const n=Oe({},Tp,t),o=[];let r=n.start?"^":"";const l=[];for(const i of e){const c=i.length?[]:[90];n.strict&&!i.length&&(r+="/");for(let p=0;p<i.length;p++){const m=i[p];let b=40+(n.sensitive?.25:0);if(m.type===0)p||(r+="/"),r+=m.value.replace(qp,"\\$&"),b+=40;else if(m.type===1){const{value:h,repeatable:_,optional:R,regexp:P}=m;l.push({name:h,repeatable:_,optional:R});const T=P||Ja;if(T!==Ja){b+=10;try{new RegExp(`(${T})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${h}" (${T}): `+M.message)}}let q=_?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;p||(q=R&&i.length<2?`(?:/${q})`:"/"+q),R&&(q+="?"),r+=q,b+=20,R&&(b+=-8),_&&(b+=-20),T===".*"&&(b+=-50)}c.push(b)}o.push(c)}if(n.strict&&n.end){const i=o.length-1;o[i][o[i].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function s(i){const c=i.match(a),p={};if(!c)return null;for(let m=1;m<c.length;m++){const b=c[m]||"",h=l[m-1];p[h.name]=b&&h.repeatable?b.split("/"):b}return p}function u(i){let c="",p=!1;for(const m of e){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const b of m)if(b.type===0)c+=b.value;else if(b.type===1){const{value:h,repeatable:_,optional:R}=b,P=h in i?i[h]:"";if(ht(P)&&!_)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const T=ht(P)?P.join("/"):P;if(!T)if(R)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${h}"`);c+=T}}return c||"/"}return{re:a,score:o,keys:l,parse:s,stringify:u}}function Up(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Lp(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const l=Up(o[n],r[n]);if(l)return l;n++}if(Math.abs(r.length-o.length)===1){if(Qa(o))return 1;if(Qa(r))return-1}return r.length-o.length}function Qa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jp={type:0,value:""},Dp=/[a-zA-Z0-9_]/;function Bp(e){if(!e)return[[]];if(e==="/")return[[jp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${i}": ${b}`)}let n=0,o=n;const r=[];let l;function a(){l&&r.push(l),l=[]}let s=0,u,i="",c="";function p(){i&&(n===0?l.push({type:0,value:i}):n===1||n===2||n===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:i,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),i="")}function m(){i+=u}for(;s<e.length;){if(u=e[s++],u==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:u==="/"?(i&&p(),a()):u===":"?(p(),n=1):m();break;case 4:m(),n=o;break;case 1:u==="("?n=2:Dp.test(u)?m():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${i}"`),p(),a(),r}function Fp(e,t,n){const o=Np(Bp(e.path),n),r=Oe(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function zp(e,t){const n=[],o=new Map;t=Xa({strict:!1,end:!0,sensitive:!1},t);function r(c){return o.get(c)}function l(c,p,m){const b=!m,h=Wp(c);h.aliasOf=m&&m.record;const _=Xa(t,c),R=[h];if("alias"in c){const q=typeof c.alias=="string"?[c.alias]:c.alias;for(const M of q)R.push(Oe({},h,{components:m?m.record.components:h.components,path:M,aliasOf:m?m.record:h}))}let P,T;for(const q of R){const{path:M}=q;if(p&&M[0]!=="/"){const X=p.record.path,pe=X[X.length-1]==="/"?"":"/";q.path=p.record.path+(M&&pe+M)}if(P=Fp(q,p,_),m?m.alias.push(P):(T=T||P,T!==P&&T.alias.push(P),b&&c.name&&!Ga(P)&&a(c.name)),h.children){const X=h.children;for(let pe=0;pe<X.length;pe++)l(X[pe],P,m&&m.children[pe])}m=m||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&u(P)}return T?()=>{a(T)}:oo}function a(c){if(Lu(c)){const p=o.get(c);p&&(o.delete(c),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(c);p>-1&&(n.splice(p,1),c.record.name&&o.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function s(){return n}function u(c){let p=0;for(;p<n.length&&Lp(c,n[p])>=0&&(c.record.path!==n[p].record.path||!Du(c,n[p]));)p++;n.splice(p,0,c),c.record.name&&!Ga(c)&&o.set(c.record.name,c)}function i(c,p){let m,b={},h,_;if("name"in c&&c.name){if(m=o.get(c.name),!m)throw Nn(1,{location:c});_=m.record.name,b=Oe(Ya(p.params,m.keys.filter(T=>!T.optional).map(T=>T.name)),c.params&&Ya(c.params,m.keys.map(T=>T.name))),h=m.stringify(b)}else if("path"in c)h=c.path,m=n.find(T=>T.re.test(h)),m&&(b=m.parse(h),_=m.record.name);else{if(m=p.name?o.get(p.name):n.find(T=>T.re.test(p.path)),!m)throw Nn(1,{location:c,currentLocation:p});_=m.record.name,b=Oe({},p.params,c.params),h=m.stringify(b)}const R=[];let P=m;for(;P;)R.unshift(P.record),P=P.parent;return{name:_,path:h,params:b,matched:R,meta:Kp(R)}}return e.forEach(c=>l(c)),{addRoute:l,resolve:i,removeRoute:a,getRoutes:s,getRecordMatcher:r}}function Ya(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Wp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Hp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Hp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function Ga(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Kp(e){return e.reduce((t,n)=>Oe(t,n.meta),{})}function Xa(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Du(e,t){return t.children.some(n=>n===e||Du(e,n))}const Bu=/#/g,Jp=/&/g,Qp=/\//g,Yp=/=/g,Gp=/\?/g,Fu=/\+/g,Xp=/%5B/g,Zp=/%5D/g,zu=/%5E/g,ef=/%60/g,Wu=/%7B/g,tf=/%7C/g,Hu=/%7D/g,nf=/%20/g;function Wl(e){return encodeURI(""+e).replace(tf,"|").replace(Xp,"[").replace(Zp,"]")}function of(e){return Wl(e).replace(Wu,"{").replace(Hu,"}").replace(zu,"^")}function al(e){return Wl(e).replace(Fu,"%2B").replace(nf,"+").replace(Bu,"%23").replace(Jp,"%26").replace(ef,"`").replace(Wu,"{").replace(Hu,"}").replace(zu,"^")}function rf(e){return al(e).replace(Yp,"%3D")}function lf(e){return Wl(e).replace(Bu,"%23").replace(Gp,"%3F")}function af(e){return e==null?"":lf(e).replace(Qp,"%2F")}function Jo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function sf(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const l=o[r].replace(Fu," "),a=l.indexOf("="),s=Jo(a<0?l:l.slice(0,a)),u=a<0?null:Jo(l.slice(a+1));if(s in t){let i=t[s];ht(i)||(i=t[s]=[i]),i.push(u)}else t[s]=u}return t}function Za(e){let t="";for(let n in e){const o=e[n];if(n=rf(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(ht(o)?o.map(l=>l&&al(l)):[o&&al(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function uf(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=ht(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const cf=Symbol(""),es=Symbol(""),yr=Symbol(""),Hl=Symbol(""),sl=Symbol("");function Qn(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Yt(e,t,n,o,r){const l=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,s)=>{const u=p=>{p===!1?s(Nn(4,{from:n,to:t})):p instanceof Error?s(p):Mp(p)?s(Nn(2,{from:t,to:p})):(l&&o.enterCallbacks[r]===l&&typeof p=="function"&&l.push(p),a())},i=e.call(o&&o.instances[r],t,n,u);let c=Promise.resolve(i);e.length<3&&(c=c.then(u)),c.catch(p=>s(p))})}function Ur(e,t,n,o){const r=[];for(const l of e)for(const a in l.components){let s=l.components[a];if(!(t!=="beforeRouteEnter"&&!l.instances[a]))if(df(s)){const i=(s.__vccOpts||s)[t];i&&r.push(Yt(i,n,o,l,a))}else{let u=s();r.push(()=>u.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${l.path}"`));const c=yp(i)?i.default:i;l.components[a]=c;const m=(c.__vccOpts||c)[t];return m&&Yt(m,n,o,l,a)()}))}}return r}function df(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ts(e){const t=lt(yr),n=lt(Hl),o=V(()=>t.resolve(d(e.to))),r=V(()=>{const{matched:u}=o.value,{length:i}=u,c=u[i-1],p=n.matched;if(!c||!p.length)return-1;const m=p.findIndex(qn.bind(null,c));if(m>-1)return m;const b=ns(u[i-2]);return i>1&&ns(c)===b&&p[p.length-1].path!==b?p.findIndex(qn.bind(null,u[i-2])):m}),l=V(()=>r.value>-1&&mf(n.params,o.value.params)),a=V(()=>r.value>-1&&r.value===n.matched.length-1&&Nu(n.params,o.value.params));function s(u={}){return ff(u)?t[d(e.replace)?"replace":"push"](d(e.to)).catch(oo):Promise.resolve()}return{route:o,href:V(()=>o.value.href),isActive:l,isExactActive:a,navigate:s}}const pf=pu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ts,setup(e,{slots:t}){const n=ar(ts(e)),{options:o}=lt(yr),r=V(()=>({[os(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[os(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:Mu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},l)}}}),hr=pf;function ff(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mf(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!ht(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function ns(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const os=(e,t,n)=>e??t??n,vf=pu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=lt(sl),r=V(()=>e.route||o.value),l=lt(es,0),a=V(()=>{let i=d(l);const{matched:c}=r.value;let p;for(;(p=c[i])&&!p.components;)i++;return i}),s=V(()=>r.value.matched[a.value]);Rn(es,V(()=>a.value+1)),Rn(cf,s),Rn(sl,r);const u=k();return et(()=>[u.value,s.value,e.name],([i,c,p],[m,b,h])=>{c&&(c.instances[p]=i,b&&b!==c&&i&&i===m&&(c.leaveGuards.size||(c.leaveGuards=b.leaveGuards),c.updateGuards.size||(c.updateGuards=b.updateGuards))),i&&c&&(!b||!qn(c,b)||!m)&&(c.enterCallbacks[p]||[]).forEach(_=>_(i))},{flush:"post"}),()=>{const i=r.value,c=e.name,p=s.value,m=p&&p.components[c];if(!m)return rs(n.default,{Component:m,route:i});const b=p.props[c],h=b?b===!0?i.params:typeof b=="function"?b(i):b:null,R=Mu(m,Oe({},h,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(p.instances[c]=null)},ref:u}));return rs(n.default,{Component:R,route:i})||R}}});function rs(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const yf=vf;function hf(e){const t=zp(e.routes,e),n=e.parseQuery||sf,o=e.stringifyQuery||Za,r=e.history,l=Qn(),a=Qn(),s=Qn(),u=tu(Dt);let i=Dt;En&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=qr.bind(null,j=>""+j),p=qr.bind(null,af),m=qr.bind(null,Jo);function b(j,Y){let J,ee;return Lu(j)?(J=t.getRecordMatcher(j),ee=Y):ee=j,t.addRoute(ee,J)}function h(j){const Y=t.getRecordMatcher(j);Y&&t.removeRoute(Y)}function _(){return t.getRoutes().map(j=>j.record)}function R(j){return!!t.getRecordMatcher(j)}function P(j,Y){if(Y=Oe({},Y||u.value),typeof j=="string"){const x=Nr(n,j,Y.path),U=t.resolve({path:x.path},Y),D=r.createHref(x.fullPath);return Oe(x,U,{params:m(U.params),hash:Jo(x.hash),redirectedFrom:void 0,href:D})}let J;if("path"in j)J=Oe({},j,{path:Nr(n,j.path,Y.path).path});else{const x=Oe({},j.params);for(const U in x)x[U]==null&&delete x[U];J=Oe({},j,{params:p(x)}),Y.params=p(Y.params)}const ee=t.resolve(J,Y),_e=j.hash||"";ee.params=c(m(ee.params));const O=gp(o,Oe({},j,{hash:of(_e),path:ee.path})),E=r.createHref(O);return Oe({fullPath:O,hash:_e,query:o===Za?uf(j.query):j.query||{}},ee,{redirectedFrom:void 0,href:E})}function T(j){return typeof j=="string"?Nr(n,j,u.value.path):Oe({},j)}function q(j,Y){if(i!==j)return Nn(8,{from:Y,to:j})}function M(j){return de(j)}function X(j){return M(Oe(T(j),{replace:!0}))}function pe(j){const Y=j.matched[j.matched.length-1];if(Y&&Y.redirect){const{redirect:J}=Y;let ee=typeof J=="function"?J(j):J;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=T(ee):{path:ee},ee.params={}),Oe({query:j.query,hash:j.hash,params:"path"in ee?{}:j.params},ee)}}function de(j,Y){const J=i=P(j),ee=u.value,_e=j.state,O=j.force,E=j.replace===!0,x=pe(J);if(x)return de(Oe(T(x),{state:typeof x=="object"?Oe({},_e,x.state):_e,force:O,replace:E}),Y||J);const U=J;U.redirectedFrom=Y;let D;return!O&&_p(o,ee,J)&&(D=Nn(16,{to:U,from:ee}),gt(ee,ee,!0,!1)),(D?Promise.resolve(D):$e(U,ee)).catch(F=>xt(F)?xt(F,2)?F:Lt(F):ge(F,U,ee)).then(F=>{if(F){if(xt(F,2))return de(Oe({replace:E},T(F.to),{state:typeof F.to=="object"?Oe({},_e,F.to.state):_e,force:O}),Y||U)}else F=Ye(U,ee,!0,E,_e);return at(U,ee,F),F})}function ne(j,Y){const J=q(j,Y);return J?Promise.reject(J):Promise.resolve()}function ae(j){const Y=wn.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(j):j()}function $e(j,Y){let J;const[ee,_e,O]=bf(j,Y);J=Ur(ee.reverse(),"beforeRouteLeave",j,Y);for(const x of ee)x.leaveGuards.forEach(U=>{J.push(Yt(U,j,Y))});const E=ne.bind(null,j,Y);return J.push(E),We(J).then(()=>{J=[];for(const x of l.list())J.push(Yt(x,j,Y));return J.push(E),We(J)}).then(()=>{J=Ur(_e,"beforeRouteUpdate",j,Y);for(const x of _e)x.updateGuards.forEach(U=>{J.push(Yt(U,j,Y))});return J.push(E),We(J)}).then(()=>{J=[];for(const x of O)if(x.beforeEnter)if(ht(x.beforeEnter))for(const U of x.beforeEnter)J.push(Yt(U,j,Y));else J.push(Yt(x.beforeEnter,j,Y));return J.push(E),We(J)}).then(()=>(j.matched.forEach(x=>x.enterCallbacks={}),J=Ur(O,"beforeRouteEnter",j,Y),J.push(E),We(J))).then(()=>{J=[];for(const x of a.list())J.push(Yt(x,j,Y));return J.push(E),We(J)}).catch(x=>xt(x,8)?x:Promise.reject(x))}function at(j,Y,J){s.list().forEach(ee=>ae(()=>ee(j,Y,J)))}function Ye(j,Y,J,ee,_e){const O=q(j,Y);if(O)return O;const E=Y===Dt,x=En?history.state:{};J&&(ee||E?r.replace(j.fullPath,Oe({scroll:E&&x&&x.scroll},_e)):r.push(j.fullPath,_e)),u.value=j,gt(j,Y,J,E),Lt()}let ct;function De(){ct||(ct=r.listen((j,Y,J)=>{if(!go.listening)return;const ee=P(j),_e=pe(ee);if(_e){de(Oe(_e,{replace:!0}),ee).catch(oo);return}i=ee;const O=u.value;En&&$p(Wa(O.fullPath,J.delta),vr()),$e(ee,O).catch(E=>xt(E,12)?E:xt(E,2)?(de(E.to,ee).then(x=>{xt(x,20)&&!J.delta&&J.type===fo.pop&&r.go(-1,!1)}).catch(oo),Promise.reject()):(J.delta&&r.go(-J.delta,!1),ge(E,ee,O))).then(E=>{E=E||Ye(ee,O,!1),E&&(J.delta&&!xt(E,8)?r.go(-J.delta,!1):J.type===fo.pop&&xt(E,20)&&r.go(-1,!1)),at(ee,O,E)}).catch(oo)}))}let dt=Qn(),Pe=Qn(),Se;function ge(j,Y,J){Lt(j);const ee=Pe.list();return ee.length?ee.forEach(_e=>_e(j,Y,J)):console.error(j),Promise.reject(j)}function $t(){return Se&&u.value!==Dt?Promise.resolve():new Promise((j,Y)=>{dt.add([j,Y])})}function Lt(j){return Se||(Se=!j,De(),dt.list().forEach(([Y,J])=>j?J(j):Y()),dt.reset()),j}function gt(j,Y,J,ee){const{scrollBehavior:_e}=e;if(!En||!_e)return Promise.resolve();const O=!J&&xp(Wa(j.fullPath,0))||(ee||!J)&&history.state&&history.state.scroll||null;return ur().then(()=>_e(j,Y,O)).then(E=>E&&Ap(E)).catch(E=>ge(E,j,Y))}const Ge=j=>r.go(j);let _n;const wn=new Set,go={currentRoute:u,listening:!0,addRoute:b,removeRoute:h,hasRoute:R,getRoutes:_,resolve:P,options:e,push:M,replace:X,go:Ge,back:()=>Ge(-1),forward:()=>Ge(1),beforeEach:l.add,beforeResolve:a.add,afterEach:s.add,onError:Pe.add,isReady:$t,install(j){const Y=this;j.component("RouterLink",hr),j.component("RouterView",yf),j.config.globalProperties.$router=Y,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>d(u)}),En&&!_n&&u.value===Dt&&(_n=!0,M(r.location).catch(_e=>{}));const J={};for(const _e in Dt)Object.defineProperty(J,_e,{get:()=>u.value[_e],enumerable:!0});j.provide(yr,Y),j.provide(Hl,Xs(J)),j.provide(sl,u);const ee=j.unmount;wn.add(j),j.unmount=function(){wn.delete(j),wn.size<1&&(i=Dt,ct&&ct(),ct=null,u.value=Dt,_n=!1,Se=!1),ee()}}};function We(j){return j.reduce((Y,J)=>Y.then(()=>ae(J)),Promise.resolve())}return go}function bf(e,t){const n=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const s=t.matched[a];s&&(e.matched.find(i=>qn(i,s))?o.push(s):n.push(s));const u=e.matched[a];u&&(t.matched.find(i=>qn(i,u))||r.push(u))}return[n,o,r]}function Qe(){return lt(yr)}function gf(){return lt(Hl)}function Ku(e){return Ds()?(ec(e),!0):!1}function br(e){return typeof e=="function"?e():d(e)}const Ju=typeof window<"u",Qu=()=>{};function _f(e,t){function n(...o){return new Promise((r,l)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(l)})}return n}const Yu=e=>e();function wf(e=Yu){const t=k(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...l)=>{t.value&&e(...l)};return{isActive:Je(t),pause:n,resume:o,eventFilter:r}}function Of(...e){if(e.length!==1)return Mc(...e);const t=e[0];return typeof t=="function"?Je(Ic(()=>({get:t,set:Qu}))):k(t)}var ls=Object.getOwnPropertySymbols,kf=Object.prototype.hasOwnProperty,Sf=Object.prototype.propertyIsEnumerable,Ef=(e,t)=>{var n={};for(var o in e)kf.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ls)for(var o of ls(e))t.indexOf(o)<0&&Sf.call(e,o)&&(n[o]=e[o]);return n};function Cf(e,t,n={}){const o=n,{eventFilter:r=Yu}=o,l=Ef(o,["eventFilter"]);return et(e,_f(r,t),l)}function ul(e,t,n){const o=et(e,(...r)=>(ur(()=>o()),t(...r)),n)}var Af=Object.defineProperty,$f=Object.defineProperties,xf=Object.getOwnPropertyDescriptors,Qo=Object.getOwnPropertySymbols,Gu=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,as=(e,t,n)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))Gu.call(t,n)&&as(e,n,t[n]);if(Qo)for(var n of Qo(t))Xu.call(t,n)&&as(e,n,t[n]);return e},If=(e,t)=>$f(e,xf(t)),Vf=(e,t)=>{var n={};for(var o in e)Gu.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Qo)for(var o of Qo(e))t.indexOf(o)<0&&Xu.call(e,o)&&(n[o]=e[o]);return n};function Pf(e,t,n={}){const o=n,{eventFilter:r}=o,l=Vf(o,["eventFilter"]),{eventFilter:a,pause:s,resume:u,isActive:i}=wf(r);return{stop:Cf(e,t,If(Rf({},l),{eventFilter:a})),pause:s,resume:u,isActive:i}}function Zu(e){var t;const n=br(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Yo=Ju?window:void 0,Mf=Ju?window.document:void 0;function ss(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Yo):[t,n,o,r]=e,!t)return Qu;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(c=>c()),l.length=0},s=(c,p,m,b)=>(c.addEventListener(p,m,b),()=>c.removeEventListener(p,m,b)),u=et(()=>[Zu(t),br(r)],([c,p])=>{a(),c&&l.push(...n.flatMap(m=>o.map(b=>s(c,m,b,p))))},{immediate:!0,flush:"post"}),i=()=>{u(),a()};return Ku(i),i}function Tf(){const e=k(!1);return Ru()&&Ne(()=>{e.value=!0}),e}function qf(e){const t=Tf();return V(()=>(t.value,!!e()))}const Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$o="__vueuse_ssr_handlers__",Nf=Uf();function Uf(){return $o in Ao||(Ao[$o]=Ao[$o]||{}),Ao[$o]}function Lf(e,t){return Nf[e]||t}function jf(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var Df=Object.defineProperty,us=Object.getOwnPropertySymbols,Bf=Object.prototype.hasOwnProperty,Ff=Object.prototype.propertyIsEnumerable,is=(e,t,n)=>t in e?Df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cs=(e,t)=>{for(var n in t||(t={}))Bf.call(t,n)&&is(e,n,t[n]);if(us)for(var n of us(t))Ff.call(t,n)&&is(e,n,t[n]);return e};const zf={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ds="vueuse-storage";function Wf(e,t,n,o={}){var r;const{flush:l="pre",deep:a=!0,listenToStorageChanges:s=!0,writeDefaults:u=!0,mergeDefaults:i=!1,shallow:c,window:p=Yo,eventFilter:m,onError:b=ne=>{console.error(ne)}}=o,h=(c?tu:k)(t);if(!n)try{n=Lf("getDefaultStorage",()=>{var ne;return(ne=Yo)==null?void 0:ne.localStorage})()}catch(ne){b(ne)}if(!n)return h;const _=br(t),R=jf(_),P=(r=o.serializer)!=null?r:zf[R],{pause:T,resume:q}=Pf(h,()=>M(h.value),{flush:l,deep:a,eventFilter:m});return p&&s&&(ss(p,"storage",de),ss(p,ds,pe)),de(),h;function M(ne){try{if(ne==null)n.removeItem(e);else{const ae=P.write(ne),$e=n.getItem(e);$e!==ae&&(n.setItem(e,ae),p&&p.dispatchEvent(new CustomEvent(ds,{detail:{key:e,oldValue:$e,newValue:ae,storageArea:n}})))}}catch(ae){b(ae)}}function X(ne){const ae=ne?ne.newValue:n.getItem(e);if(ae==null)return u&&_!==null&&n.setItem(e,P.write(_)),_;if(!ne&&i){const $e=P.read(ae);return typeof i=="function"?i($e,_):R==="object"&&!Array.isArray($e)?cs(cs({},_),$e):$e}else return typeof ae!="string"?ae:P.read(ae)}function pe(ne){de(ne.detail)}function de(ne){if(!(ne&&ne.storageArea!==n)){if(ne&&ne.key==null){h.value=_;return}if(!(ne&&ne.key!==e)){T();try{h.value=X(ne)}catch(ae){b(ae)}finally{ne?ur(q):q()}}}}}var ps=Object.getOwnPropertySymbols,Hf=Object.prototype.hasOwnProperty,Kf=Object.prototype.propertyIsEnumerable,Jf=(e,t)=>{var n={};for(var o in e)Hf.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ps)for(var o of ps(e))t.indexOf(o)<0&&Kf.call(e,o)&&(n[o]=e[o]);return n};function Qf(e,t,n={}){const o=n,{window:r=Yo}=o,l=Jf(o,["window"]);let a;const s=qf(()=>r&&"MutationObserver"in r),u=()=>{a&&(a.disconnect(),a=void 0)},i=et(()=>Zu(e),p=>{u(),s.value&&r&&p&&(a=new MutationObserver(t),a.observe(p,l))},{immediate:!0}),c=()=>{u(),i()};return Ku(c),{isSupported:s,stop:c}}function Yf(e=null,t={}){var n,o;const{document:r=Mf}=t,l=Of((n=e??(r==null?void 0:r.title))!=null?n:null),a=e&&typeof e=="function";function s(u){if(!("titleTemplate"in t))return u;const i=t.titleTemplate||"%s";return typeof i=="function"?i(u):br(i).replace(/%s/g,u)}return et(l,(u,i)=>{u!==i&&r&&(r.title=s(typeof u=="string"?u:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&r&&!a&&Qf((o=r.head)==null?void 0:o.querySelector("title"),()=>{r&&r.title!==l.value&&(l.value=s(r.title))},{childList:!0}),l}const Kl=Wf("planta-session",{user:null,token:null,expiresIn:null}),Gf=e=>{Kl.value=e},Xf=()=>{Kl.value={user:null,token:null,expiresIn:null}},on=()=>({session:Je(Kl),storeSession:Gf,clearSession:Xf});function qt(e){return Array.isArray?Array.isArray(e):ni(e)==="[object Array]"}const Zf=1/0;function em(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Zf?"-0":t}function tm(e){return e==null?"":em(e)}function St(e){return typeof e=="string"}function ei(e){return typeof e=="number"}function nm(e){return e===!0||e===!1||om(e)&&ni(e)=="[object Boolean]"}function ti(e){return typeof e=="object"}function om(e){return ti(e)&&e!==null}function rt(e){return e!=null}function Lr(e){return!e.trim().length}function ni(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const rm="Incorrect 'index' type",lm=e=>`Invalid value for key ${e}`,am=e=>`Pattern length exceeds max of ${e}.`,sm=e=>`Missing ${e} property in key`,um=e=>`Property 'weight' in key '${e}' must be a positive integer`,fs=Object.prototype.hasOwnProperty;class im{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(o=>{let r=oi(o);n+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(o=>{o.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function oi(e){let t=null,n=null,o=null,r=1,l=null;if(St(e)||qt(e))o=e,t=ms(e),n=il(e);else{if(!fs.call(e,"name"))throw new Error(sm("name"));const a=e.name;if(o=a,fs.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(um(a));t=ms(a),n=il(a),l=e.getFn}return{path:t,id:n,weight:r,src:o,getFn:l}}function ms(e){return qt(e)?e:e.split(".")}function il(e){return qt(e)?e.join("."):e}function cm(e,t){let n=[],o=!1;const r=(l,a,s)=>{if(rt(l))if(!a[s])n.push(l);else{let u=a[s];const i=l[u];if(!rt(i))return;if(s===a.length-1&&(St(i)||ei(i)||nm(i)))n.push(tm(i));else if(qt(i)){o=!0;for(let c=0,p=i.length;c<p;c+=1)r(i[c],a,s+1)}else a.length&&r(i,a,s+1)}};return r(e,St(t)?t.split("."):t,0),o?n:n[0]}const dm={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pm={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},fm={location:0,threshold:.6,distance:100},mm={useExtendedSearch:!1,getFn:cm,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var se={...pm,...dm,...fm,...mm};const vm=/[^ ]+/g;function ym(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(r){const l=r.match(vm).length;if(n.has(l))return n.get(l);const a=1/Math.pow(l,.5*e),s=parseFloat(Math.round(a*o)/o);return n.set(l,s),s},clear(){n.clear()}}}class Jl{constructor({getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){this.norm=ym(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,o)=>{this._keysMap[n.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,St(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();St(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,o=this.size();n<o;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!rt(t)||Lr(t))return;let o={v:t,i:n,n:this.norm.get(t)};this.records.push(o)}_addObject(t,n){let o={i:n,$:{}};this.keys.forEach((r,l)=>{let a=r.getFn?r.getFn(t):this.getFn(t,r.path);if(rt(a)){if(qt(a)){let s=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:i,value:c}=u.pop();if(rt(c))if(St(c)&&!Lr(c)){let p={v:c,i,n:this.norm.get(c)};s.push(p)}else qt(c)&&c.forEach((p,m)=>{u.push({nestedArrIndex:m,value:p})})}o.$[l]=s}else if(St(a)&&!Lr(a)){let s={v:a,n:this.norm.get(a)};o.$[l]=s}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function ri(e,t,{getFn:n=se.getFn,fieldNormWeight:o=se.fieldNormWeight}={}){const r=new Jl({getFn:n,fieldNormWeight:o});return r.setKeys(e.map(oi)),r.setSources(t),r.create(),r}function hm(e,{getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){const{keys:o,records:r}=e,l=new Jl({getFn:t,fieldNormWeight:n});return l.setKeys(o),l.setIndexRecords(r),l}function xo(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:r=se.distance,ignoreLocation:l=se.ignoreLocation}={}){const a=t/e.length;if(l)return a;const s=Math.abs(o-n);return r?a+s/r:s?1:a}function bm(e=[],t=se.minMatchCharLength){let n=[],o=-1,r=-1,l=0;for(let a=e.length;l<a;l+=1){let s=e[l];s&&o===-1?o=l:!s&&o!==-1&&(r=l-1,r-o+1>=t&&n.push([o,r]),o=-1)}return e[l-1]&&l-o>=t&&n.push([o,l-1]),n}const pn=32;function gm(e,t,n,{location:o=se.location,distance:r=se.distance,threshold:l=se.threshold,findAllMatches:a=se.findAllMatches,minMatchCharLength:s=se.minMatchCharLength,includeMatches:u=se.includeMatches,ignoreLocation:i=se.ignoreLocation}={}){if(t.length>pn)throw new Error(am(pn));const c=t.length,p=e.length,m=Math.max(0,Math.min(o,p));let b=l,h=m;const _=s>1||u,R=_?Array(p):[];let P;for(;(P=e.indexOf(t,h))>-1;){let de=xo(t,{currentLocation:P,expectedLocation:m,distance:r,ignoreLocation:i});if(b=Math.min(de,b),h=P+c,_){let ne=0;for(;ne<c;)R[P+ne]=1,ne+=1}}h=-1;let T=[],q=1,M=c+p;const X=1<<c-1;for(let de=0;de<c;de+=1){let ne=0,ae=M;for(;ne<ae;)xo(t,{errors:de,currentLocation:m+ae,expectedLocation:m,distance:r,ignoreLocation:i})<=b?ne=ae:M=ae,ae=Math.floor((M-ne)/2+ne);M=ae;let $e=Math.max(1,m-ae+1),at=a?p:Math.min(m+ae,p)+c,Ye=Array(at+2);Ye[at+1]=(1<<de)-1;for(let De=at;De>=$e;De-=1){let dt=De-1,Pe=n[e.charAt(dt)];if(_&&(R[dt]=+!!Pe),Ye[De]=(Ye[De+1]<<1|1)&Pe,de&&(Ye[De]|=(T[De+1]|T[De])<<1|1|T[De+1]),Ye[De]&X&&(q=xo(t,{errors:de,currentLocation:dt,expectedLocation:m,distance:r,ignoreLocation:i}),q<=b)){if(b=q,h=dt,h<=m)break;$e=Math.max(1,2*m-h)}}if(xo(t,{errors:de+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:i})>b)break;T=Ye}const pe={isMatch:h>=0,score:Math.max(.001,q)};if(_){const de=bm(R,s);de.length?u&&(pe.indices=de):pe.isMatch=!1}return pe}function _m(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<o-n-1}return t}class li{constructor(t,{location:n=se.location,threshold:o=se.threshold,distance:r=se.distance,includeMatches:l=se.includeMatches,findAllMatches:a=se.findAllMatches,minMatchCharLength:s=se.minMatchCharLength,isCaseSensitive:u=se.isCaseSensitive,ignoreLocation:i=se.ignoreLocation}={}){if(this.options={location:n,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:u,ignoreLocation:i},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(m,b)=>{this.chunks.push({pattern:m,alphabet:_m(m),startIndex:b})},p=this.pattern.length;if(p>pn){let m=0;const b=p%pn,h=p-b;for(;m<h;)c(this.pattern.substr(m,pn),m),m+=pn;if(b){const _=p-pn;c(this.pattern.substr(_),_)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:o}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let h={isMatch:!0,score:0};return o&&(h.indices=[[0,t.length-1]]),h}const{location:r,distance:l,threshold:a,findAllMatches:s,minMatchCharLength:u,ignoreLocation:i}=this.options;let c=[],p=0,m=!1;this.chunks.forEach(({pattern:h,alphabet:_,startIndex:R})=>{const{isMatch:P,score:T,indices:q}=gm(t,h,_,{location:r+R,distance:l,threshold:a,findAllMatches:s,minMatchCharLength:u,includeMatches:o,ignoreLocation:i});P&&(m=!0),p+=T,P&&q&&(c=[...c,...q])});let b={isMatch:m,score:m?p/this.chunks.length:1};return m&&o&&(b.indices=c),b}}class rn{constructor(t){this.pattern=t}static isMultiMatch(t){return vs(t,this.multiRegex)}static isSingleMatch(t){return vs(t,this.singleRegex)}search(){}}function vs(e,t){const n=e.match(t);return n?n[1]:null}class wm extends rn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Om extends rn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const o=t.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,t.length-1]}}}class km extends rn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Sm extends rn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Em extends rn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Cm extends rn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ai extends rn{constructor(t,{location:n=se.location,threshold:o=se.threshold,distance:r=se.distance,includeMatches:l=se.includeMatches,findAllMatches:a=se.findAllMatches,minMatchCharLength:s=se.minMatchCharLength,isCaseSensitive:u=se.isCaseSensitive,ignoreLocation:i=se.ignoreLocation}={}){super(t),this._bitapSearch=new li(t,{location:n,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:u,ignoreLocation:i})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class si extends rn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,o;const r=[],l=this.pattern.length;for(;(o=t.indexOf(this.pattern,n))>-1;)n=o+l,r.push([o,n-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const cl=[wm,si,km,Sm,Cm,Em,Om,ai],ys=cl.length,Am=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,$m="|";function xm(e,t={}){return e.split($m).map(n=>{let o=n.trim().split(Am).filter(l=>l&&!!l.trim()),r=[];for(let l=0,a=o.length;l<a;l+=1){const s=o[l];let u=!1,i=-1;for(;!u&&++i<ys;){const c=cl[i];let p=c.isMultiMatch(s);p&&(r.push(new c(p,t)),u=!0)}if(!u)for(i=-1;++i<ys;){const c=cl[i];let p=c.isSingleMatch(s);if(p){r.push(new c(p,t));break}}}return r})}const Rm=new Set([ai.type,si.type]);class Im{constructor(t,{isCaseSensitive:n=se.isCaseSensitive,includeMatches:o=se.includeMatches,minMatchCharLength:r=se.minMatchCharLength,ignoreLocation:l=se.ignoreLocation,findAllMatches:a=se.findAllMatches,location:s=se.location,threshold:u=se.threshold,distance:i=se.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:o,minMatchCharLength:r,findAllMatches:a,ignoreLocation:l,location:s,threshold:u,distance:i},this.pattern=n?t:t.toLowerCase(),this.query=xm(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let l=0,a=[],s=0;for(let u=0,i=n.length;u<i;u+=1){const c=n[u];a.length=0,l=0;for(let p=0,m=c.length;p<m;p+=1){const b=c[p],{isMatch:h,indices:_,score:R}=b.search(t);if(h){if(l+=1,s+=R,o){const P=b.constructor.type;Rm.has(P)?a=[...a,..._]:a.push(_)}}else{s=0,l=0,a.length=0;break}}if(l){let p={isMatch:!0,score:s/l};return o&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const dl=[];function Vm(...e){dl.push(...e)}function pl(e,t){for(let n=0,o=dl.length;n<o;n+=1){let r=dl[n];if(r.condition(e,t))return new r(e,t)}return new li(e,t)}const Go={AND:"$and",OR:"$or"},fl={PATH:"$path",PATTERN:"$val"},ml=e=>!!(e[Go.AND]||e[Go.OR]),Pm=e=>!!e[fl.PATH],Mm=e=>!qt(e)&&ti(e)&&!ml(e),hs=e=>({[Go.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ui(e,t,{auto:n=!0}={}){const o=r=>{let l=Object.keys(r);const a=Pm(r);if(!a&&l.length>1&&!ml(r))return o(hs(r));if(Mm(r)){const u=a?r[fl.PATH]:l[0],i=a?r[fl.PATTERN]:r[u];if(!St(i))throw new Error(lm(u));const c={keyId:il(u),pattern:i};return n&&(c.searcher=pl(i,t)),c}let s={children:[],operator:l[0]};return l.forEach(u=>{const i=r[u];qt(i)&&i.forEach(c=>{s.children.push(o(c))})}),s};return ml(e)||(e=hs(e)),o(e)}function Tm(e,{ignoreFieldNorm:t=se.ignoreFieldNorm}){e.forEach(n=>{let o=1;n.matches.forEach(({key:r,norm:l,score:a})=>{const s=r?r.weight:null;o*=Math.pow(a===0&&s?Number.EPSILON:a,(s||1)*(t?1:l))}),n.score=o})}function qm(e,t){const n=e.matches;t.matches=[],rt(n)&&n.forEach(o=>{if(!rt(o.indices)||!o.indices.length)return;const{indices:r,value:l}=o;let a={indices:r,value:l};o.key&&(a.key=o.key.src),o.idx>-1&&(a.refIndex=o.idx),t.matches.push(a)})}function Nm(e,t){t.score=e.score}function Um(e,t,{includeMatches:n=se.includeMatches,includeScore:o=se.includeScore}={}){const r=[];return n&&r.push(qm),o&&r.push(Nm),e.map(l=>{const{idx:a}=l,s={item:t[a],refIndex:a};return r.length&&r.forEach(u=>{u(l,s)}),s})}class Fn{constructor(t,n={},o){this.options={...se,...n},this.options.useExtendedSearch,this._keyStore=new im(this.options.keys),this.setCollection(t,o)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Jl))throw new Error(rm);this._myIndex=n||ri(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){rt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let o=0,r=this._docs.length;o<r;o+=1){const l=this._docs[o];t(l,o)&&(this.removeAt(o),o-=1,r-=1,n.push(l))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:o,includeScore:r,shouldSort:l,sortFn:a,ignoreFieldNorm:s}=this.options;let u=St(t)?St(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Tm(u,{ignoreFieldNorm:s}),l&&u.sort(a),ei(n)&&n>-1&&(u=u.slice(0,n)),Um(u,this._docs,{includeMatches:o,includeScore:r})}_searchStringList(t){const n=pl(t,this.options),{records:o}=this._myIndex,r=[];return o.forEach(({v:l,i:a,n:s})=>{if(!rt(l))return;const{isMatch:u,score:i,indices:c}=n.searchIn(l);u&&r.push({item:l,idx:a,matches:[{score:i,value:l,norm:s,indices:c}]})}),r}_searchLogical(t){const n=ui(t,this.options),o=(s,u,i)=>{if(!s.children){const{keyId:p,searcher:m}=s,b=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:m});return b&&b.length?[{idx:i,item:u,matches:b}]:[]}const c=[];for(let p=0,m=s.children.length;p<m;p+=1){const b=s.children[p],h=o(b,u,i);if(h.length)c.push(...h);else if(s.operator===Go.AND)return[]}return c},r=this._myIndex.records,l={},a=[];return r.forEach(({$:s,i:u})=>{if(rt(s)){let i=o(n,s,u);i.length&&(l[u]||(l[u]={idx:u,item:s,matches:[]},a.push(l[u])),i.forEach(({matches:c})=>{l[u].matches.push(...c)}))}}),a}_searchObjectList(t){const n=pl(t,this.options),{keys:o,records:r}=this._myIndex,l=[];return r.forEach(({$:a,i:s})=>{if(!rt(a))return;let u=[];o.forEach((i,c)=>{u.push(...this._findMatches({key:i,value:a[c],searcher:n}))}),u.length&&l.push({idx:s,item:a,matches:u})}),l}_findMatches({key:t,value:n,searcher:o}){if(!rt(n))return[];let r=[];if(qt(n))n.forEach(({v:l,i:a,n:s})=>{if(!rt(l))return;const{isMatch:u,score:i,indices:c}=o.searchIn(l);u&&r.push({score:i,key:t,value:l,idx:a,norm:s,indices:c})});else{const{v:l,n:a}=n,{isMatch:s,score:u,indices:i}=o.searchIn(l);s&&r.push({score:u,key:t,value:l,norm:a,indices:i})}return r}}Fn.version="6.6.2";Fn.createIndex=ri;Fn.parseIndex=hm;Fn.config=se;Fn.parseQuery=ui;Vm(Im);const Lm=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},jr=new Set(["__proto__","prototype","constructor"]),jm=new Set("0123456789");function Dm(e){const t=[];let n="",o="start",r=!1;for(const l of e)switch(l){case"\\":{if(o==="index")throw new Error("Invalid character in an index");if(o==="indexEnd")throw new Error("Invalid character after an index");r&&(n+=l),o="property",r=!r;break}case".":{if(o==="index")throw new Error("Invalid character in an index");if(o==="indexEnd"){o="property";break}if(r){r=!1,n+=l;break}if(jr.has(n))return[];t.push(n),n="",o="property";break}case"[":{if(o==="index")throw new Error("Invalid character in an index");if(o==="indexEnd"){o="index";break}if(r){r=!1,n+=l;break}if(o==="property"){if(jr.has(n))return[];t.push(n),n=""}o="index";break}case"]":{if(o==="index"){t.push(Number.parseInt(n,10)),n="",o="indexEnd";break}if(o==="indexEnd")throw new Error("Invalid character after an index")}default:{if(o==="index"&&!jm.has(l))throw new Error("Invalid character in an index");if(o==="indexEnd")throw new Error("Invalid character after an index");o==="start"&&(o="property"),r&&(r=!1,n+="\\"),n+=l}}switch(r&&(n+="\\"),o){case"property":{if(jr.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Bm(e,t){if(typeof t!="number"&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function vl(e,t,n){if(!Lm(e)||typeof t!="string")return n===void 0?e:n;const o=Dm(t);if(o.length===0)return n;for(let r=0;r<o.length;r++){const l=o[r];if(Bm(e,l)?e=r===o.length-1?void 0:null:e=e[l],e==null){if(r!==o.length-1)return n;break}}return e===void 0?n:e}const Fm={key:0},zm={class:"cf-action-card__body"},Wm={class:"cf-action-card__action"},st={__name:"ActionCard",props:{title:String,simple:Boolean},setup(e){const t=e,n=V(()=>({"cf-action-card":!0,"cf-action-card--simple":t.simple}));return(o,r)=>(v(),A("div",{class:Fe(n.value)},[g("div",null,[t.title?(v(),A("h5",Fm,C(t.title),1)):$("",!0),g("div",zm,[ye(o.$slots,"body")])]),g("div",Wm,[ye(o.$slots,"action")])],2))}},Hm=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Km={},Jm={class:"cf-app-bar"};function Qm(e,t){return v(),A("header",Jm,[g("div",null,[ye(e.$slots,"left")]),g("div",null,[ye(e.$slots,"right")])])}const Ym=Hm(Km,[["render",Qm]]),Gm={class:"cf-dropdown-body"},Xm={__name:"Dropdown",setup(e){const t=k(!1),n=V(()=>({"cf-dropdown":!0,"cf-dropdown--open":t.value}));return(o,r)=>(v(),A("div",{class:Fe(n.value)},[g("div",{class:"cf-dropdown-toggle",onClick:r[0]||(r[0]=l=>t.value=!t.value)},[ye(o.$slots,"toggle")]),g("div",Gm,[ye(o.$slots,"body")]),g("div",{class:"cf-dropdown-backdrop",onClick:r[1]||(r[1]=l=>t.value=!1)})],2))}},Zm={key:0,class:"cf-app-bar-link"},ev={class:"cf-app-bar-link__label"},tv=g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16"},[g("path",{d:"M14.15 4.492H1.85l-.354.854 6.15 6.15h.707l6.15-6.15-.353-.854z"})],-1),nv={key:1,class:"cf-app-bar-link"},ov={class:"cf-app-bar-link__label"},rv={__name:"AppBarLink",props:{dropdown:Boolean},setup(e){return(t,n)=>e.dropdown?(v(),A("div",Zm,[f(Xm,null,{toggle:y(()=>[g("div",ev,[ye(t.$slots,"default"),tv])]),body:y(()=>[ye(t.$slots,"dropdown")]),_:3})])):(v(),A("button",nv,[g("div",ov,[ye(t.$slots,"default")])]))}},Ce={__name:"AppView",props:{wide:Boolean},setup(e){const t=e,n=V(()=>({"cf-app-view":!0,"cf-app-view--wide":t.wide}));return(o,r)=>(v(),A("div",{class:Fe(n.value)},[ye(o.$slots,"default")],2))}},lv={class:"cf-app-view-header"},av={key:0},sv={key:1},uv={key:2},iv={key:3,class:"cf-app-view-header__actions"},Ae={__name:"AppViewHeader",props:{surtitle:String,title:String,description:String},setup(e){const t=e,n=dr();return(o,r)=>(v(),A("header",lv,[t.surtitle?(v(),A("p",av,C(t.surtitle),1)):$("",!0),t.title?(v(),A("h1",sv,C(t.title),1)):$("",!0),t.description?(v(),A("p",uv,C(t.description),1)):$("",!0),d(n).actions?(v(),A("div",iv,[ye(o.$slots,"actions")])):$("",!0)]))}},cv={class:"cf-breadcrumbs"},dv={key:0},ze={__name:"Breadcrumbs",props:{data:Array},setup(e){const t=e;return(n,o)=>{const r=bn("RouterLink");return v(),A("ol",cv,[(v(!0),A(G,null,he(t.data,l=>(v(),A("li",{key:l.name},[l.path?(v(),w(r,{key:1,to:l.path},{default:y(()=>[S(C(l.name),1)]),_:2},1032,["to"])):(v(),A("span",dv,C(l.name),1))]))),128))])}}},ii={to:{type:[String,Object],default:null},type:{type:String,default:"button"},large:Boolean,wide:Boolean,color:{type:String,default:null},loading:Boolean,disabled:Boolean},pv=["type","disabled"],I={__name:"FilledButton",props:ii,setup(e){const t=e,n=V(()=>({"cf-button":!0,"cf-button--large":t.large,"cf-button--wide":t.wide,"cf-button--loading":t.loading,"cf-button--disabled":t.disabled,"cf-filled-button":!0,[`cf-filled-button--${t.color}`]:t.color}));return(o,r)=>{const l=bn("router-link");return o.to?(v(),w(l,{key:0,class:Fe(n.value),to:o.to,inert:t.disabled},{default:y(()=>[ye(o.$slots,"default")]),_:3},8,["class","to","inert"])):(v(),A("button",{key:1,class:Fe(n.value),type:t.type,disabled:t.disabled},[ye(o.$slots,"default")],10,pv))}}},fv=["type","disabled"],ut={__name:"OutlinedButton",props:ii,setup(e){const t=e,n=V(()=>({"cf-button":!0,"cf-button--large":t.large,"cf-button--wide":t.wide,"cf-button--loading":t.loading,"cf-button--disabled":t.disabled,"cf-outlined-button":!0,[`cf-outlined-button--${t.color}`]:t.color}));return(o,r)=>{const l=bn("router-link");return o.to?(v(),w(l,{key:0,class:Fe(n.value),to:o.to,inert:t.disabled},{default:y(()=>[ye(o.$slots,"default")]),_:3},8,["class","to","inert"])):(v(),A("button",{key:1,class:Fe(n.value),type:t.type,disabled:t.disabled},[ye(o.$slots,"default")],10,fv))}}},mv={class:"cf-choice"},vv=["type","id","name","value","true-value","false-value","required","disabled"],yv=["for"],hv={key:1},bv={__name:"Choice",props:{modelValue:[Number,String,Boolean,Object,Array],value:[Number,String,Boolean,Object],trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!1},type:String,label:[String,Boolean],helper:String,disabled:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Math.random(),r={name:lt("choice-list-name",null),required:lt("choice-list-required",null)},l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return(a,s)=>(v(),A("div",mv,[Zt(g("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),type:n.type,id:d(o),name:r.name,value:n.value,"true-value":n.trueValue,"false-value":n.falseValue,required:r.required,disabled:n.disabled},null,8,vv),[[qu,l.value]]),e.label?(v(),A("label",{key:0,for:d(o)},C(n.label||n.value),9,yv)):$("",!0),n.helper?(v(),A("small",hv,C(n.helper),1)):$("",!0)]))}},gv={key:0,class:"cf-choice-list__label"},_v={__name:"ChoiceList",props:{modelValue:[Number,String,Boolean,Array],label:String,choices:Array,multiple:Boolean,required:Boolean,disabled:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=V(()=>({"cf-choice-list":!0,"cf-choice-list--disabled":n.disabled})),r=V({get(){return n.modelValue},set(l){t("update:modelValue",l)}});return Rn("choice-list-name",Math.random()),Rn("choice-list-required",n.required),(l,a)=>(v(),A("div",{class:Fe(o.value)},[n.label?(v(),A("div",gv,C(n.label),1)):$("",!0),(v(!0),A(G,null,he(e.choices,s=>(v(),w(bv,{key:s.value||s,type:n.multiple?"checkbox":"radio",label:s.label||s.value||s,helper:s.helper,value:s.value||s,disabled:n.disabled,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=u=>r.value=u)},null,8,["type","label","helper","value","disabled","modelValue"]))),128)),ye(l.$slots,"default")],2))}};function Bt(e){return typeof e=="function"?e():d(e)}function wv(e,t,n){const o=()=>{var a,s;return new Fn((a=Bt(t))!=null?a:[],(s=Bt(n))==null?void 0:s.fuseOptions)},r=k(o());et(()=>{var a;return(a=Bt(n))==null?void 0:a.fuseOptions},()=>{r.value=o()},{deep:!0}),et(()=>Bt(t),a=>{r.value.setCollection(a)},{deep:!0});const l=V(()=>{const a=Bt(n);if(a!=null&&a.matchAllWhenSearchEmpty&&!Bt(e))return Bt(t).map((u,i)=>({item:u,refIndex:i}));const s=a==null?void 0:a.resultLimit;return r.value.search(Bt(e),s?{limit:s}:void 0)});return{fuse:r,results:l}}const ci={modelValue:[Number,String,Object],value:[Number,String,Object],label:String,disabled:Boolean,required:Boolean,helper:String,title:String,autofocus:Boolean},Ov={class:"cf-form-control"},kv={key:0},Sv={class:"cf-form-control-widget"},Ev={key:0},Cv=["disabled","required","type","placeholder","list","step","max","min","maxlength","minlength","pattern","title","autofocus"],Av={key:1},$v={key:1},B={__name:"Input",props:{type:{type:String,default:"text"},placeholder:String,prefix:String,suffix:String,list:String,step:[Number,String],max:[Number,String],min:[Number,String],maxlength:[Number,String],minlength:[Number,String],pattern:String,...ci},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=k(!1),r=V(()=>n.type.toLowerCase()==="password"?o.value?"text":"password":n.type),l=V({get:()=>n.modelValue||n.value,set:a=>t("update:modelValue",a)});return(a,s)=>(v(),A("div",Ov,[n.label?(v(),A("label",kv,[S(C(n.label)+" ",1),n.type.toLowerCase()==="password"?(v(),A("button",{key:0,type:"button",tabindex:"-1",onClick:s[0]||(s[0]=u=>o.value=!o.value)},C(o.value?"Hide":"Show"),1)):$("",!0)])):$("",!0),g("div",Sv,[n.prefix?(v(),A("div",Ev,C(n.prefix),1)):$("",!0),Zt(g("input",{"onUpdate:modelValue":s[1]||(s[1]=u=>l.value=u),disabled:n.disabled,required:n.required,type:r.value,placeholder:n.placeholder,list:n.list,step:n.step,max:n.max,min:n.min,maxlength:n.maxlength,minlength:n.minlength,pattern:n.pattern,title:n.title,autofocus:n.autofocus},null,8,Cv),[[qu,l.value]]),n.suffix?(v(),A("div",Av,C(n.suffix),1)):$("",!0)]),n.helper?(v(),A("small",$v,C(n.helper),1)):$("",!0)]))}},xv={key:0,class:"cf-data-table-title"},Rv={key:1,class:"cf-data-table-description"},Iv={key:2,class:"cf-data-table-search"},Vv={key:3,class:"cf-data-table-action"},Pv={__name:"DataTableHeader",props:{title:String,description:String,searchable:Boolean,search:String},emits:["update:search"],setup(e,{emit:t}){const n=e,o=dr(),r=V({get:()=>n.search,set:l=>t("update:search",l)});return(l,a)=>(v(),A("header",null,[n.title?(v(),A("div",xv,C(n.title),1)):$("",!0),n.description?(v(),A("div",Rv,C(n.description),1)):$("",!0),n.searchable?(v(),A("div",Iv,[f(B,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),label:"Search"},null,8,["modelValue"])])):$("",!0),d(o).default?(v(),A("div",Vv,[ye(l.$slots,"default")])):$("",!0)]))}},Mv={key:0,"data-table-checkbox":""},Tv=["value","checked","disabled"],qv={key:1,"data-table-row-actions":""},Nv={key:0},Uv={__name:"DataTableRow",props:{data:Object,columns:Array,forceMenu:Boolean,includeCheckbox:Boolean},emits:["toggle","action"],setup(e,{emit:t}){const n=e,o=V(()=>n.data._),r=V(()=>n.data.data),l=V(()=>n.forceMenu||o.value.actions.length>1),a=V(()=>o.value.actions.map(u=>{const i=u.name||u,c=u.key||i.toUpperCase().replaceAll(" ","_"),p=()=>t("action",{key:c,data:r.value});let m="span";return u.to&&(m=hr),u.href&&(m="a"),{label:i,to:u.to,href:u.href,key:c,invoke:p,component:m}})),s=V(()=>{const u={component:"span",label:"•••",invoke:null};return l.value?u:a.value[0]});return(u,i)=>(v(),A("tr",null,[n.includeCheckbox?(v(),A("td",Mv,[g("input",{type:"checkbox",value:r.value.id,checked:o.value.isSelected,disabled:!o.value.isSelectable,onChange:i[0]||(i[0]=c=>t("toggle"))},null,40,Tv)])):$("",!0),ye(u.$slots,"default",{},()=>[(v(!0),A(G,null,he(n.columns,c=>{var p;return v(),A("td",{key:c.key},C((p=d(vl)(r.value,c.key))==null?void 0:p.toLocaleString()),1)}),128))]),o.value.actions?(v(),A("td",qv,[g("button",null,[(v(),w(Vn(s.value.component),{to:s.value.to,href:s.value.href,onClick:s.value.invoke,tabindex:"0"},{default:y(()=>[S(C(s.value.label),1)]),_:1},8,["to","href","onClick"]))]),l.value?(v(),A("div",Nv,[(v(!0),A(G,null,he(a.value,c=>(v(),A("button",{key:c.key},[(v(),w(Vn(c.component),{to:c.to,href:c.href,tabindex:"0",onClick:c.invoke},{default:y(()=>[S(C(c.label),1)]),_:2},1032,["to","href","onClick"]))]))),128))])):$("",!0)])):$("",!0)]))}},Lv={class:"cf-data-table"},jv={class:"cf-data-table-container"},Dv={key:0,style:{"--w":"3rem"}},Bv={key:1,style:{"--w":"4rem"}},Fv={key:0,"data-table-checkbox":""},zv=["disabled"],Wv=["onClick"],Hv={key:1},Kv={key:1},Ie={__name:"DataTable",props:{title:String,description:String,data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},selection:{type:Array,default:[]},rowActions:[Boolean,Array],forceRowMenu:Boolean,customTemplate:Boolean,selectable:Boolean,sortable:Boolean,defaultSortKey:{type:String,default:""},searchable:Boolean},emits:["update:selection","row-action"],setup(e,{emit:t}){const n=e,o=dr(),r=k(n.defaultSortKey),l=k("asc"),a=k(""),s=V(()=>{if(n.searchable){const{results:b}=wv(a,n.data,{fuseOptions:{keys:n.columns.map(({key:h})=>h),minMatchCharLength:2,threshold:.15},matchAllWhenSearchEmpty:!0});return b.value}else return n.data}),u=V(()=>s.value.map(b=>b.item||b).sort((b,h)=>{const _=vl(b,r.value),R=vl(h,r.value);return typeof _=="string"?l.value==="asc"?_==null?void 0:_.localeCompare(R):R==null?void 0:R.localeCompare(_):l.value==="asc"?_-R:R-_}).map(({_:b,...h})=>({_:{isDisabled:(b==null?void 0:b.disabled)??!1,isSelectable:(b==null?void 0:b.seletable)??!0,isSelected:n.selection.includes(h.id),actions:(b==null?void 0:b.actions)??n.rowActions},data:h}))),i=V(()=>u.value.some(b=>b._.isSelectable)),c=V({get:()=>{const b=u.value.filter(h=>h._.isSelectable).length;return b>=1&&b===n.selection.length},set:b=>{let h=[];b===!0&&(h=u.value.filter(_=>!_._.isDisabled&&_._.isSelectable).map(_=>_.data.id)),t("update:selection",h)}}),p=b=>{const h=n.selection.includes(b)?n.selection.slice().filter(_=>b!==_):n.selection.concat(b);t("update:selection",h)},m=b=>{r.value===b?l.value=l.value==="asc"?"desc":"asc":(r.value=b,l.value="asc")};return(b,h)=>(v(),A("div",Lv,[n.title||n.description||n.searchable||d(o).header?(v(),w(Pv,{key:0,search:a.value,"onUpdate:search":h[0]||(h[0]=_=>a.value=_),title:n.title,description:n.description,searchable:n.searchable},{default:y(()=>[ye(b.$slots,"header")]),_:3},8,["search","title","description","searchable"])):$("",!0),g("div",jv,[g("table",null,[g("colgroup",null,[n.selectable?(v(),A("col",Dv)):$("",!0),(v(!0),A(G,null,he(n.columns,_=>(v(),A("col",{key:_.key,style:rr({"--w":_.width})},null,4))),128)),n.rowActions?(v(),A("col",Bv)):$("",!0)]),g("thead",null,[g("tr",null,[n.selectable?(v(),A("th",Fv,[Zt(g("input",{"onUpdate:modelValue":h[1]||(h[1]=_=>c.value=_),type:"checkbox",disabled:!i.value},null,8,zv),[[Fl,c.value]])])):$("",!0),(v(!0),A(G,null,he(n.columns,_=>(v(),A("th",{key:_.key},[n.sortable?(v(),A("button",{key:0,onClick:R=>m(_.key)},C(_.label),9,Wv)):(v(),A("div",Hv,C(_.label),1))]))),128)),n.rowActions?(v(),A("th",Kv)):$("",!0)])]),g("tbody",null,[(v(!0),A(G,null,he(u.value,_=>(v(),w(Uv,{key:_.data.id,data:_,columns:n.columns,"include-checkbox":n.selectable,"force-menu":n.forceRowMenu,onToggle:R=>p(_.data.id),onAction:h[2]||(h[2]=R=>t("row-action",R))},{default:y(()=>[ye(b.$slots,"row",{data:_.data})]),_:2},1032,["data","columns","include-checkbox","force-menu","onToggle"]))),128))])])])]))}},Jv={class:"cf-sidebar-nav"},Qv=g("hr",null,null,-1),Yv=g("figure",null,null,-1),Gv=g("span",null,null,-1),Xv=[Yv,Gv],Zv={__name:"Sidebar",setup(e){const t=k(!1),n=V(()=>({"cf-sidebar":!0,"cf-sidebar--toggled":t.value}));return(o,r)=>(v(),A("aside",{class:Fe(n.value)},[g("div",null,[g("nav",Jv,[ye(o.$slots,"default"),Qv]),g("button",{class:"cf-sidebar-toggle",onClick:r[0]||(r[0]=l=>t.value=!t.value)},Xv)])],2))}},ey={__name:"AppLayout",setup(e){return Ne(()=>{document.body.dataset.layout="app"}),(t,n)=>(v(),A(G,null,[f(Ym,null,{left:y(()=>[ye(t.$slots,"brand")]),right:y(()=>[ye(t.$slots,"navigation")]),_:3}),f(Zv,null,{default:y(()=>[ye(t.$slots,"sidebar")]),_:3}),g("main",null,[ye(t.$slots,"main")])],64))}},ty=["onKeydown"],ny={class:"cf-dialog-header"},oy={class:"cf-dialog__title"},ry={key:0},ly={class:"cf-dialog-body"},ay={class:"cf-dialog-footer"},sy=["disabled"],uy=g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},[g("path",{d:"M14.34 13.605L8.696 8.023l5.582-5.645-.71-.703-5.583 5.644L2.34 1.737l-.703.711L7.282 8.03 1.7 13.675l.71.703 5.583-5.645 5.644 5.583.703-.711z"})],-1),iy=[uy],te={__name:"Dialog",props:{title:String,description:String,persist:{type:Boolean,default:!1},persistent:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,o=k(),r=()=>{!n.persist&&!n.persistent&&t("close")};return Ne(()=>o.value.showModal()),(l,a)=>(v(),A("dialog",{class:"cf-dialog",ref_key:"dialog",ref:o,onKeydown:rl(ce(r,["prevent"]),["esc"])},[g("div",ny,[g("div",oy,C(n.title),1),n.description?(v(),A("div",ry,C(n.description),1)):$("",!0)]),g("div",ly,[ye(l.$slots,"body")]),g("div",ay,[ye(l.$slots,"footer")]),n.persistent?$("",!0):(v(),A("button",{key:0,class:"cf-dialog-close",disabled:n.persist,onClick:r},iy,8,sy))],40,ty))}},bs={__name:"DropdownItem",props:{icon:String,to:[Object,String],large:Boolean},setup(e){const t=e,n=V(()=>t.to?hr:"a"),o=V(()=>({"cf-dropdown-item":!0,"cf-dropdown-item--large":t.large})),r=V(()=>{var l;if(typeof t.to!="string")return{route:t.to};if((l=t.to)!=null&&l.includes("http"))return{link:t.to};if(t.to)return{route:t.to}});return(l,a)=>(v(),w(Vn(n.value),{class:Fe(o.value),to:r.value.route,href:r.value.link},{default:y(()=>[ye(l.$slots,"default")]),_:3},8,["class","to","href"]))}},cy={class:"cf-tag"},dy=g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},[g("path",{d:"M14.34 13.605L8.696 8.023l5.582-5.645-.71-.703-5.583 5.644L2.34 1.737l-.703.711L7.282 8.03 1.7 13.675l.71.703 5.583-5.645 5.644 5.583.703-.711z"})],-1),py=[dy],Zn={__name:"Tag",props:{removable:{type:Boolean,default:!0}},emits:["remove"],setup(e,{emit:t}){const n=e;return(o,r)=>(v(),A("div",cy,[g("span",null,[ye(o.$slots,"default")]),n.removable?(v(),A("button",{key:0,onClick:r[0]||(r[0]=l=>t("remove"))},py)):$("",!0)]))}},fy={class:"cf-header"},my={key:0},vy={key:1},yy={key:0},Ze={__name:"Header",props:{size:{type:String,default:"h4"},title:String,surtitle:String,subtitle:String},setup(e){const t=e,n=dr();return(o,r)=>(v(),A("div",fy,[g("div",null,[t.surtitle?(v(),A("p",my,C(t.surtitle),1)):$("",!0),(v(),w(Vn(t.size),null,{default:y(()=>[S(C(t.title),1)]),_:1})),t.subtitle?(v(),A("p",vy,C(t.subtitle),1)):$("",!0)]),d(n).action?(v(),A("div",yy,[ye(o.$slots,"action")])):$("",!0)]))}},hy={class:"cf-form-control"},by={key:0},gy={class:"cf-form-control-widget"},_y={key:0},wy=["disabled","required","title","autofocus"],Oy={key:0,value:null},ky=["value","disabled"],Sy={key:1},Ey={key:1},we={__name:"Select",props:{options:Array,...ci},emits:["update:modelValue","input"],setup(e,{emit:t}){const n=e,o=V({get:()=>n.modelValue||n.value,set:r=>{t("update:modelValue",r),t("input",{data:r})}});return(r,l)=>(v(),A("div",hy,[n.label?(v(),A("label",by,C(n.label),1)):$("",!0),g("div",gy,[n.prefix?(v(),A("div",_y,C(n.prefix),1)):$("",!0),Zt(g("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a),disabled:n.disabled,required:n.required,title:n.title,autofocus:n.autofocus},[!n.required&&n.options.length?(v(),A("option",Oy)):$("",!0),(v(!0),A(G,null,he(n.options,a=>(v(),A("option",{key:a.value||a,value:a.value||a,disabled:a.disabled??!1},C(a.label||a),9,ky))),128)),ye(r.$slots,"default")],8,wy),[[zl,o.value]]),n.suffix?(v(),A("div",Sy,C(n.suffix),1)):$("",!0)]),n.helper?(v(),A("small",Ey,C(n.helper),1)):$("",!0)]))}},Cy={key:0},Ay={key:0},$y=g("figure",null,null,-1),xy={class:"cf-sidebar-link-children"},Ro={__name:"SidebarLink",props:{to:[String,Object],href:String,label:String,icon:{type:Boolean,default:!0},path:String},setup(e){const t=e,n=V(()=>t.path?gf().path.includes(t.path):null),o=V(()=>t.to?hr:"a"),r=V(()=>({"cf-sidebar-link":!0,[`cf-sidebar-link--${t.label.toLowerCase().replaceAll(" ","-")}`]:t.icon}));return(l,a)=>t.path?(v(),A("div",{key:1,class:Fe(["cf-sidebar-link-group",{hasRouterLinkActive:n.value}])},[g("button",{class:Fe(r.value)},[$y,g("span",null,C(t.label),1)],2),g("div",xy,[ye(l.$slots,"children")])],2)):(v(),A("button",Cy,[(v(),w(Vn(o.value),{class:Fe(r.value),to:t.to,href:t.href},{default:y(()=>[t.icon?(v(),A("figure",Ay)):$("",!0),g("span",null,C(t.label),1)]),_:1},8,["class","to","href"]))]))}},Ry={class:"cf-summary-list"},Xo={__name:"SummaryList",props:{data:{type:Array,default:()=>[]}},setup(e){const t=e;return(n,o)=>(v(),A("dl",Ry,[(v(!0),A(G,null,he(t.data,r=>(v(),A(G,null,[g("dt",null,C(r.label),1),g("dd",null,C(r.value),1)],64))),256))]))}},Iy={class:"cf-switch"},Vy=["value","true-value","false-value","disabled"],Py={key:0,class:"cf-switch__label"},bt={__name:"Switch",props:{modelValue:[Number,String,Boolean],label:String,value:[Number,String,Boolean],trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!1},disabled:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=V({get(){return n.modelValue},set(r){t("update:modelValue",r)}});return(r,l)=>(v(),A("div",Iy,[Zt(g("input",{class:"cf-switch__box","onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a),type:"checkbox",value:n.value,"true-value":n.trueValue,"false-value":n.falseValue,disabled:n.disabled},null,8,Vy),[[Fl,o.value]]),n.label?(v(),A("div",Py,C(n.label),1)):$("",!0)]))}},My=["inert"],Ty={key:0},qy={class:"cf-tags-input__widget"},Ny=["required"],Uy={class:"cf-tags-input__tags"},Ly={key:1},di={__name:"TagsInput",props:{modelValue:Array,label:String,buttonText:{type:String,default:"Add"},prefix:String,options:Array,helper:String,disabled:Boolean,required:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=k(!1),r=k(""),l=V(()=>{var c;return(c=n.options)==null?void 0:c.map(p=>({label:p.label||p,value:p.value||p}))}),a=V(()=>{var c;return(c=l.value)==null?void 0:c.filter(p=>!n.modelValue.includes(p.value))}),s=c=>l.value.find(p=>p.value===c).label,u=()=>{if(!r.value||n.disabled)return!1;const c=n.modelValue;c.push(r.value),t("update:modelValue",c),r.value="",o.value=!1},i=c=>{if(n.disabled)return!1;const p=n.modelValue;p.splice(c,1),t("update:modelValue",p)};return(c,p)=>(v(),A("div",{class:"cf-tags-input",inert:n.disabled},[n.label?(v(),A("label",Ty,C(n.label),1)):$("",!0),g("div",qy,[!n.options&&o.value?(v(),w(B,{key:0,modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=m=>r.value=m),prefix:n.prefix,onKeydown:rl(u,["enter"]),onChange:u,required:""},null,8,["modelValue","prefix","onKeydown"])):$("",!0),n.options&&o.value?(v(),w(we,{key:1,modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=m=>r.value=m),options:a.value,onKeydown:rl(u,["enter"]),onChange:u,required:""},null,8,["modelValue","options","onKeydown"])):$("",!0),o.value?$("",!0):(v(),w(ut,{key:2,color:"blue",onClick:p[2]||(p[2]=m=>o.value=!0)},{default:y(()=>[S(C(n.buttonText),1)]),_:1})),g("input",{class:"cf-tags-input__widget__faux",type:"text",required:n.required&&!n.modelValue.length},null,8,Ny)]),g("div",Uy,[(v(!0),A(G,null,he(n.modelValue,(m,b)=>(v(),w(Zn,{key:m,onRemove:h=>i(b)},{default:y(()=>[S(C(n.prefix)+" "+C(n.options?s(m):m),1)]),_:2},1032,["onRemove"]))),128))]),n.helper?(v(),A("small",Ly,C(n.helper),1)):$("",!0)],8,My))}},{VITE_API_BASE_URL:jy}={VITE_API_BASE_URL:"/api",VITE_API_BASE_URL_:"https://planta.up.railway.app/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function pi(e,t){return function(){return e.apply(t,arguments)}}const{toString:Dy}=Object.prototype,{getPrototypeOf:Ql}=Object,gr=(e=>t=>{const n=Dy.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),At=e=>(e=e.toLowerCase(),t=>gr(t)===e),_r=e=>t=>typeof t===e,{isArray:zn}=Array,mo=_r("undefined");function By(e){return e!==null&&!mo(e)&&e.constructor!==null&&!mo(e.constructor)&&it(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fi=At("ArrayBuffer");function Fy(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fi(e.buffer),t}const zy=_r("string"),it=_r("function"),mi=_r("number"),wr=e=>e!==null&&typeof e=="object",Wy=e=>e===!0||e===!1,To=e=>{if(gr(e)!=="object")return!1;const t=Ql(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hy=At("Date"),Ky=At("File"),Jy=At("Blob"),Qy=At("FileList"),Yy=e=>wr(e)&&it(e.pipe),Gy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||it(e.append)&&((t=gr(e))==="formdata"||t==="object"&&it(e.toString)&&e.toString()==="[object FormData]"))},Xy=At("URLSearchParams"),Zy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),zn(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),a=l.length;let s;for(o=0;o<a;o++)s=l[o],t.call(null,e[s],s,e)}}function vi(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,r;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const yi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hi=e=>!mo(e)&&e!==yi;function yl(){const{caseless:e}=hi(this)&&this||{},t={},n=(o,r)=>{const l=e&&vi(t,r)||r;To(t[l])&&To(o)?t[l]=yl(t[l],o):To(o)?t[l]=yl({},o):zn(o)?t[l]=o.slice():t[l]=o};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&yo(arguments[o],n);return t}const eh=(e,t,n,{allOwnKeys:o}={})=>(yo(t,(r,l)=>{n&&it(r)?e[l]=pi(r,n):e[l]=r},{allOwnKeys:o}),e),th=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nh=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},oh=(e,t,n,o)=>{let r,l,a;const s={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)a=r[l],(!o||o(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&Ql(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rh=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},lh=e=>{if(!e)return null;if(zn(e))return e;let t=e.length;if(!mi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ah=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ql(Uint8Array)),sh=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=o.next())&&!r.done;){const l=r.value;t.call(e,l[0],l[1])}},uh=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},ih=At("HTMLFormElement"),ch=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),gs=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),dh=At("RegExp"),bi=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};yo(n,(r,l)=>{t(r,l,e)!==!1&&(o[l]=r)}),Object.defineProperties(e,o)},ph=e=>{bi(e,(t,n)=>{if(it(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(it(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fh=(e,t)=>{const n={},o=r=>{r.forEach(l=>{n[l]=!0})};return zn(e)?o(e):o(String(e).split(t)),n},mh=()=>{},vh=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Dr="abcdefghijklmnopqrstuvwxyz",_s="0123456789",gi={DIGIT:_s,ALPHA:Dr,ALPHA_DIGIT:Dr+Dr.toUpperCase()+_s},yh=(e=16,t=gi.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n};function hh(e){return!!(e&&it(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const bh=e=>{const t=new Array(10),n=(o,r)=>{if(wr(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[r]=o;const l=zn(o)?[]:{};return yo(o,(a,s)=>{const u=n(a,r+1);!mo(u)&&(l[s]=u)}),t[r]=void 0,l}}return o};return n(e,0)},gh=At("AsyncFunction"),_h=e=>e&&(wr(e)||it(e))&&it(e.then)&&it(e.catch),L={isArray:zn,isArrayBuffer:fi,isBuffer:By,isFormData:Gy,isArrayBufferView:Fy,isString:zy,isNumber:mi,isBoolean:Wy,isObject:wr,isPlainObject:To,isUndefined:mo,isDate:Hy,isFile:Ky,isBlob:Jy,isRegExp:dh,isFunction:it,isStream:Yy,isURLSearchParams:Xy,isTypedArray:ah,isFileList:Qy,forEach:yo,merge:yl,extend:eh,trim:Zy,stripBOM:th,inherits:nh,toFlatObject:oh,kindOf:gr,kindOfTest:At,endsWith:rh,toArray:lh,forEachEntry:sh,matchAll:uh,isHTMLForm:ih,hasOwnProperty:gs,hasOwnProp:gs,reduceDescriptors:bi,freezeMethods:ph,toObjectSet:fh,toCamelCase:ch,noop:mh,toFiniteNumber:vh,findKey:vi,global:yi,isContextDefined:hi,ALPHABET:gi,generateString:yh,isSpecCompliantForm:hh,toJSONObject:bh,isAsyncFn:gh,isThenable:_h};function ve(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}L.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _i=ve.prototype,wi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wi[e]={value:e}});Object.defineProperties(ve,wi);Object.defineProperty(_i,"isAxiosError",{value:!0});ve.from=(e,t,n,o,r,l)=>{const a=Object.create(_i);return L.toFlatObject(e,a,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),ve.call(a,e.message,t,n,o,r),a.cause=e,a.name=e.name,l&&Object.assign(a,l),a};const wh=null;function hl(e){return L.isPlainObject(e)||L.isArray(e)}function Oi(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function ws(e,t,n){return e?e.concat(t).map(function(r,l){return r=Oi(r),!n&&l?"["+r+"]":r}).join(n?".":""):t}function Oh(e){return L.isArray(e)&&!e.some(hl)}const kh=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Or(e,t,n){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,R){return!L.isUndefined(R[_])});const o=n.metaTokens,r=n.visitor||c,l=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(r))throw new TypeError("visitor must be a function");function i(h){if(h===null)return"";if(L.isDate(h))return h.toISOString();if(!u&&L.isBlob(h))throw new ve("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(h)||L.isTypedArray(h)?u&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,_,R){let P=h;if(h&&!R&&typeof h=="object"){if(L.endsWith(_,"{}"))_=o?_:_.slice(0,-2),h=JSON.stringify(h);else if(L.isArray(h)&&Oh(h)||(L.isFileList(h)||L.endsWith(_,"[]"))&&(P=L.toArray(h)))return _=Oi(_),P.forEach(function(q,M){!(L.isUndefined(q)||q===null)&&t.append(a===!0?ws([_],M,l):a===null?_:_+"[]",i(q))}),!1}return hl(h)?!0:(t.append(ws(R,_,l),i(h)),!1)}const p=[],m=Object.assign(kh,{defaultVisitor:c,convertValue:i,isVisitable:hl});function b(h,_){if(!L.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(h),L.forEach(h,function(P,T){(!(L.isUndefined(P)||P===null)&&r.call(t,P,L.isString(T)?T.trim():T,_,m))===!0&&b(P,_?_.concat(T):[T])}),p.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Os(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Yl(e,t){this._pairs=[],e&&Or(e,this,t)}const ki=Yl.prototype;ki.append=function(t,n){this._pairs.push([t,n])};ki.toString=function(t){const n=t?function(o){return t.call(this,o,Os)}:Os;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Sh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Si(e,t,n){if(!t)return e;const o=n&&n.encode||Sh,r=n&&n.serialize;let l;if(r?l=r(t,n):l=L.isURLSearchParams(t)?t.toString():new Yl(t,n).toString(o),l){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Eh{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(o){o!==null&&t(o)})}}const ks=Eh,Ei={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ch=typeof URLSearchParams<"u"?URLSearchParams:Yl,Ah=typeof FormData<"u"?FormData:null,$h=typeof Blob<"u"?Blob:null,xh=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Rh=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Et={isBrowser:!0,classes:{URLSearchParams:Ch,FormData:Ah,Blob:$h},isStandardBrowserEnv:xh,isStandardBrowserWebWorkerEnv:Rh,protocols:["http","https","file","blob","url","data"]};function Ih(e,t){return Or(e,new Et.classes.URLSearchParams,Object.assign({visitor:function(n,o,r,l){return Et.isNode&&L.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function Vh(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ph(e){const t={},n=Object.keys(e);let o;const r=n.length;let l;for(o=0;o<r;o++)l=n[o],t[l]=e[l];return t}function Ci(e){function t(n,o,r,l){let a=n[l++];const s=Number.isFinite(+a),u=l>=n.length;return a=!a&&L.isArray(r)?r.length:a,u?(L.hasOwnProp(r,a)?r[a]=[r[a],o]:r[a]=o,!s):((!r[a]||!L.isObject(r[a]))&&(r[a]=[]),t(n,o,r[a],l)&&L.isArray(r[a])&&(r[a]=Ph(r[a])),!s)}if(L.isFormData(e)&&L.isFunction(e.entries)){const n={};return L.forEachEntry(e,(o,r)=>{t(Vh(o),r,n,0)}),n}return null}const Mh={"Content-Type":void 0};function Th(e,t,n){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const kr={transitional:Ei,adapter:["xhr","http"],transformRequest:[function(t,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,l=L.isObject(t);if(l&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return r&&r?JSON.stringify(Ci(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Ih(t,this.formSerializer).toString();if((s=L.isFileList(t))||o.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Or(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return l||r?(n.setContentType("application/json",!1),Th(t)):t}],transformResponse:[function(t){const n=this.transitional||kr.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&L.isString(t)&&(o&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?ve.from(s,ve.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(t){kr.headers[t]={}});L.forEach(["post","put","patch"],function(t){kr.headers[t]=L.merge(Mh)});const Gl=kr,qh=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nh=e=>{const t={};let n,o,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),o=a.substring(r+1).trim(),!(!n||t[n]&&qh[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},Ss=Symbol("internals");function Yn(e){return e&&String(e).trim().toLowerCase()}function qo(e){return e===!1||e==null?e:L.isArray(e)?e.map(qo):String(e)}function Uh(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const Lh=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Br(e,t,n,o,r){if(L.isFunction(o))return o.call(this,t,n);if(r&&(t=n),!!L.isString(t)){if(L.isString(o))return t.indexOf(o)!==-1;if(L.isRegExp(o))return o.test(t)}}function jh(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function Dh(e,t){const n=L.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(r,l,a){return this[o].call(this,t,r,l,a)},configurable:!0})})}class Sr{constructor(t){t&&this.set(t)}set(t,n,o){const r=this;function l(s,u,i){const c=Yn(u);if(!c)throw new Error("header name must be a non-empty string");const p=L.findKey(r,c);(!p||r[p]===void 0||i===!0||i===void 0&&r[p]!==!1)&&(r[p||u]=qo(s))}const a=(s,u)=>L.forEach(s,(i,c)=>l(i,c,u));return L.isPlainObject(t)||t instanceof this.constructor?a(t,n):L.isString(t)&&(t=t.trim())&&!Lh(t)?a(Nh(t),n):t!=null&&l(n,t,o),this}get(t,n){if(t=Yn(t),t){const o=L.findKey(this,t);if(o){const r=this[o];if(!n)return r;if(n===!0)return Uh(r);if(L.isFunction(n))return n.call(this,r,o);if(L.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yn(t),t){const o=L.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||Br(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let r=!1;function l(a){if(a=Yn(a),a){const s=L.findKey(o,a);s&&(!n||Br(o,o[s],s,n))&&(delete o[s],r=!0)}}return L.isArray(t)?t.forEach(l):l(t),r}clear(t){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const l=n[o];(!t||Br(this,this[l],l,t,!0))&&(delete this[l],r=!0)}return r}normalize(t){const n=this,o={};return L.forEach(this,(r,l)=>{const a=L.findKey(o,l);if(a){n[a]=qo(r),delete n[l];return}const s=t?jh(l):String(l).trim();s!==l&&delete n[l],n[s]=qo(r),o[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return L.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=t&&L.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[Ss]=this[Ss]={accessors:{}}).accessors,r=this.prototype;function l(a){const s=Yn(a);o[s]||(Dh(r,a),o[s]=!0)}return L.isArray(t)?t.forEach(l):l(t),this}}Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(Sr.prototype);L.freezeMethods(Sr);const Mt=Sr;function Fr(e,t){const n=this||Gl,o=t||n,r=Mt.from(o.headers);let l=o.data;return L.forEach(e,function(s){l=s.call(n,l,r.normalize(),t?t.status:void 0)}),r.normalize(),l}function Ai(e){return!!(e&&e.__CANCEL__)}function ho(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}L.inherits(ho,ve,{__CANCEL__:!0});function Bh(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Fh=Et.isStandardBrowserEnv?function(){return{write:function(n,o,r,l,a,s){const u=[];u.push(n+"="+encodeURIComponent(o)),L.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),L.isString(l)&&u.push("path="+l),L.isString(a)&&u.push("domain="+a),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function zh(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Wh(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function $i(e,t){return e&&!zh(t)?Wh(e,t):t}const Hh=Et.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let o;function r(l){let a=l;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=r(window.location.href),function(a){const s=L.isString(a)?r(a):a;return s.protocol===o.protocol&&s.host===o.host}}():function(){return function(){return!0}}();function Kh(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jh(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r=0,l=0,a;return t=t!==void 0?t:1e3,function(u){const i=Date.now(),c=o[l];a||(a=i),n[r]=u,o[r]=i;let p=l,m=0;for(;p!==r;)m+=n[p++],p=p%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),i-a<t)return;const b=c&&i-c;return b?Math.round(m*1e3/b):void 0}}function Es(e,t){let n=0;const o=Jh(50,250);return r=>{const l=r.loaded,a=r.lengthComputable?r.total:void 0,s=l-n,u=o(s),i=l<=a;n=l;const c={loaded:l,total:a,progress:a?l/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i?(a-l)/u:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const Qh=typeof XMLHttpRequest<"u",Yh=Qh&&function(e){return new Promise(function(n,o){let r=e.data;const l=Mt.from(e.headers).normalize(),a=e.responseType;let s;function u(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}L.isFormData(r)&&(Et.isStandardBrowserEnv||Et.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.setContentType("multipart/form-data;",!1));let i=new XMLHttpRequest;if(e.auth){const b=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.set("Authorization","Basic "+btoa(b+":"+h))}const c=$i(e.baseURL,e.url);i.open(e.method.toUpperCase(),Si(c,e.params,e.paramsSerializer),!0),i.timeout=e.timeout;function p(){if(!i)return;const b=Mt.from("getAllResponseHeaders"in i&&i.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?i.responseText:i.response,status:i.status,statusText:i.statusText,headers:b,config:e,request:i};Bh(function(P){n(P),u()},function(P){o(P),u()},_),i=null}if("onloadend"in i?i.onloadend=p:i.onreadystatechange=function(){!i||i.readyState!==4||i.status===0&&!(i.responseURL&&i.responseURL.indexOf("file:")===0)||setTimeout(p)},i.onabort=function(){i&&(o(new ve("Request aborted",ve.ECONNABORTED,e,i)),i=null)},i.onerror=function(){o(new ve("Network Error",ve.ERR_NETWORK,e,i)),i=null},i.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const _=e.transitional||Ei;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),o(new ve(h,_.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,i)),i=null},Et.isStandardBrowserEnv){const b=(e.withCredentials||Hh(c))&&e.xsrfCookieName&&Fh.read(e.xsrfCookieName);b&&l.set(e.xsrfHeaderName,b)}r===void 0&&l.setContentType(null),"setRequestHeader"in i&&L.forEach(l.toJSON(),function(h,_){i.setRequestHeader(_,h)}),L.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),a&&a!=="json"&&(i.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&i.addEventListener("progress",Es(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&i.upload&&i.upload.addEventListener("progress",Es(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=b=>{i&&(o(!b||b.type?new ho(null,e,i):b),i.abort(),i=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const m=Kh(c);if(m&&Et.protocols.indexOf(m)===-1){o(new ve("Unsupported protocol "+m+":",ve.ERR_BAD_REQUEST,e));return}i.send(r||null)})},No={http:wh,xhr:Yh};L.forEach(No,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gh={getAdapter:e=>{e=L.isArray(e)?e:[e];const{length:t}=e;let n,o;for(let r=0;r<t&&(n=e[r],!(o=L.isString(n)?No[n.toLowerCase()]:n));r++);if(!o)throw o===!1?new ve(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(No,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!L.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:No};function zr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ho(null,e)}function Cs(e){return zr(e),e.headers=Mt.from(e.headers),e.data=Fr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gh.getAdapter(e.adapter||Gl.adapter)(e).then(function(o){return zr(e),o.data=Fr.call(e,e.transformResponse,o),o.headers=Mt.from(o.headers),o},function(o){return Ai(o)||(zr(e),o&&o.response&&(o.response.data=Fr.call(e,e.transformResponse,o.response),o.response.headers=Mt.from(o.response.headers))),Promise.reject(o)})}const As=e=>e instanceof Mt?e.toJSON():e;function Un(e,t){t=t||{};const n={};function o(i,c,p){return L.isPlainObject(i)&&L.isPlainObject(c)?L.merge.call({caseless:p},i,c):L.isPlainObject(c)?L.merge({},c):L.isArray(c)?c.slice():c}function r(i,c,p){if(L.isUndefined(c)){if(!L.isUndefined(i))return o(void 0,i,p)}else return o(i,c,p)}function l(i,c){if(!L.isUndefined(c))return o(void 0,c)}function a(i,c){if(L.isUndefined(c)){if(!L.isUndefined(i))return o(void 0,i)}else return o(void 0,c)}function s(i,c,p){if(p in t)return o(i,c);if(p in e)return o(void 0,i)}const u={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(i,c)=>r(As(i),As(c),!0)};return L.forEach(Object.keys(Object.assign({},e,t)),function(c){const p=u[c]||r,m=p(e[c],t[c],c);L.isUndefined(m)&&p!==s||(n[c]=m)}),n}const xi="1.4.0",Xl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xl[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const $s={};Xl.transitional=function(t,n,o){function r(l,a){return"[Axios v"+xi+"] Transitional option '"+l+"'"+a+(o?". "+o:"")}return(l,a,s)=>{if(t===!1)throw new ve(r(a," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!$s[a]&&($s[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,a,s):!0}};function Xh(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const l=o[r],a=t[l];if(a){const s=e[l],u=s===void 0||a(s,l,e);if(u!==!0)throw new ve("option "+l+" must be "+u,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+l,ve.ERR_BAD_OPTION)}}const bl={assertOptions:Xh,validators:Xl},Ft=bl.validators;let Zo=class{constructor(t){this.defaults=t,this.interceptors={request:new ks,response:new ks}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Un(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:l}=n;o!==void 0&&bl.assertOptions(o,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),r!=null&&(L.isFunction(r)?n.paramsSerializer={serialize:r}:bl.assertOptions(r,{encode:Ft.function,serialize:Ft.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a;a=l&&L.merge(l.common,l[n.method]),a&&L.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),n.headers=Mt.concat(a,l);const s=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,s.unshift(_.fulfilled,_.rejected))});const i=[];this.interceptors.response.forEach(function(_){i.push(_.fulfilled,_.rejected)});let c,p=0,m;if(!u){const h=[Cs.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,i),m=h.length,c=Promise.resolve(n);p<m;)c=c.then(h[p++],h[p++]);return c}m=s.length;let b=n;for(p=0;p<m;){const h=s[p++],_=s[p++];try{b=h(b)}catch(R){_.call(this,R);break}}try{c=Cs.call(this,b)}catch(h){return Promise.reject(h)}for(p=0,m=i.length;p<m;)c=c.then(i[p++],i[p++]);return c}getUri(t){t=Un(this.defaults,t);const n=$i(t.baseURL,t.url);return Si(n,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){Zo.prototype[t]=function(n,o){return this.request(Un(o||{},{method:t,url:n,data:(o||{}).data}))}});L.forEach(["post","put","patch"],function(t){function n(o){return function(l,a,s){return this.request(Un(s||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}Zo.prototype[t]=n(),Zo.prototype[t+"Form"]=n(!0)});const Uo=Zo;class Zl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(r=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](r);o._listeners=null}),this.promise.then=r=>{let l;const a=new Promise(s=>{o.subscribe(s),l=s}).then(r);return a.cancel=function(){o.unsubscribe(l)},a},t(function(l,a,s){o.reason||(o.reason=new ho(l,a,s),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Zl(function(r){t=r}),cancel:t}}}const Zh=Zl;function eb(e){return function(n){return e.apply(null,n)}}function tb(e){return L.isObject(e)&&e.isAxiosError===!0}const gl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gl).forEach(([e,t])=>{gl[t]=e});const nb=gl;function Ri(e){const t=new Uo(e),n=pi(Uo.prototype.request,t);return L.extend(n,Uo.prototype,t,{allOwnKeys:!0}),L.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ri(Un(e,r))},n}const Ue=Ri(Gl);Ue.Axios=Uo;Ue.CanceledError=ho;Ue.CancelToken=Zh;Ue.isCancel=Ai;Ue.VERSION=xi;Ue.toFormData=Or;Ue.AxiosError=ve;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=eb;Ue.isAxiosError=tb;Ue.mergeConfig=Un;Ue.AxiosHeaders=Mt;Ue.formToJSON=e=>Ci(L.isHTMLForm(e)?new FormData(e):e);Ue.HttpStatusCode=nb;Ue.default=Ue;const ob=Ue,W=ob.create({baseURL:jy});W.interceptors.request.use(e=>{const{session:t}=on();return t.value.token&&(e.headers.Authorization=`Bearer ${t.value.token}`),e});const rb=async e=>{try{const{data:t}=await W.get("/v1/allocations",{params:e});return t}catch(t){throw Error(t.response.data.message)}},lb=async e=>{try{await W.post("/v1/allocations/increment",e)}catch(t){throw Error(t.response.data.message)}},ab=Object.freeze(Object.defineProperty({__proto__:null,getAll:rb,increment:lb},Symbol.toStringTag,{value:"Module"})),sb=async e=>{try{const{data:t}=await W.post("/v1/auth/login",e);return t}catch(t){throw Error(t.response.data.message)}},ub=async e=>{try{await W.post("/v1/auth/change-password",e)}catch(t){throw Error(t.response.data.message)}},ib=Object.freeze(Object.defineProperty({__proto__:null,changePassword:ub,login:sb},Symbol.toStringTag,{value:"Module"})),cb=async e=>{try{const{data:t}=await W.post("/v1/categories",e);return t}catch(t){throw Error(t.response.data.message)}},db=async()=>{try{const{data:e}=await W.get("/v1/categories");return e}catch(e){throw Error(e.response.data.message)}},pb=async e=>{try{await W.put("/v1/categories",e)}catch(t){throw Error(t.response.data.message)}},fb=async e=>{try{await W.delete(`/v1/categories/${e}`)}catch(t){throw Error(t.response.data.message)}},mb=Object.freeze(Object.defineProperty({__proto__:null,createOne:cb,deleteOne:fb,getAll:db,updateOne:pb},Symbol.toStringTag,{value:"Module"})),vb=async e=>{try{const{data:t}=await W.post("/v1/customers",e);return t}catch(t){throw Error(t.response.data.message)}},yb=async()=>{try{const{data:e}=await W.get("/v1/customers");return e}catch(e){throw Error(e.response.data.message)}},hb=async e=>{try{await W.put("/v1/customers",e)}catch(t){throw Error(t.response.data.message)}},bb=async e=>{try{await W.delete(`/v1/customers/${e}`)}catch(t){throw Error(t.response.data.message)}},gb=Object.freeze(Object.defineProperty({__proto__:null,createOne:vb,deleteOne:bb,getAll:yb,updateOne:hb},Symbol.toStringTag,{value:"Module"})),_b=async e=>{try{const{data:t}=await W.post("/v1/equipments",e);return t}catch(t){throw Error(t.response.data.message)}},wb=async()=>{try{const{data:e}=await W.get("/v1/equipments");return e}catch(e){throw Error(e.response.data.message)}},Ob=async e=>{try{await W.put("/v1/equipments",e)}catch(t){throw Error(t.response.data.message)}},kb=async e=>{try{await W.delete(`/v1/equipments/${e}`)}catch(t){throw Error(t.response.data.message)}},Sb=Object.freeze(Object.defineProperty({__proto__:null,createOne:_b,deleteOne:kb,getAll:wb,updateOne:Ob},Symbol.toStringTag,{value:"Module"})),Eb=async e=>{try{const{data:t}=await W.post("/v1/fulfillments",e);return t}catch(t){throw Error(t.response.data.message)}},Cb=async e=>{try{const{data:t}=await W.get("/v1/fulfillments?salesOrderId="+e);return t}catch(t){throw Error(t.response.data.message)}},Ab=async e=>{try{await W.delete(`/v1/fulfillments/${e}`)}catch(t){throw Error(t.response.data.message)}},$b=Object.freeze(Object.defineProperty({__proto__:null,createOne:Eb,deleteOne:Ab,getAllBySalesOrder:Cb},Symbol.toStringTag,{value:"Module"})),xb=async e=>{try{const{data:t}=await W.get("/v1/jobs",{params:e});return t}catch(t){throw Error(t.response.data.message)}},Rb=async e=>{try{await W.put("/v1/jobs",e)}catch(t){throw Error(t.response.data.message)}},Ib=Object.freeze(Object.defineProperty({__proto__:null,getAll:xb,updateOne:Rb},Symbol.toStringTag,{value:"Module"})),Vb=async e=>{const t={};typeof e=="string"?t.key=e:t.keys=e.split(",");try{const{data:n}=await W.get("/v1/lookup",{params:t});return n}catch(n){throw Error(n.response.data.message)}},Pb=Object.freeze(Object.defineProperty({__proto__:null,get:Vb},Symbol.toStringTag,{value:"Module"})),Mb=async e=>{try{const{data:t}=await W.post("/v1/materials",e);return t}catch(t){throw Error(t.response.data.message)}},Tb=async()=>{try{const{data:e}=await W.get("/v1/materials");return e}catch(e){throw Error(e.response.data.message)}},qb=async e=>{try{await W.put("/v1/materials",e)}catch(t){throw Error(t.response.data.message)}},Nb=async e=>{try{await W.delete(`/v1/materials/${e}`)}catch(t){throw Error(t.response.data.message)}},Ub=async({id:e,qty:t})=>{try{await W.post(`/v1/materials/${e}/increment`,{qty:t})}catch(n){throw Error(n.response.data.message)}},Lb=Object.freeze(Object.defineProperty({__proto__:null,createOne:Mb,deleteOne:Nb,getAll:Tb,increment:Ub,updateOne:qb},Symbol.toStringTag,{value:"Module"})),jb=async e=>{try{const{data:t}=await W.post("/v1/metafields",e);return t}catch(t){throw Error(t.response.data.message)}},Db=async e=>{try{const{data:t}=await W.get("/v1/metafields",{params:e});return t}catch(t){throw Error(t.response.data.message)}},Bb=async e=>{try{await W.put("/v1/metafields",e)}catch(t){throw Error(t.response.data.message)}},Fb=async e=>{try{await W.delete(`/v1/metafields/${e}`)}catch(t){throw Error(t.response.data.message)}},zb=Object.freeze(Object.defineProperty({__proto__:null,createOne:jb,deleteOne:Fb,getAll:Db,updateOne:Bb},Symbol.toStringTag,{value:"Module"})),Wb=async()=>{try{const{data:e}=await W.get("/v1/initializeApp");return e}catch(e){throw Error(e.response.data.message)}},Hb=Object.freeze(Object.defineProperty({__proto__:null,initializeApp:Wb},Symbol.toStringTag,{value:"Module"})),Kb=async e=>{try{const{data:t}=await W.post("/v1/operations",e);return t}catch(t){throw Error(t.response.data.message)}},Jb=async()=>{try{const{data:e}=await W.get("/v1/operations");return e}catch(e){throw Error(e.response.data.message)}},Qb=async e=>{try{await W.put("/v1/operations",e)}catch(t){throw Error(t.response.data.message)}},Yb=async e=>{try{await W.delete(`/v1/operations/${e}`)}catch(t){throw Error(t.response.data.message)}},Gb=Object.freeze(Object.defineProperty({__proto__:null,createOne:Kb,deleteOne:Yb,getAll:Jb,updateOne:Qb},Symbol.toStringTag,{value:"Module"})),Xb=async e=>{try{const{data:t}=await W.post("/v1/operation-batches",e);return t}catch(t){throw Error(t.response.data.message)}},Zb=async e=>{try{const{data:t}=await W.get(`/v1/operation-batches/${e}`);return t}catch(t){throw Error(t.response.data.message)}},eg=async()=>{try{const{data:e}=await W.get("/v1/operation-batches");return e}catch(e){throw Error(e.response.data.message)}},tg=async e=>{try{await W.put("/v1/operation-batches",e)}catch(t){throw Error(t.response.data.message)}},ng=async e=>{try{await W.delete(`/v1/operation-batches/${e}`)}catch(t){throw Error(t.response.data.message)}},og=async e=>{try{await W.post(`/v1/operation-batches/${e}/start`)}catch(t){throw Error(t.response.data.message)}},rg=async e=>{try{await W.post("/v1/operation-batches/report",e)}catch(t){throw Error(t.response.data.message)}},lg=Object.freeze(Object.defineProperty({__proto__:null,createOne:Xb,createReport:rg,deleteOne:ng,getAllNotClosed:eg,getOne:Zb,start:og,updateOne:tg},Symbol.toStringTag,{value:"Module"})),ag=async e=>{try{await W.post("/v1/operation-batch-jobs",e)}catch(t){throw Error(t.response.data.message)}},sg=async e=>{try{await W.post("/v1/operation-batch-jobs/delete",e)}catch(t){throw Error(t.response.data.message)}},ug=Object.freeze(Object.defineProperty({__proto__:null,createOne:ag,deleteOne:sg},Symbol.toStringTag,{value:"Module"})),ig=async e=>{try{const{data:t}=await W.post("/v1/products",e);return t}catch(t){throw Error(t.response.data.message)}},cg=async e=>{try{const{data:t}=await W.get(`/v1/products/${e}`);return t}catch(t){throw Error(t.response.data.message)}},dg=async()=>{try{const{data:e}=await W.get("/v1/products");return e}catch(e){throw Error(e.response.data.message)}},pg=async e=>{try{await W.put("/v1/products",e)}catch(t){throw Error(t.response.data.message)}},fg=async e=>{try{await W.delete(`/v1/products/${e}`)}catch(t){throw Error(t.response.data.message)}},mg=async({id:e,qty:t})=>{try{await W.post(`/v1/products/${e}/increment`,{qty:t})}catch(n){throw Error(n.response.data.message)}},vg=Object.freeze(Object.defineProperty({__proto__:null,createOne:ig,deleteOne:fg,getAll:dg,getOne:cg,increment:mg,updateOne:pg},Symbol.toStringTag,{value:"Module"})),yg=async e=>{try{const{data:t}=await W.post("/v1/production-orders",e);return t}catch(t){throw Error(t.response.data.message)}},hg=async e=>{try{const{data:t}=await W.get(`/v1/production-orders/${e}`);return t}catch(t){throw Error(t.response.data.message)}},bg=async e=>{try{const{data:t}=await W.get("/v1/production-orders",{params:e});return t}catch(t){throw Error(t.response.data.message)}},gg=async()=>{try{const{data:e}=await W.get("/v1/production-orders/released");return e}catch(e){throw Error(e.response.data.message)}},_g=async e=>{try{await W.put("/v1/production-orders",e)}catch(t){throw Error(t.response.data.message)}},wg=async e=>{try{await W.delete(`/v1/production-orders/${e}`)}catch(t){throw Error(t.response.data.message)}},Og=async e=>{try{await W.post(`/v1/production-orders/${e}/cancel`)}catch(t){throw Error(t.response.data.message)}},kg=async e=>{try{await W.post(`/v1/production-orders/${e}/release`)}catch(t){throw Error(t.response.data.message)}},Sg=Object.freeze(Object.defineProperty({__proto__:null,cancel:Og,createOne:yg,deleteOne:wg,getAllNotReleased:bg,getAllReleased:gg,getOne:hg,release:kg,updateOne:_g},Symbol.toStringTag,{value:"Module"})),Eg=async e=>{try{const{data:t}=await W.post("/v1/production-records",e);return t}catch(t){throw Error(t.response.data.message)}},Cg=async e=>{try{const{data:t}=await W.get("/v1/production-records",{params:e});return t}catch(t){throw Error(t.response.data.message)}},Ag=Object.freeze(Object.defineProperty({__proto__:null,create:Eg,getAll:Cg},Symbol.toStringTag,{value:"Module"})),$g=async e=>{try{await W.post("/v1/product-materials",e)}catch(t){throw Error(t.response.data.message)}},xg=async e=>{try{const{data:t}=await W.get(`/v1/product-materials?productId=${e}`);return t}catch(t){throw Error(t.response.data.message)}},Rg=async e=>{try{await W.put("/v1/product-materials",e)}catch(t){throw Error(t.response.data.message)}},Ig=async e=>{try{await W.post("/v1/product-materials/delete",e)}catch(t){throw Error(t.response.data.message)}},Vg=Object.freeze(Object.defineProperty({__proto__:null,createOne:$g,deleteOne:Ig,getAll:xg,updateOne:Rg},Symbol.toStringTag,{value:"Module"})),Pg=async e=>{try{const{data:t}=await W.post("/v1/sales-orders",e);return t}catch(t){throw Error(t.response.data.message)}},Mg=async e=>{try{const{data:t}=await W.get(`/v1/sales-orders/${e}`);return t}catch(t){throw Error(t.response.data.message)}},Tg=async e=>{try{const{data:t}=await W.get("/v1/sales-orders",{params:e});return t}catch(t){throw Error(t.response.data.message)}},qg=async e=>{try{await W.delete(`/v1/sales-orders/${e}`)}catch(t){throw Error(t.response.data.message)}},Ng=async e=>{try{await W.post(`/v1/sales-orders/${e}/confirm`)}catch(t){throw Error(t.response.data.message)}},Ug=async e=>{try{await W.post(`/v1/sales-orders/${e}/fulfill`)}catch(t){throw Error(t.response.data.message)}},Lg=async e=>{try{await W.post(`/v1/sales-orders/${e}/archive`)}catch(t){throw Error(t.response.data.message)}},jg=async({id:e,...t})=>{try{await W.post(`/v1/sales-orders/${e}/cancel`,t)}catch(n){throw Error(n.response.data.message)}},Dg=Object.freeze(Object.defineProperty({__proto__:null,archive:Lg,cancel:jg,confirm:Ng,createOne:Pg,deleteOne:qg,forceFulfilledStatus:Ug,getAll:Tg,getOne:Mg},Symbol.toStringTag,{value:"Module"})),Bg=async e=>{try{const{data:t}=await W.post("/v1/sales-order-items",e);return t}catch(t){throw Error(t.response.data.message)}},Fg=async e=>{try{const{data:t}=await W.get(`/v1/sales-order-items/${e}`);return t}catch(t){throw Error(t.response.data.message)}},zg=async e=>{try{const t={salesOrderId:e},{data:n}=await W.get("/v1/sales-order-items",{params:t});return n}catch(t){throw Error(t.response.data.message)}},Wg=async e=>{try{await W.put("/v1/sales-order-items",e)}catch(t){throw Error(t.response.data.message)}},Hg=async e=>{try{await W.delete(`/v1/sales-order-items/${e}`)}catch(t){throw Error(t.response.data.message)}},Kg=Object.freeze(Object.defineProperty({__proto__:null,createOne:Bg,deleteOne:Hg,getAllBySalesOrder:zg,getOne:Fg,updateOne:Wg},Symbol.toStringTag,{value:"Module"})),Jg=async e=>{try{const{data:t}=await W.post("/v1/users",e);return t}catch(t){throw Error(t.response.data.message)}},Qg=async()=>{try{const{data:e}=await W.get("/v1/users");return e}catch(e){throw Error(e.response.data.message)}},Yg=async e=>{try{await W.put("/v1/users",e)}catch(t){throw Error(t.response.data.message)}},Gg=async e=>{try{await W.delete(`/v1/users/${e}`)}catch(t){throw Error(t.response.data.message)}},Xg=Object.freeze(Object.defineProperty({__proto__:null,createOne:Jg,deleteOne:Gg,getAll:Qg,updateOne:Yg},Symbol.toStringTag,{value:"Module"})),Zg=async e=>{try{const{data:t}=await W.post("/v1/workers",e);return t}catch(t){throw Error(t.response.data.message)}},e_=async()=>{try{const{data:e}=await W.get("/v1/workers");return e}catch(e){throw Error(e.response.data.message)}},t_=async e=>{try{await W.put("/v1/workers",e)}catch(t){throw Error(t.response.data.message)}},n_=async e=>{try{await W.delete(`/v1/workers/${e}`)}catch(t){throw Error(t.response.data.message)}},o_=Object.freeze(Object.defineProperty({__proto__:null,createOne:Zg,deleteOne:n_,getAll:e_,updateOne:t_},Symbol.toStringTag,{value:"Module"})),r_=async e=>{try{const{data:t}=await W.post("/v1/workstations",e);return t}catch(t){throw Error(t.response.data.message)}},l_=async()=>{try{const{data:e}=await W.get("/v1/workstations");return e}catch(e){throw Error(e.response.data.message)}},a_=async e=>{try{await W.put("/v1/workstations",e)}catch(t){throw Error(t.response.data.message)}},s_=async e=>{try{await W.delete(`/v1/workstations/${e}`)}catch(t){throw Error(t.response.data.message)}},u_=Object.freeze(Object.defineProperty({__proto__:null,createOne:r_,deleteOne:s_,getAll:l_,updateOne:a_},Symbol.toStringTag,{value:"Module"})),N={allocation:ab,auth:ib,category:mb,customer:gb,equipment:Sb,fulfillment:$b,job:Ib,lookup:Pb,material:Lb,metafield:zb,misc:Hb,operation:Gb,operationBatch:lg,operationBatchJob:ug,product:vg,productionOrder:Sg,productionRecord:Ag,productMaterial:Vg,salesOrder:Dg,salesOrderItem:Kg,user:Xg,worker:o_,workstation:u_};const i_=["onSubmit"],Ii={__name:"ChangePassword",props:{user:Object},emits:["dismiss"],setup(e,{emit:t}){const n=e,{session:o}=on(),r=k(!1),l=k({newPassword:"",password:""}),a=V(()=>{var i;return((i=n.user)==null?void 0:i.id)===o.value.user.id||!n.user}),s=V(()=>`Change ${a.value?"your":`${n.user.firstName}'s`} password`),u=async()=>{try{r.value=!0,await N.auth.changePassword(l.value),t("dismiss")}catch(i){alert(i)}finally{r.value=!1}};return Ne(()=>{n.user&&(l.value.id=n.user.id)}),(i,c)=>(v(),w(d(te),{title:s.value,persist:r.value,onClose:c[3]||(c[3]=p=>t("dismiss"))},{body:y(()=>[g("form",{id:"changePassword",onSubmit:ce(u,["prevent"])},[f(d(B),{modelValue:l.value.password,"onUpdate:modelValue":c[0]||(c[0]=p=>l.value.password=p),label:a.value?"Old password":"Your password",type:"password",required:""},null,8,["modelValue","label"]),f(d(B),{modelValue:l.value.newPassword,"onUpdate:modelValue":c[1]||(c[1]=p=>l.value.newPassword=p),label:a.value?"New password":`${n.user.firstName}'s new password`,type:"password",helper:"Must be at least 14 characters",minlength:"14",required:""},null,8,["modelValue","label"])],40,i_)]),footer:y(()=>[f(d(I),{type:"submit",form:"changePassword",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:c[2]||(c[2]=p=>t("dismiss"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}};const c_=["onSubmit"],d_={__name:"Login",emits:["success"],setup(e,{emit:t}){const{storeSession:n}=on(),o=k(!1),r=k({username:"",password:""}),l=async()=>{try{o.value=!0,await N.auth.login(r.value).then(n),t("success")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),A("form",{id:"login",onSubmit:ce(l,["prevent"])},[f(d(B),{modelValue:r.value.username,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.username=u),label:"Username",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.password,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.password=u),label:"Password",type:"password",required:""},null,8,["modelValue"]),f(d(I),{type:"submit",loading:o.value},{default:y(()=>[S(" Log in ")]),_:1},8,["loading"])],40,c_))}},xs=Yf(),Wr=k(null),Hr=k(!1),Io=k(!1),ln=()=>{const e=r=>{Wr.value=r,xs.value=`${r} — Planta`},t=()=>{Io.value=!0},n=()=>{Io.value=!1,Hr.value=!0},o=()=>{xs.value="Planta",Wr.value=null,Hr.value=!1,Io.value=!1};return{organizationName:Je(Wr),isInitialized:Je(Hr),isInitializing:Je(Io),setOrganizatioName:e,startInitialization:t,completeInitialization:n,reset:o}},Vt=k([]),Rt=k([]),_l=k(!1),Ln=k(null),er=k({id:"",name:"",hasEquipment:null,isBatch:null}),p_=e=>_l.value||e.seq===1?!0:!!e.qtyInput,Vi=V(()=>Vt.value.filter(e=>e.operation.id===er.value.id).filter(p_)),Pi=V(()=>Vi.value.filter(e=>{const t=e.qtyOutput-e.qtyReject+e.qtyRework,n=e.qtyInput-e.qtyShortfall,o=t===0&&n===0?e.status==="OPEN":n>t;return e.workstation===null&&o})),Mi=V(()=>{const e=Pi.value.map(t=>t.id);return Vi.value.filter(t=>!e.includes(t.id)).filter(t=>Ln.value?t.workstation.id===Ln.value.id:!0).map(t=>{const n=Vt.value.filter(({productionOrder:l})=>t.productionOrder.id===l.id),o=n.find(({seq:l})=>t.seq===l+1),r=n.find(({seq:l})=>t.seq===l-1);return t.isAllowedShortfall=!(t.seq>1&&o.status!=="CLOSED"),t.isLocked=!1,t.status==="IN_PROGRESS"&&t.operation.isBatch&&(t.isLocked=!0),t.status==="PAUSED"&&!t.operation.isBatch&&(t.isLocked=!0),t.status==="CLOSED"&&(r==null?void 0:r.status)==="CLOSED"&&(t.isLocked=!0),t})}),f_=V(()=>Rt.value.filter(e=>e.operationId===er.value.id).filter(e=>Ln.value?e.workstation.id===Ln.value.id:!0).map(e=>{if(!e.jobCount)return{...e,size:null};const t=Mi.value.filter(r=>e.id===r.operationBatchId),n=t[0].operation.batchSize.uom;let o=0;return t.forEach(r=>o+=r.operation.batchSize.multiplier*r.qtyInput),{...e,size:`${o.toFixed()} ${n}`}})),m_=()=>({operation:er,workstation:Ln,showAllJobs:_l,unassignedJobs:Pi,currentJobs:Mi,currentOperationBatches:f_,initialize:(s,u)=>{Vt.value=s,Rt.value=u},reset:()=>{Vt.value=[],Rt.value=[],_l.value=!1,Ln.value=null,er.value={id:"",name:"",hasEquipment:null,isBatch:null}},updateJob:s=>{const{oldOperationBatchId:u,...i}=s,c=Vt.value.findIndex(({id:p})=>i.id===p);if(Object.assign(Vt.value[c],i),i.operationBatchId){const p=Rt.value.find(({id:m})=>i.operationBatchId===m);p.jobCount++}if(u){const p=Rt.value.find(({id:m})=>u===m);p.jobCount--}},createProductionRecord:s=>{const u=Vt.value.filter(({productionOrder:_})=>s.productionOrderId===_.id),i=u.find(({operation:_})=>s.operation.id===_.id),c={OUTPUT:"qtyOutput",REJECT:"qtyReject",REWORK:"qtyRework",SHORTFALL:"qtyShortfall"};i[c[s.type]]+=s.qty,i.timeTakenMins+=s.timeTakenMins;const p=i.qtyOutput-i.qtyReject+i.qtyRework,m=i.qtyInput-i.qtyShortfall;i.status=p>=m?"CLOSED":"IN_PROGRESS";const b=u.find(({seq:_})=>i.seq===_+1),h=u.find(({seq:_})=>i.seq===_-1);if(h&&(h.qtyInput=p,h.timeEstimatedMins=h.operation.timePerCycleMins*(h.operation.isBatch?1:p)),i.status==="CLOSED"&&(i.operation.isBatch&&(i.workstation=null),i.seq>1&&(b.status!=="CLOSED"&&(i.status="PAUSED"),h))){const _=h.qtyOutput-h.qtyReject+h.qtyRework,R=h.qtyInput-h.qtyShortfall;_>=R&&(h.status="CLOSED")}},createOperationBatch:s=>{Rt.value.push(s)},startOperationBatch:s=>{const u=Rt.value.find(i=>i.id===s);u.status="IN_PROGRESS",Vt.value.forEach((i,c)=>{i.operationBatchId===s&&(Vt.value[c].status="IN_PROGRESS")})},deleteOperationBatch:s=>{Rt.value=Rt.value.filter(u=>u.id!==s)}}),v_=()=>({saveAsCsv:async t=>{const n=await N.metafield.getAll({resource:"OPERATION"}),o=t.map(c=>{var m,b,h;const p={DATE:new Date(c.timestamp).toLocaleDateString("en-CA"),PRODUCT:`"${c.productSku}"`,OPERATION:`"${c.operation.name}"`,WORKSTATION:`"${(m=c.workstation)==null?void 0:m.name}"`,TYPE:c.type,WORKER:`"${(b=c.worker)==null?void 0:b.name}"`,EQUIPMENT:`"${((h=c.equipment)==null?void 0:h.name)||""}"`,QTY:c.qty,DURATION_MINS:c.timeTakenMins};return n.forEach(_=>{const R=_.name.toUpperCase().replaceAll(" ","_");if(c.meta!==null&&c.meta[_.id]){const{value:P,uom:T}=c.meta[_.id];p[R]=`"${P}${T||""}"`}else p[R]=""}),p}),r=Object.keys(o[0]).join(",")+`
`,l=o.map(c=>Object.values(c).join(",")).join(`
`),a=r+l,s=new Blob([a],{type:"text/csv"}),u=URL.createObjectURL(s),i=document.createElement("a");i.href=u,i.download="report.csv",i.click(),URL.revokeObjectURL(u)}}),Wt=k([]),Rs=()=>{Wt.value.sort((e,t)=>e.name.localeCompare(t.name)).sort((e,t)=>e.type.localeCompare(t.type))},ea=()=>{const e=r=>{Wt.value=r},t=r=>{Wt.value.push(r),Rs()},n=({id:r})=>{const l=Wt.value.findIndex(a=>r===a.id);Wt.value.splice(l,1)},o=r=>{const l=Wt.value.findIndex(({id:a})=>r.id===a);Object.assign(Wt.value[l],r),Rs()};return{categories:Je(Wt),set:e,add:t,remove:n,update:o}},Ht=k([]),Is=()=>{Ht.value.sort((e,t)=>e.name.localeCompare(t.name))},Er=()=>{const e=r=>{Ht.value=r},t=r=>{Ht.value.push(r),Is()},n=({id:r})=>{const l=Ht.value.findIndex(a=>r===a.id);Ht.value.splice(l,1)},o=r=>{const l=Ht.value.findIndex(({id:a})=>r.id===a);Object.assign(Ht.value[l],r),Is()};return{equipments:Je(Ht),set:e,add:t,remove:n,update:o}},Ve=k([]),Vs=()=>{Ve.value.sort((e,t)=>e.seq-t.seq)},Ut=()=>{const e=a=>{Ve.value=a},t=a=>{Ve.value.push(a),Vs()},n=a=>{const s=Ve.value.findIndex(u=>a===u.id);Ve.value.splice(s,1)},o=a=>{const s=Ve.value.findIndex(({id:u})=>a.id===u);Object.assign(Ve.value[s],a),Vs()},r=a=>{if(a<=0||a>=Ve.value.length)return!1;Ve.value[a].seq--,Ve.value[a-1].seq++,[Ve.value[a],Ve.value[a-1]]=[Ve.value[a-1],Ve.value[a]]},l=a=>{if(a<0||a>=Ve.value.length-1)return!1;Ve.value[a].seq++,Ve.value[a+1].seq--,[Ve.value[a],Ve.value[a+1]]=[Ve.value[a+1],Ve.value[a]]};return{operations:Je(Ve),set:e,add:t,remove:n,update:o,moveUp:r,moveDown:l}},Kt=k([]),Ps=()=>{Kt.value.sort((e,t)=>e.firstName.localeCompare(t.firstName)).sort((e,t)=>e.lastName.localeCompare(t.lastName))},Cr=()=>{const e=r=>{Kt.value=r},t=r=>{Kt.value.push(r),Ps()},n=r=>{const l=Kt.value.findIndex(a=>r===a.id);Kt.value.splice(l,1)},o=r=>{const l=Kt.value.findIndex(({id:a})=>r.id===a);Object.assign(Kt.value[l],r),Ps()};return{workers:Je(Kt),set:e,add:t,remove:n,update:o}},Jt=k([]),Ms=()=>{const{operations:e}=Ut(),t={};e.value.forEach(({id:n,seq:o})=>t[n]=o),Jt.value.sort((n,o)=>n.name.localeCompare(o.name)).sort((n,o)=>t[n.operation.id]-t[o.operation.id])},Ar=()=>{const e=r=>{Jt.value=r},t=r=>{Jt.value.push(r),Ms()},n=({id:r})=>{const l=Jt.value.findIndex(a=>r===a.id);Jt.value.splice(l,1)},o=r=>{const l=Jt.value.findIndex(({id:a})=>r.id===a);Object.assign(Jt.value[l],r),Ms()};return{workstations:Je(Jt),set:e,create:t,remove:n,update:o}},y_={__name:"InitializeApp",setup(e){const{completeInitialization:t,setOrganizatioName:n,startInitialization:o}=ln(),r=async()=>{const l=ea(),a=Er(),s=Ut(),u=Cr(),i=Ar();try{o();const c=await N.misc.initializeApp();n(c.organizationName),l.set(c.categories),a.set(c.equipments),s.set(c.operations),u.set(c.workers),i.set(c.workstations),t()}catch(c){alert(c)}};return Ne(()=>r()),(l,a)=>null}},Wn={__name:"OperationSelect",props:{modelValue:[Object,String],defaultOption:Boolean,label:{type:String,default:"Operation"},keys:{type:Array,default:()=>["id","name"]},isBatch:{type:Boolean,default:!0},disabled:Boolean,required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{operations:o}=Ut(),r=V(()=>o.value.filter(a=>n.isBatch?!0:a.isBatch===!1).map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys.at(0)],{label:a.name,value:s}})),l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return Ne(()=>{if(n.defaultOption){const a=r.value.at(0);t("update:modelValue",a.value)}}),(a,s)=>(v(),w(d(we),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:n.label,options:r.value,disabled:n.disabled,required:n.required},null,8,["modelValue","label","options","disabled","required"]))}},$r={__name:"WorkstationSelect",props:{modelValue:[Object,String],label:{type:String,default:"Workstation"},filtered:{type:Boolean,default:!0},operationId:String,defaultOption:Boolean,keys:{type:Array,default:()=>["id","name"]},disabled:Boolean,required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{workstations:o}=Ar(),r=V(()=>o.value.filter(({operation:a})=>n.filtered?a.id===n.operationId:!0).map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys.at(0)],{label:a.name,value:s}})),l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return(a,s)=>(v(),w(d(we),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:n.label,options:r.value,disabled:n.disabled,required:n.required},null,8,["modelValue","label","options","disabled","required"]))}};const h_={class:"productionExecutionFilters"},b_={__name:"ProductionExecutionFilters",props:{operation:Object,workstation:Object,show:Boolean,list:String},emits:["update:operation","update:workstation","update:show","update:list"],setup(e,{emit:t}){const n=e,o=V({get:()=>n.operation,set:s=>t("update:operation",s)}),r=V({get:()=>n.workstation,set:s=>t("update:workstation",s)}),l=V({get:()=>n.show,set:s=>t("update:show",s)}),a=V({get:()=>n.list,set:s=>t("update:list",s)});return(s,u)=>(v(),A("div",h_,[f(Wn,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=i=>o.value=i),keys:["id","name","hasEquipment","isBatch"],onInput:u[1]||(u[1]=i=>r.value=null)},null,8,["modelValue"]),o.value.isBatch?(v(),w(d(we),{key:0,modelValue:a.value,"onUpdate:modelValue":u[2]||(u[2]=i=>a.value=i),label:"Display",options:[{label:"Batches",value:"BATCH"},{label:"Jobs",value:"JOB"}],required:""},null,8,["modelValue"])):$("",!0),f($r,{modelValue:r.value,"onUpdate:modelValue":u[3]||(u[3]=i=>r.value=i),"operation-id":o.value.id,disabled:!o.value.id,required:!1},null,8,["modelValue","operation-id","disabled"]),f(d(bt),{modelValue:l.value,"onUpdate:modelValue":u[4]||(u[4]=i=>l.value=i),label:"Show jobs awaiting input"},null,8,["modelValue"])]))}},ta=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase().replace(/_/g," ");const Hn={__name:"StatusBadge",props:{data:String},setup(e){const t=e,n=V(()=>ta(t.data)),o=V(()=>({"status-badge":!0,[`status-badge--${{IN_PROGRESS:"green",PAUSED:"gold",CLOSED:"blue",CANCELLED:"orange",CONFIRMED:"green",PARTIALLY_FULFILLED:"violet",FULFILLED:"blue",CANCELLED_BY_CUSTOMER:"orange",CANCELLED_BY_MANUFACTURER:"orange"}[t.data]}`]:t.data!=="OPEN"}));return(r,l)=>(v(),A("div",{class:Fe(o.value)},C(n.value),3))}},g_={__name:"ProductionExecutionList",props:{data:{type:Array,default:()=>[]}},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"ID",key:"productionOrder.publicId"},{label:"Product",key:"product.normalizedName",width:"25%"},{label:"Quantity",key:"qty"},{label:"Est Time",key:"timeEstimatedMins"},{label:"Status",key:"status"},{label:"Workstation",key:"workstation.name"}],r=V(()=>n.data.map(l=>{const s=`${(l.qtyOutput-l.qtyReject+l.qtyRework).toLocaleString()}/${l.qtyInput.toLocaleString()}`;let u=!1;return(l.status==="OPEN"||l.status==="PAUSED")&&(u=["Add record","Reassign"]),l.status==="IN_PROGRESS"&&(u=["Add record","Reassign"],l.isAllowedShortfall&&u.push("Close")),l.status==="CLOSED"&&(u=["Add record"]),l.operation.isBatch&&(u=["Reassign"]),l.isLocked&&(u=!1),{_:{actions:u},...l,qty:s}}));return(l,a)=>(v(),w(d(Ie),{columns:o,data:r.value,searchable:"","force-row-menu":"","row-actions":"",onRowAction:a[0]||(a[0]=s=>t("action",s))},{row:y(({data:s})=>{var u;return[g("td",null,C(s.productionOrder.publicId),1),g("td",null,C(s.product.normalizedName),1),g("td",null,C(s.qty),1),g("td",null,C(s.timeEstimatedMins),1),g("td",null,[f(Hn,{data:s.status},null,8,["data"])]),g("td",null,C((u=s.workstation)==null?void 0:u.name),1)]}),_:1},8,["data"]))}},xr={__name:"OperationChoiceList",props:{modelValue:{type:Array,default:()=>[]},keys:{type:Array,default:()=>["id"]}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{operations:o}=Ut(),r=V(()=>o.value.map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys[0]],{label:a.name,value:s}})),l=V({get:()=>n.modelValue,set:a=>{const s=a.map(u=>{const i=typeof u!="object"?u:u.id,{seq:c}=o.value.find(({id:p})=>i===p);return[u,c]}).sort((u,i)=>u[1]-i[1]).map(([u])=>u);t("update:modelValue",s)}});return(a,s)=>(v(),w(d(_v),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:"Operations",multiple:"",choices:r.value},null,8,["modelValue","choices"]))}};const __=["onSubmit"],w_={__name:"CreateEquipment",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({name:"",operationIds:[]}),r=async()=>{try{n.value=!0;const l=await N.equipment.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add equipment",persist:n.value,onClose:a[3]||(a[3]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createEquipment",onSubmit:ce(r,["prevent"])},[f(d(B),{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.name=s),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(xr,{modelValue:o.value.operationIds,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.operationIds=s)},null,8,["modelValue"])],40,__)]),footer:y(()=>[f(d(I),{type:"submit",form:"createEquipment",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[2]||(a[2]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},O_={__name:"DeleteEquipment",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.equipment.deleteOne(n.data.id),t("success",n.data),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove equipment",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as an equipment?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},na={__name:"EquipmentSelect",props:{modelValue:[Object,String],label:{type:String,default:"Equipment"},filtered:{type:Boolean,default:!0},operationId:String,defaultOption:Boolean,keys:{type:Array,default:()=>["id","name"]},disabled:Boolean,required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{equipments:o}=Er(),r=V(()=>o.value.filter(({operationIds:a})=>n.filtered?a.includes(n.operationId):!0).map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys.at(0)],{label:a.name,value:s}})),l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return(a,s)=>(v(),w(d(we),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:n.label,options:r.value,disabled:n.disabled,required:n.required},null,8,["modelValue","label","options","disabled","required"]))}},k_={__name:"EquipmentsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"Name",key:"name"},{label:"Operation Count",key:"operationCount"}],r=V(()=>n.data.map(l=>({...l,operationCount:l.operationIds.length})));return(l,a)=>(v(),w(d(Ie),{columns:o,data:r.value,"row-actions":["Edit","Remove"],onRowAction:a[0]||(a[0]=s=>t("action",s))},null,8,["data"]))}};const S_=["onSubmit"],E_={__name:"UpdateEquipment",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:"",name:"",operationIds:[]}),l=async()=>{try{o.value=!0,await N.equipment.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return Ne(()=>Object.assign(r.value,n.data)),(a,s)=>(v(),w(d(te),{title:"Edit equipment",persist:o.value,onClose:s[3]||(s[3]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateEquipment",onSubmit:ce(l,["prevent"])},[f(d(B),{modelValue:r.value.name,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.name=u),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(xr,{modelValue:r.value.operationIds,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.operationIds=u)},null,8,["modelValue"])],40,S_)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateEquipment",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[2]||(s[2]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const C_=["onSubmit"],A_={__name:"CreateOperation",props:{lastSeq:Number},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k([]),l=k({name:"",seq:(n.lastSeq||0)+1,timePerCycleMins:null,allowsRework:!0,isBatch:!1,batchSizeParameter:null}),a=V(()=>[{label:"Total units",value:"TOTAL_UNITS"},...r.value]),s=async()=>{try{o.value=!0;const u=await N.operation.createOne(l.value);t("success",u),t("cancel")}catch(u){alert(u)}finally{o.value=!1}};return N.metafield.getAll({resource:"PRODUCT"}).then(u=>{r.value=u.map(({id:i,name:c})=>({label:c,value:i}))}),(u,i)=>(v(),w(d(te),{title:"Add operation",persist:o.value,onClose:i[6]||(i[6]=c=>t("cancel"))},{body:y(()=>[g("form",{id:"createOperation",onSubmit:ce(s,["prevent"])},[f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":i[0]||(i[0]=c=>l.value.name=c),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:l.value.timePerCycleMins,"onUpdate:modelValue":i[1]||(i[1]=c=>l.value.timePerCycleMins=c),modelModifiers:{number:!0},label:"Cycle time",type:"number",suffix:"mins",step:"any",required:""},null,8,["modelValue"]),f(d(bt),{modelValue:l.value.allowsRework,"onUpdate:modelValue":i[2]||(i[2]=c=>l.value.allowsRework=c),label:"Allow rework"},null,8,["modelValue"]),f(d(bt),{modelValue:l.value.isBatch,"onUpdate:modelValue":i[3]||(i[3]=c=>l.value.isBatch=c),label:"Run by batch"},null,8,["modelValue"]),l.value.isBatch?(v(),w(d(we),{key:0,modelValue:l.value.batchSizeParameter,"onUpdate:modelValue":i[4]||(i[4]=c=>l.value.batchSizeParameter=c),label:"Batch size parameter",options:a.value,required:""},null,8,["modelValue","options"])):$("",!0)],40,C_)]),footer:y(()=>[f(d(I),{type:"submit",form:"createOperation",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:i[5]||(i[5]=c=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},$_={__name:"DeleteOperation",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.operation.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove operation",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as an operation?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},x_={__name:"OperationsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"Name",key:"normalizedName"},{label:"Cycle Time (Mins)",key:"timePerCycleMins"},{label:"Allows Rework",key:"normalizedAllowsRework"}],r=V(()=>n.data.map((l,a)=>{const s=`${l.name} ${l.isBatch?"(Batch)":""}`,u=l.allowsRework?"Yes":"No";let i=["Move up","Move down","Edit","Remove"];return n.data.length>1&&a===0&&(i=["Move down","Edit","Remove"]),n.data.length>1&&a===n.data.length-1&&(i=["Move up","Edit","Remove"]),n.data.length===1&&(i=["Edit","Remove"]),{_:{actions:i},...l,normalizedName:s,normalizedAllowsRework:u}}));return(l,a)=>(v(),w(d(Ie),{columns:o,data:r.value,"force-row-menu":"","row-actions":"",onRowAction:a[0]||(a[0]=s=>t("action",s))},null,8,["data"]))}};const R_=["onSubmit"],I_={__name:"UpdateOperation",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k([]),l=k({id:"",name:"",seq:null,timePerCycleMins:null,allowsRework:!0,isBatch:!1,batchSizeParameter:null}),a=V(()=>[{label:"Total units",value:"TOTAL_UNITS"},...r.value]),s=async()=>{try{o.value=!0,await N.operation.updateOne(l.value),t("success",l.value),t("cancel")}catch(u){alert(u)}finally{o.value=!1}};return N.metafield.getAll({resource:"PRODUCT"}).then(u=>{r.value=u.map(({id:i,name:c})=>({label:c,value:i}))}),Ne(()=>Object.assign(l.value,n.data)),(u,i)=>(v(),w(d(te),{title:"Edit operation",persist:o.value,onClose:i[6]||(i[6]=c=>t("cancel"))},{body:y(()=>[g("form",{id:"updateOperation",onSubmit:ce(s,["prevent"])},[f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":i[0]||(i[0]=c=>l.value.name=c),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:l.value.timePerCycleMins,"onUpdate:modelValue":i[1]||(i[1]=c=>l.value.timePerCycleMins=c),modelModifiers:{number:!0},label:"Cycle time",type:"number",suffix:"mins",step:"any",required:""},null,8,["modelValue"]),f(d(bt),{modelValue:l.value.allowsRework,"onUpdate:modelValue":i[2]||(i[2]=c=>l.value.allowsRework=c),label:"Allow rework"},null,8,["modelValue"]),f(d(bt),{modelValue:l.value.isBatch,"onUpdate:modelValue":i[3]||(i[3]=c=>l.value.isBatch=c),label:"Run by batch"},null,8,["modelValue"]),l.value.isBatch?(v(),w(d(we),{key:0,modelValue:l.value.batchSizeParameter,"onUpdate:modelValue":i[4]||(i[4]=c=>l.value.batchSizeParameter=c),label:"Batch size parameter",options:a.value,required:""},null,8,["modelValue","options"])):$("",!0)],40,R_)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateOperation",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:i[5]||(i[5]=c=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const V_=["onSubmit"],P_={__name:"CreateWorker",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({publicId:"",firstName:"",lastName:""}),r=async()=>{try{n.value=!0;const l=await N.worker.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add worker",persist:n.value,onClose:a[4]||(a[4]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createWorker",onSubmit:ce(r,["prevent"])},[f(d(B),{modelValue:o.value.publicId,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.publicId=s),modelModifiers:{trim:!0},label:"ID",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.firstName,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.firstName=s),modelModifiers:{trim:!0},label:"First name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.lastName,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value.lastName=s),modelModifiers:{trim:!0},label:"Last name",required:""},null,8,["modelValue"])],40,V_)]),footer:y(()=>[f(d(I),{type:"submit",form:"createWorker",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[3]||(a[3]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},M_={__name:"DeleteWorker",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.worker.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove worker",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to remove "),g("b",null,C(`${n.data.lastName}, ${n.data.firstName} (${n.data.publicId})`),1),S(" as a worker?")])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const T_=["onSubmit"],q_={__name:"UpdateWorker",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:"",publicId:"",firstName:"",lastName:""}),l=async()=>{try{o.value=!0,await N.worker.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return Object.assign(r.value,n.data),(a,s)=>(v(),w(d(te),{title:"Update worker",persist:o.value,onClose:s[4]||(s[4]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateWorker",onSubmit:ce(l,["prevent"])},[f(d(B),{modelValue:r.value.publicId,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.publicId=u),modelModifiers:{trim:!0},label:"ID",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.firstName,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.firstName=u),modelModifiers:{trim:!0},label:"First name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.lastName,"onUpdate:modelValue":s[2]||(s[2]=u=>r.value.lastName=u),modelModifiers:{trim:!0},label:"Last name",required:""},null,8,["modelValue"])],40,T_)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateWorker",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[3]||(s[3]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},oa={__name:"WorkerSelect",props:{modelValue:[Object,String],label:{type:String,default:"Worker"},defaultOption:Boolean,keys:{type:Array,default:()=>["id","publicId","firstName","lastName"]},disabled:Boolean,required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{workers:o}=Cr(),r=V(()=>o.value.map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys.at(0)],{label:a.name,value:s}})),l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return(a,s)=>(v(),w(d(we),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:n.label,options:r.value,disabled:n.disabled,required:n.required},null,8,["modelValue","label","options","disabled","required"]))}},N_={__name:"WorkersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{key:"name",label:"Name"},{key:"publicId",label:"ID"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,sortable:"","row-actions":["Edit","Remove"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(`${a.lastName}, ${a.firstName}`),1),g("td",null,C(a.publicId),1)]),_:1},8,["data"]))}};const U_=["onSubmit"],L_={__name:"CreateWorkstation",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({name:"",operation:{}}),r=async()=>{try{n.value=!0;const l=await N.workstation.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add workstation",persist:n.value,onClose:a[3]||(a[3]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createWorkstation",onSubmit:ce(r,["prevent"])},[f(Wn,{modelValue:o.value.operation,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.operation=s)},null,8,["modelValue"]),f(d(B),{modelValue:o.value.name,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.name=s),label:"Name",required:""},null,8,["modelValue"])],40,U_)]),footer:y(()=>[f(d(I),{type:"submit",form:"createWorkstation",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[2]||(a[2]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},j_={__name:"DeleteWorkstation",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.workstation.deleteOne(n.data.id),t("success",n.data),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove workstation",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as a workstation?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const D_=["onSubmit"],B_={__name:"UpdateWorkstation",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:"",name:"",operation:{}}),l=async()=>{try{o.value=!0,await N.workstation.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return Ne(()=>Object.assign(r.value,n.data)),(a,s)=>(v(),w(d(te),{title:"Edit workstation",persist:o.value,onClose:s[3]||(s[3]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateWorkstation",onSubmit:ce(l,["prevent"])},[f(Wn,{modelValue:r.value.operation,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.operation=u)},null,8,["modelValue"]),f(d(B),{modelValue:r.value.name,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.name=u),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"])],40,D_)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateWorkstation",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[2]||(s[2]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},F_={__name:"WorkstationsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{key:"name",label:"Name"},{key:"operation.name",label:"Operation"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,"row-actions":["Edit","Remove"],onRowAction:l[0]||(l[0]=a=>t("action",a))},null,8,["data"]))}};const z_={class:"reports-filters"},W_={key:0,class:"reports-filters-dialog"},H_=g("p",null,"New filter",-1),K_=["onSubmit"],J_=g("div",null,"equals",-1),Q_={class:"reports-filters-tags"},Y_={__name:"ReportFilters",props:{operations:Array,workstations:Array,workers:Array,equipments:Array},emits:["update:operations","update:workstations","update:workers","update:equipments"],setup(e,{emit:t}){const n=e,o=[{label:"Operation",value:"operations"},{label:"Workstation",value:"workstations"},{label:"Equipment",value:"equipments"},{label:"Worker",value:"workers"}],r=k(!1),l=k(null),a=k(null),s=V(()=>{if(!r.value)return[];const{equipments:m}=Er(),{operations:b}=Ut(),{workers:h}=Cr(),{workstations:_}=Ar(),R={equipments:m.value,operations:b.value,workers:h.value,workstations:_.value},P=n[l.value].map(({id:q})=>q);return R[l.value].filter(({id:q})=>!P.includes(q)).map(({id:q,name:M})=>({label:M,value:{id:q,name:M}}))}),u=()=>{r.value=!0,l.value="operations"},i=()=>{r.value=!1,l.value=null,a.value=null},c=()=>{const m=[...n[l.value],a.value];t(`update:${l.value}`,m),i()},p=(m,b)=>{const h=n[m].filter(_=>_.id!==b);t(`update:${m}`,h)};return(m,b)=>(v(),A("div",z_,[f(d(ut),{onClick:u},{default:y(()=>[S(" Add filter ")]),_:1}),r.value?(v(),A("div",W_,[H_,g("form",{id:"addFilter",onSubmit:ce(c,["prevent"])},[f(d(we),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=h=>l.value=h),options:o,required:"",onInput:b[1]||(b[1]=h=>a.value=null)},null,8,["modelValue"]),J_,f(d(we),{modelValue:a.value,"onUpdate:modelValue":b[2]||(b[2]=h=>a.value=h),options:s.value,required:""},null,8,["modelValue","options"])],40,K_),g("footer",null,[f(d(I),{type:"sumbmit",form:"addFilter"},{default:y(()=>[S(" Apply ")]),_:1}),f(d(I),{color:"gray",onClick:i},{default:y(()=>[S(" Cancel ")]),_:1})])])):$("",!0),g("div",Q_,[(v(!0),A(G,null,he(n.operations,h=>(v(),w(d(Zn),{key:h.id,onRemove:_=>p("operations",h.id)},{default:y(()=>[S(" Operation equals "+C(h.name),1)]),_:2},1032,["onRemove"]))),128)),(v(!0),A(G,null,he(n.workstations,h=>(v(),w(d(Zn),{key:h.id,onRemove:_=>p("workstations",h.id)},{default:y(()=>[S(" Workstation equals "+C(h.name),1)]),_:2},1032,["onRemove"]))),128)),(v(!0),A(G,null,he(n.equipments,h=>(v(),w(d(Zn),{key:h.id,onRemove:_=>p("equipments",h.id)},{default:y(()=>[S(" Equipment equals "+C(h.name),1)]),_:2},1032,["onRemove"]))),128)),(v(!0),A(G,null,he(n.workers,h=>(v(),w(d(Zn),{key:h.id,onRemove:_=>p("workers",h.id)},{default:y(()=>[S(" Worker equals "+C(h.name),1)]),_:2},1032,["onRemove"]))),128))])]))}};const G_={class:"statsCard"},X_={key:0},Z_=g("span",null,null,-1),e1={key:1},ra={__name:"StatsCard",props:{title:String,description:String,data:Array},setup(e){const t=e;return(n,o)=>{const r=bn("RouterLink");return v(),A("div",G_,[g("h3",null,C(t.title),1),g("p",null,C(t.description),1),g("ul",null,[(v(!0),A(G,null,he(t.data,l=>(v(),A("li",{key:l.label},[l.to?(v(),A("span",X_,[f(r,{to:l.to},{default:y(()=>[S(C(l.label),1)]),_:2},1032,["to"]),Z_])):(v(),A("span",e1,C(l.label),1)),g("div",null,C(l.value),1)]))),128))])])}}},t1={__name:"ReportSummary",props:{productionRecords:Array},setup(e){const t=e,n=V(()=>{const o=new Set(t.productionRecords.map(({productionOrderPublicId:u})=>u)).size,r=t.productionRecords.filter(({type:u})=>u!=="REJECT").reduce((u,{qty:i})=>u+i,0),l=t.productionRecords.filter(({type:u})=>u!=="REJECT").reduce((u,{timeTakenMins:i})=>u+i,0),a=t.productionRecords.filter(({type:u})=>u!=="REJECT").reduce((u,{timeEstimatedMins:i})=>u+i,0),s=u=>{const i=u.toFixed(1);return parseFloat(i)===u?u:i};return[{label:"Orders",value:o},{label:"Units",value:r},{label:"Labor hours",value:s(l/60)},{label:"Estimated hours",value:s(a/60)}]});return(o,r)=>(v(),w(ra,{title:"Summary",description:`There are ${t.productionRecords.length} production records.`,data:n.value},null,8,["description","data"]))}};const n1=["onSubmit"],o1={__name:"CreateMetafield",props:{resource:String,lastPosition:Number},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=["Text","Number","Date","Dimension","Volume","Weight"].map(c=>({label:c,value:c.toUpperCase()})),r=k(!1),l=k({name:"",type:"",resource:n.resource,attributes:[],position:(n.lastPosition||0)+1}),a=k(""),s=k({MIN:"",MAX:"",STEP:"",OPTIONS:[]}),u=k(!1),i=async()=>{try{r.value=!0,l.value.resource==="OPERATION"&&(l.value.resource=`OPERATION:${a.value}`),l.value.type==="TEXT"&&u.value&&s.value.OPTIONS.length&&l.value.attributes.push({type:"OPTIONS",value:s.value.OPTIONS}),l.value.type==="NUMBER"&&["MIN","MAX","STEP"].forEach(p=>{const m=s.value[p];m.length>1&&l.value.attributes.push({type:p,value:m})});const c=await N.metafield.createOne(l.value);t("success",c),t("cancel")}catch(c){alert(c)}finally{r.value=!1}};return(c,p)=>(v(),w(d(te),{title:"Add custom field",persist:r.value,onClose:p[9]||(p[9]=m=>t("cancel"))},{body:y(()=>[g("form",{id:"createMetafield",onSubmit:ce(i,["prevent"])},[f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":p[0]||(p[0]=m=>l.value.name=m),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),n.resource==="OPERATION"?(v(),w(d(Wn),{key:0,modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=m=>a.value=m),keys:["id"]},null,8,["modelValue"])):$("",!0),f(d(we),{modelValue:l.value.type,"onUpdate:modelValue":p[2]||(p[2]=m=>l.value.type=m),label:"Type",options:d(o),required:""},null,8,["modelValue","options"]),l.value.type==="TEXT"?(v(),w(d(bt),{key:1,modelValue:u.value,"onUpdate:modelValue":p[3]||(p[3]=m=>u.value=m),label:"Limit to preset options"},null,8,["modelValue"])):$("",!0),l.value.type==="TEXT"&&u.value?(v(),w(d(di),{key:2,modelValue:s.value.OPTIONS,"onUpdate:modelValue":p[4]||(p[4]=m=>s.value.OPTIONS=m),label:"Options"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:3,modelValue:s.value.MIN,"onUpdate:modelValue":p[5]||(p[5]=m=>s.value.MIN=m),label:"Minimum value"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:4,modelValue:s.value.MAX,"onUpdate:modelValue":p[6]||(p[6]=m=>s.value.MAX=m),label:"Maximum value"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:5,modelValue:s.value.STEP,"onUpdate:modelValue":p[7]||(p[7]=m=>s.value.STEP=m),label:"Step size"},null,8,["modelValue"])):$("",!0)],40,n1)]),footer:y(()=>[f(d(I),{type:"submit",form:"createMetafield",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:p[8]||(p[8]=m=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},r1={__name:"DeleteMetafield",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.metafield.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove custom data",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as custom "+C(n.data.resource.toLowerCase())+" data?",1)])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const l1={class:"metafield"},a1={class:"metafield-widget"},bo={__name:"Metafield",props:{modelValue:Object,data:Object},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o={DIMENSION:["mm","cm","m","in","ft","yd"],VOLUME:["ml","L","m³","fl oz","pt","qt","gal"],WEIGHT:["mg","g","kg","oz","lb"]},r=V(()=>["DIMENSION","VOLUME","WEIGHT"].includes(n.data.type)),l=V(()=>n.data.attributes.some(({type:i})=>i==="OPTIONS")?we:B),a=V(()=>{const i=["TEXT","DATE"].includes(n.data.type)?n.data.type:"number",c={};return n.data.attributes.forEach(({type:p,value:m})=>c[p.toLowerCase()]=m),r.value&&(c.step="any"),{...c,type:i}}),s=V({get:()=>{var i;return(i=n.modelValue)==null?void 0:i.uom},set:i=>t("update:modelValue",{value:n.modelValue.value,uom:i})}),u=V({get:()=>{var i;return(i=n.modelValue)==null?void 0:i.value},set:i=>t("update:modelValue",r.value?{value:i,uom:s.value}:{value:i})});return(i,c)=>(v(),A("div",l1,[g("label",null,C(n.data.name),1),g("div",a1,[(v(),w(Vn(l.value),{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=p=>u.value=p),modelModifiers:{trim:!0},type:a.value.type,min:a.value.min,max:a.value.max,step:a.value.step,options:a.value.options},null,8,["modelValue","type","min","max","step","options"])),r.value?(v(),w(d(we),{key:0,modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=p=>s.value=p),options:o[n.data.type],required:!!u.value},null,8,["modelValue","options","required"])):$("",!0)])]))}},s1={key:0},u1={class:"capitalize"},i1={__name:"MetafieldsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=V(()=>n.data.some(l=>l.resource!=="PRODUCT")?[{key:"name",label:"Name"},{key:"operationName",label:"Operation"},{key:"type",label:"Type"}]:[{key:"name",label:"Name"},{key:"type",label:"Type"}]),r=V(()=>{const{operations:l}=Ut();return n.data.map((a,s)=>{let u;if(a.resource!=="PRODUCT"){const c=a.resource.slice(10),{name:p}=l.value.find(({id:m})=>c===m);u=p}let i=["Move up","Move down","Edit","Remove"];return n.data.length>1&&s===0&&(i=["Move down","Edit","Remove"]),n.data.length>1&&s===n.data.length-1&&(i=["Move up","Edit","Remove"]),n.data.length===1&&(i=["Edit","Remove"]),{_:{actions:i},...a,operationName:u}})});return(l,a)=>(v(),w(d(Ie),{columns:o.value,data:r.value,"row-actions":"",onRowAction:a[0]||(a[0]=s=>t("action",s))},{row:y(({data:s})=>[g("td",null,C(s.name),1),s.operationName?(v(),A("td",s1,C(s.operationName),1)):$("",!0),g("td",u1,C(s.type),1)]),_:1},8,["columns","data"]))}};const c1=["onSubmit"],d1={__name:"UpdateMetafield",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=["Text","Number","Date","Dimension","Volume","Weight"].map(c=>({label:c,value:c.toUpperCase()})),r=k(!1),l=k({id:"",name:"",type:"",resource:"",attributes:[]}),a=k(""),s=k({MIN:"",MAX:"",STEP:"",OPTIONS:[]}),u=k(!1);Nl(()=>{l.value={id:n.data.id,name:n.data.name,type:n.data.type,attributes:[]},n.data.resource==="PRODUCT"?l.value.resource="PRODUCT":(l.value.resource="OPERATION",a.value=n.data.resource.slice(10)),n.data.attributes.forEach(c=>{s.value[c.type]=c.value,c.type==="OPTIONS"&&(u.value=!0)})});const i=async()=>{try{r.value=!0,l.value.resource==="OPERATION"&&(l.value.resource=`OPERATION:${a.value}`),l.value.type==="TEXT"&&u.value&&s.value.OPTIONS.length&&l.value.attributes.push({type:"OPTIONS",value:s.value.OPTIONS}),l.value.type==="NUMBER"&&["MIN","MAX","STEP"].forEach(c=>{const p=s.value[c];p.length>1&&l.value.attributes.push({type:c,value:p})}),await N.metafield.updateOne(l.value),t("success",l.value),t("cancel")}catch(c){alert(c)}finally{r.value=!1}};return(c,p)=>(v(),w(d(te),{title:"Edit custom field",persist:r.value,onClose:p[9]||(p[9]=m=>t("cancel"))},{body:y(()=>{var m;return[g("form",{id:"updateMetafield",onSubmit:ce(i,["prevent"])},[f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":p[0]||(p[0]=b=>l.value.name=b),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),((m=n.data)==null?void 0:m.resource)!=="PRODUCT"?(v(),w(d(Wn),{key:0,modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=b=>a.value=b),keys:["id"]},null,8,["modelValue"])):$("",!0),f(d(we),{modelValue:l.value.type,"onUpdate:modelValue":p[2]||(p[2]=b=>l.value.type=b),label:"Type",options:d(o),required:""},null,8,["modelValue","options"]),l.value.type==="TEXT"?(v(),w(d(bt),{key:1,modelValue:u.value,"onUpdate:modelValue":p[3]||(p[3]=b=>u.value=b),label:"Limit to preset options"},null,8,["modelValue"])):$("",!0),l.value.type==="TEXT"&&u.value?(v(),w(d(di),{key:2,modelValue:s.value.OPTIONS,"onUpdate:modelValue":p[4]||(p[4]=b=>s.value.OPTIONS=b),label:"Options"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:3,modelValue:s.value.MIN,"onUpdate:modelValue":p[5]||(p[5]=b=>s.value.MIN=b),label:"Minimum value"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:4,modelValue:s.value.MAX,"onUpdate:modelValue":p[6]||(p[6]=b=>s.value.MAX=b),label:"Maximum value"},null,8,["modelValue"])):$("",!0),l.value.type==="NUMBER"?(v(),w(d(B),{key:5,modelValue:s.value.STEP,"onUpdate:modelValue":p[7]||(p[7]=b=>s.value.STEP=b),label:"Step size"},null,8,["modelValue"])):$("",!0)],40,c1)]}),footer:y(()=>[f(d(I),{type:"submit",form:"updateMetafield",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:p[8]||(p[8]=m=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const p1=["onSubmit"],f1={__name:"CreateProductionRecord",props:{job:Object,requireEquipment:Boolean},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=V(()=>{const h=[{label:"Output",value:"OUTPUT"},{label:"Reject",value:"REJECT"},{label:"Rework",value:"REWORK",disabled:n.job.qtyReject<1}];return{OPEN:[{label:"Output",value:"OUTPUT"}],IN_PROGRESS:h,PAUSED:h,CLOSED:[{label:"Reject",value:"REJECT"}]}[n.job.status]}),r=k(!1),l=k([]),a=k({productionOrderId:n.job.productionOrder.id,operation:n.job.operation,worker:null,workstation:n.job.workstation,equipment:null,type:n.job.status==="OPEN"?"OUTPUT":null,qty:null,timeTakenMins:null,meta:null}),s=k(new Date().toLocaleDateString("en-CA")),u=k(null),i=V(()=>`Add ${n.job.operation.name.toLowerCase()} record`),c=V(()=>`${n.job.productionOrder.publicId} — ${n.job.product.normalizedName}`),p=V(()=>{const h=n.job.qtyOutput-n.job.qtyReject+n.job.qtyRework;return{OUTPUT:n.job.qtyInput-h,REJECT:h,REWORK:n.job.qtyReject}[a.value.type]}),m=async()=>{try{if(r.value=!0,s.value!==new Date().toLocaleDateString("en-CA")&&(a.value.timestamp=Date.parse(`${s.value}T00:00:00+08:00`)),l.value.length&&Object.values(u.value).some(_=>_.value!==""&&_.value!==null)){a.value.meta={};for(const[_,R]of Object.entries(u.value))R.value!==""&&R.value!==null&&(a.value.meta[_]=R)}const h=await N.productionRecord.create(a.value);t("success",h),t("cancel")}catch(h){alert(h)}finally{r.value=!1}},b=h=>{h.length&&(l.value=h,u.value={},h.forEach(({id:_,type:R})=>{const P={value:null};["DIMENSION","VOLUME","WEIGHT"].includes(R)&&(P.uom=null),u.value[_]=P}))};return N.metafield.getAll({resource:`OPERATION:${n.job.operation.id}`}).then(b),(h,_)=>(v(),w(d(te),{title:i.value,persist:r.value,onClose:_[7]||(_[7]=R=>t("cancel"))},{body:y(()=>[g("form",{id:"createProductionRecord",onSubmit:ce(m,["prevent"])},[f(d(B),{label:"Job",value:c.value,disabled:""},null,8,["value"]),f(d(B),{label:"Workstation",value:n.job.workstation.name,disabled:""},null,8,["value"]),f(d(B),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=R=>s.value=R),label:"Date",type:"date",max:new Date().toLocaleDateString("en-CA"),required:""},null,8,["modelValue","max"]),f(d(we),{modelValue:a.value.type,"onUpdate:modelValue":_[1]||(_[1]=R=>a.value.type=R),label:"Type",options:o.value,required:""},null,8,["modelValue","options"]),f(d(oa),{modelValue:a.value.worker,"onUpdate:modelValue":_[2]||(_[2]=R=>a.value.worker=R),required:""},null,8,["modelValue"]),n.requireEquipment?(v(),w(d(na),{key:0,modelValue:a.value.equipment,"onUpdate:modelValue":_[3]||(_[3]=R=>a.value.equipment=R),"operation-id":n.job.operation.id},null,8,["modelValue","operation-id"])):$("",!0),f(d(B),{modelValue:a.value.qty,"onUpdate:modelValue":_[4]||(_[4]=R=>a.value.qty=R),modelModifiers:{number:!0},label:"Quantity",helper:a.value.type?`Maximum of ${p.value.toLocaleString()}`:null,type:"number",step:"any",min:"1",max:p.value,required:""},null,8,["modelValue","helper","max"]),["OUTPUT","REWORK"].includes(a.value.type)?(v(),w(d(B),{key:1,modelValue:a.value.timeTakenMins,"onUpdate:modelValue":_[5]||(_[5]=R=>a.value.timeTakenMins=R),modelModifiers:{number:!0},label:"Duration",suffix:"mins",type:"number",step:"any",min:"0"},null,8,["modelValue"])):$("",!0),(v(!0),A(G,null,he(l.value,R=>(v(),w(d(bo),{modelValue:u.value[R.id],"onUpdate:modelValue":P=>u.value[R.id]=P,key:R.id,data:R},null,8,["modelValue","onUpdate:modelValue","data"]))),128))],40,p1)]),footer:y(()=>[f(d(I),{type:"submit",form:"createProductionRecord",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:_[6]||(_[6]=R=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}};const m1=["onSubmit"],v1={key:0},y1=g("span",null,null,-1),h1=g("hr",null,null,-1),b1={__name:"CreateProductionRecords",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k(null),r=k(null),l=k([]),a=k([]),s=k([{date:null,productionOrderId:null,workstation:{id:null},worker:{id:null},equipment:{id:null},type:null,qty:null,timeTakenMins:null,meta:{}}]),u=V(()=>{var T;const P=[{label:"Output",value:"OUTPUT"},{label:"Reject",value:"REJECT"}];return(T=r.value)!=null&&T.allowsRework?[...P,{label:"Rework",value:"REWORK"}]:P}),i=V(()=>l.value.filter(({resource:P})=>{var T;return P.includes((T=r.value)==null?void 0:T.id)})),c=V(()=>a.value.filter(({operationId:P})=>{var T;return((T=r.value)==null?void 0:T.id)===P})),p=V(()=>{var q;const P=(q=r.value)!=null&&q.hasEquipment?8:7,T=i.value.length;return P+T}),m=V(()=>{const P=c.value.some(q=>!q.disabled),T=s.value.some(({productionOrderId:q})=>q===null);return P&&!T}),b=()=>s.value.push({date:null,productionOrderId:null,workstation:{id:null},worker:{id:null},equipment:{id:null},type:null,qty:null,timeTakenMins:null,meta:{}}),h=P=>s.value.splice(P,1),_=()=>s.value=[{date:null,productionOrderId:null,workstation:{id:null},worker:{id:null},equipment:{id:null},type:null,qty:null,timeTakenMins:null,meta:{}}],R=async()=>{try{n.value=!0;let P;o.value!==new Date().toLocaleDateString("en-CA")&&(P=Date.parse(`${o.value}T00:00:00+08:00`));const T=s.value.map(q=>{const{date:M,equipment:X,meta:pe,...de}=q;for(const[ae,$e]of Object.entries(pe))($e.value===""||$e.value===null)&&delete pe[ae];const ne={operation:{id:r.value.id},meta:Object.keys(pe).length?pe:null,equipment:(X==null?void 0:X.id)||null,...de};return P&&(ne.timestamp=P),ne});await N.productionRecord.create(T),t("success",r.value)}catch(P){alert(P)}finally{n.value=!1}};return N.job.getAll().then(P=>{const T=P.filter(q=>{const M=q.qtyOutput-q.qtyReject+q.qtyRework,X=q.qtyInput-q.qtyShortfall;return!q.operation.isBatch&&q.workstation&&X>M});a.value=T.map(q=>({label:`${q.productionOrder.publicId} — ${q.product.normalizedName}`,value:q.productionOrder.id,operationId:q.operation.id}))}),N.metafield.getAll({resource:"OPERATION"}).then(P=>l.value=P),(P,T)=>(v(),A("form",{class:"createProductionRecords",onSubmit:ce(R,["prevent"])},[g("fieldset",null,[f(d(B),{modelValue:o.value,"onUpdate:modelValue":T[0]||(T[0]=q=>o.value=q),label:"Date",type:"date",max:new Date().toLocaleDateString("en-CA"),required:""},null,8,["modelValue","max"]),f(d(Wn),{modelValue:r.value,"onUpdate:modelValue":T[1]||(T[1]=q=>r.value=q),keys:["id","name","allowsRework","hasEquipment"],"is-batch":!1,onChange:_},null,8,["modelValue"])]),g("table",null,[g("colgroup",null,[(v(!0),A(G,null,he(p.value,q=>(v(),A("col"))),256))]),g("tbody",null,[(v(!0),A(G,null,he(s.value,(q,M)=>{var X,pe,de,ne;return v(),A("tr",{key:((X=r.value)==null?void 0:X.id)+String(M)},[g("td",null,[f(d(we),{modelValue:s.value[M].productionOrderId,"onUpdate:modelValue":ae=>s.value[M].productionOrderId=ae,label:"Job",options:c.value,required:""},null,8,["modelValue","onUpdate:modelValue","options"])]),g("td",null,[f(d(we),{modelValue:s.value[M].type,"onUpdate:modelValue":ae=>s.value[M].type=ae,label:"Type",options:u.value,required:""},null,8,["modelValue","onUpdate:modelValue","options"])]),g("td",null,[f(d($r),{modelValue:s.value[M].workstation.id,"onUpdate:modelValue":ae=>s.value[M].workstation.id=ae,"operation-id":(pe=r.value)==null?void 0:pe.id,keys:["id"]},null,8,["modelValue","onUpdate:modelValue","operation-id"])]),g("td",null,[f(d(oa),{modelValue:s.value[M].worker.id,"onUpdate:modelValue":ae=>s.value[M].worker.id=ae,keys:["id"]},null,8,["modelValue","onUpdate:modelValue"])]),(de=r.value)!=null&&de.hasEquipment?(v(),A("td",v1,[f(d(na),{modelValue:s.value[M].equipment.id,"onUpdate:modelValue":ae=>s.value[M].equipment.id=ae,"operation-id":(ne=r.value)==null?void 0:ne.id,keys:["id"]},null,8,["modelValue","onUpdate:modelValue","operation-id"])])):$("",!0),g("td",null,[f(d(B),{modelValue:s.value[M].qty,"onUpdate:modelValue":ae=>s.value[M].qty=ae,modelModifiers:{number:!0},label:"Quantity",type:"number",step:"any",min:"0",required:""},null,8,["modelValue","onUpdate:modelValue"])]),g("td",null,[f(d(B),{modelValue:s.value[M].timeTakenMins,"onUpdate:modelValue":ae=>s.value[M].timeTakenMins=ae,modelModifiers:{number:!0},label:"Duration",suffix:"mins",type:"number",step:"any",min:"0",disabled:!["OUTPUT","REWORK"].includes(s.value[M].type)},null,8,["modelValue","onUpdate:modelValue","disabled"])]),(v(!0),A(G,null,he(i.value,ae=>(v(),A("td",{key:ae.id},[f(d(bo),{modelValue:s.value[M].meta[ae.id],"onUpdate:modelValue":$e=>s.value[M].meta[ae.id]=$e,data:ae},null,8,["modelValue","onUpdate:modelValue","data"])]))),128)),g("td",null,[s.value.length>1?(v(),w(d(I),{key:0,color:"gray",onClick:ae=>h(M)},{default:y(()=>[y1]),_:2},1032,["onClick"])):$("",!0)])])}),128))])]),f(d(ut),{disabled:!m.value,onClick:b},{default:y(()=>[S(" Add job ")]),_:1},8,["disabled"]),h1,g("footer",null,[f(d(I),{type:"submit",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:T[2]||(T[2]=q=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])])],40,m1))}},g1={__name:"CreateShortfallProductionRecord",props:{job:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=V(()=>({productionOrderId:n.job.productionOrder.id,operation:n.job.operation,type:"SHORTFALL",qty:n.job.qtyInput-(n.job.qtyOutput-n.job.qtyReject+n.job.qtyRework),meta:null})),l=V(()=>`${n.job.productionOrder.publicId} — ${n.job.product.normalizedName}`),a=V(()=>n.job.operation.name.toLowerCase()),s=V(()=>`Close ${a.value} job`),u=async()=>{try{o.value=!0;const i=await N.productionRecord.create(r.value);t("success",i),t("cancel")}catch(i){alert(i)}finally{o.value=!1}};return(i,c)=>(v(),w(d(te),{title:s.value,persist:o.value,onClose:c[1]||(c[1]=p=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to continue? Closing the "+C(a.value)+" job for ",1),g("b",null,C(l.value),1),S(" will result to a "),g("b",null,"shortfall of "+C(r.value.qty),1),S(".")])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:u},{default:y(()=>[S("Close job")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:c[0]||(c[0]=p=>t("cancel"))},{default:y(()=>[S("Cancel")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}};const _1={id:"productionRecord"},Ti={__name:"ProductionRecordDialog",props:{data:Object},emits:["close"],setup(e,{emit:t}){const n=e,o=V(()=>{const r=n.data.productionOrderPublicId,l=r?` for ${r}`:"";return`${n.data.operation.name} record`+l});return(r,l)=>(v(),w(d(te),{title:o.value,onClose:l[1]||(l[1]=a=>t("close"))},{body:y(()=>{var a;return[g("form",_1,[f(d(B),{label:"Date",value:new Date(n.data.timestamp).toLocaleDateString("en-CA"),disabled:""},null,8,["value"]),n.data.productSku?(v(),w(d(B),{key:0,label:"Product",value:n.data.productSku,disabled:""},null,8,["value"])):$("",!0),f(d(B),{label:"Workstation",value:n.data.workstation.name,disabled:""},null,8,["value"]),f(d(B),{label:"Type",value:n.data.type,disabled:""},null,8,["value"]),n.data.worker?(v(),w(d(B),{key:1,label:"Worker",value:n.data.worker.name,disabled:""},null,8,["value"])):$("",!0),n.data.equipment?(v(),w(d(B),{key:2,label:"Equipment",value:(a=n.data.equipment)==null?void 0:a.name,disabled:""},null,8,["value"])):$("",!0),f(d(B),{label:"Quantity",value:n.data.qty,disabled:""},null,8,["value"]),n.data.timeTakenMins?(v(),w(d(B),{key:3,label:"Duration",suffix:"mins",value:n.data.timeTakenMins,disabled:""},null,8,["value"])):$("",!0),(v(!0),A(G,null,he(n.data.meta,s=>(v(),w(d(B),{label:s.label,suffix:s.uom,value:s.value,disabled:""},null,8,["label","suffix","value"]))),256))])]}),footer:y(()=>[f(d(I),{onClick:l[0]||(l[0]=a=>t("close"))},{default:y(()=>[S("Close")]),_:1})]),_:1},8,["title"]))}},w1={__name:"ProductionRecordsList",props:{data:Array},setup(e){const t=e,n=[{label:"Date",key:"timestamp"},{label:"Workstation",key:"workstation.name"},{label:"Equipment",key:"equipment.name"},{label:"Quantity",key:"qty"},{label:"Worker",key:"worker.name",width:"30%"}],o=k(null);return(r,l)=>(v(),A(G,null,[f(d(Ie),{columns:n,data:t.data,"force-row-menu":"","row-actions":["View"],onRowAction:l[0]||(l[0]=({data:a})=>o.value=a)},{row:y(({data:a})=>{var s,u,i;return[g("td",null,C(new Date(a.timestamp).toLocaleDateString("en-CA")),1),g("td",null,C((s=a.workstation)==null?void 0:s.name),1),g("td",null,C((u=a.equipment)==null?void 0:u.name),1),g("td",null,C((a.type==="REJECT"?"(":"")+a.qty+(a.type==="REJECT"?")":"")),1),g("td",null,C((i=a.worker)==null?void 0:i.name),1)]}),_:1},8,["data"]),o.value?(v(),w(Ti,{key:0,data:o.value,onClose:l[1]||(l[1]=a=>o.value=null)},null,8,["data"])):$("",!0)],64))}},O1={__name:"ReportTable",props:{productionRecords:Array},setup(e){const t=e,n=[{label:"ID",key:"productionOrderPublicId"},{label:"Product",key:"productSku"},{label:"Workstation",key:"workstation.name"},{label:"Equipment",key:"equipment.name"},{label:"Quantity",key:"qty",width:"12%"},{label:"Worker",key:"worker.name",width:"18%"},{label:"Date",key:"timestamp"}],o=k(null);return(r,l)=>(v(),A(G,null,[f(d(Ie),{columns:n,data:t.productionRecords,"force-row-menu":"","row-actions":["View"],searchable:"",onRowAction:l[0]||(l[0]=({data:a})=>o.value=a)},{row:y(({data:a})=>{var s,u,i;return[g("td",null,C(a.productionOrderPublicId),1),g("td",null,C(a.productSku),1),g("td",null,C((s=a.workstation)==null?void 0:s.name),1),g("td",null,C((u=a.equipment)==null?void 0:u.name),1),g("td",null,C((a.type==="REJECT"?"(":"")+a.qty+(a.type==="REJECT"?")":"")),1),g("td",null,C((i=a.worker)==null?void 0:i.name),1),g("td",null,C(new Date(a.timestamp).toLocaleDateString("en-CA")),1)]}),_:1},8,["data"]),o.value?(v(),w(d(Ti),{key:0,data:o.value,onClose:l[1]||(l[1]=a=>o.value=null)},null,8,["data"])):$("",!0)],64))}},k1={__name:"Logout",setup(e){const t=Qe(),{clearSession:n}=on(),{reset:o}=ln(),r=async()=>{n(),await t.push({name:"Login"}),o()};return(l,a)=>ye(l.$slots,"default",{invoke:r})}};const S1=g("header",null,null,-1),Ts={__name:"CleanLayout",setup(e){return Ne(()=>document.body.dataset.layout="clean"),(t,n)=>{const o=bn("RouterView");return v(),A(G,null,[S1,g("main",null,[f(o)])],64)}}},E1="/logo.png";const C1=["alt"],A1={key:0},Sn={__name:"DefaultLayout",setup(e){const{session:t}=on(),{isInitialized:n,organizationName:o}=ln(),r=V(()=>{var s,u;return`${(s=t.value.user)==null?void 0:s.firstName} ${(u=t.value.user)==null?void 0:u.lastName}`}),l=[{label:"Sales",path:"/sales",children:[{label:"Orders",route:{name:"SalesOrders"}},{label:"Customers",route:{name:"Customers"}}]},{label:"Production",path:"/production",children:[{label:"Overview",route:{name:"ProductionOrders"}},{label:"Execution",route:{name:"ProductionExecution"}}]},{label:"Inventory",path:"/inventory",children:[{label:"Products",route:{name:"Products"}},{label:"Materials",route:{name:"Materials"}}]},{label:"Reports",route:{name:"Reports"}}],a={label:"Settings",path:"/settings",children:[{label:"Users",route:{name:"Users"}},{label:"Configurations",route:{name:"Configurations"}}]};return(s,u)=>{const i=bn("RouterView");return v(),w(d(ey),null,{brand:y(()=>[g("img",{class:"logo",src:E1,alt:d(o)},null,8,C1)]),navigation:y(()=>[f(d(rv),{dropdown:""},{default:y(()=>[S(C(r.value),1)]),dropdown:y(()=>[f(d(bs),{to:{name:"Account"},large:""},{default:y(()=>[S("Manage Account")]),_:1}),f(d(k1),null,{default:y(({invoke:c})=>[f(d(bs),{onClick:c,large:""},{default:y(()=>[S("Log Out")]),_:2},1032,["onClick"])]),_:1})]),_:1})]),sidebar:y(()=>{var c,p;return[(v(),A(G,null,he(l,m=>f(d(Ro),{key:m.label,label:m.label,to:m.route,path:m.path},ad({_:2},[m.children?{name:"children",fn:y(()=>[(v(!0),A(G,null,he(m.children,b=>(v(),w(d(Ro),{key:b.label,icon:!1,label:b.label,to:b.route},null,8,["label","to"]))),128))]),key:"0"}:void 0]),1032,["label","to","path"])),64)),(c=d(t).user)!=null&&c.isAdmin?(v(),A("hr",A1)):$("",!0),(p=d(t).user)!=null&&p.isAdmin?(v(),w(d(Ro),{key:1,label:a.label,path:a.path},{children:y(()=>[(v(!0),A(G,null,he(a.children,m=>(v(),w(d(Ro),{key:m.label,icon:!1,label:m.label,to:m.route},null,8,["label","to"]))),128))]),_:1},8,["label","path"])):$("",!0)]}),main:y(()=>[d(n)?(v(),w(i,{key:1})):(v(),w(d(y_),{key:0}))]),_:1})}}},$1=g("p",null,"Change your password any time. This does not revoke your current session.",-1),x1={__name:"AccountView",setup(e){const t=k(!1);return(n,o)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{title:"Account"}),f(d(st),{title:"Password"},{body:y(()=>[$1]),action:y(()=>[f(d(I),{onClick:o[0]||(o[0]=r=>t.value=!0)},{default:y(()=>[S(" Change password ")]),_:1})]),_:1})]),_:1}),t.value?(v(),w(d(Ii),{key:0,onDismiss:o[1]||(o[1]=r=>t.value=!1)})):$("",!0)],64))}},R1={__name:"ArchiveSalesOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.salesOrder.archive(n.data.id),t("success"),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Archive sales order",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("You're about to archive "),g("b",null,C(n.data.publicId)+" ("+C(n.data.customer.shortName)+")",1),S(". Do you want to proceed?")])]),footer:y(()=>[f(d(I),{loading:o.value,onClick:r},{default:y(()=>[S(" Confirm ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},I1={__name:"ConfirmSalesOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.salesOrder.confirm(n.data.id),t("success"),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Confirm sales order",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("You're about to confirm "),g("b",null,C(n.data.publicId)+" ("+C(n.data.customer.shortName)+")",1),S(". You won't be able to change any order items. Do you want to proceed?")])]),footer:y(()=>[f(d(I),{loading:o.value,onClick:r},{default:y(()=>[S(" Confirm ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const V1=["onSubmit"],P1={class:"createSalesOrderItems"},M1=g("span",null,null,-1),T1=g("hr",null,null,-1),q1=g("p",null,"When you create a sales order, it does not immediately allocate stock or create production orders.",-1),N1={__name:"CreateSalesOrder",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k([]),r=k([]),l=k(""),a=k({publicId:"",customer:{id:""},date:new Date().toLocaleDateString("en-CA"),items:[{product:{id:"",uom:""},qty:null}]}),s=V(()=>{const m=a.value.items.map(({product:h})=>h.id).filter(h=>h);return r.value.map(({id:h,normalizedName:_,uom:R})=>({label:_,value:{id:h,uom:R},disabled:m.includes(h)}))}),u=V(()=>s.value.some(({disabled:m})=>!m)),i=()=>{a.value.items.push({product:{id:"",uom:""},qty:null})},c=m=>{a.value.items.splice(m,1)},p=async()=>{try{n.value=!0;const m=await N.salesOrder.createOne(a.value);t("success",m)}catch(m){alert(m)}finally{n.value=!1}};return N.customer.getAll().then(m=>{o.value=m.map(({id:b,shortName:h})=>({label:h,value:b}))}),N.lookup.get("lastSalesOrderPublicId").then(m=>l.value=m.lastSalesOrderPublicId),N.product.getAll().then(m=>{r.value=m.map(({id:b,normalizedName:h,uom:_})=>({id:b,normalizedName:h,uom:_}))}),(m,b)=>(v(),A("form",{id:"createSalesOrder",onSubmit:ce(p,["prevent"])},[g("fieldset",null,[f(d(we),{modelValue:a.value.customer.id,"onUpdate:modelValue":b[0]||(b[0]=h=>a.value.customer.id=h),label:"Customer",options:o.value,required:""},null,8,["modelValue","options"]),f(d(B),{modelValue:a.value.publicId,"onUpdate:modelValue":b[1]||(b[1]=h=>a.value.publicId=h),modelModifiers:{trim:!0},label:"ID",helper:`Last ID: ${l.value||"None"}`,required:""},null,8,["modelValue","helper"]),f(d(B),{modelValue:a.value.date,"onUpdate:modelValue":b[2]||(b[2]=h=>a.value.date=h),label:"Date",type:"date",required:""},null,8,["modelValue"])]),g("table",P1,[g("colgroup",null,[(v(),A(G,null,he(3,h=>g("col")),64))]),g("tbody",null,[(v(!0),A(G,null,he(a.value.items,(h,_)=>(v(),A("tr",{key:_},[g("td",null,[f(d(we),{modelValue:a.value.items[_].product,"onUpdate:modelValue":R=>a.value.items[_].product=R,label:"Product",options:s.value,required:""},null,8,["modelValue","onUpdate:modelValue","options"])]),g("td",null,[f(d(B),{modelValue:a.value.items[_].qty,"onUpdate:modelValue":R=>a.value.items[_].qty=R,modelModifiers:{number:!0},label:"Quantity",suffix:a.value.items[_].product.uom,type:"number",step:"any",min:"1",required:""},null,8,["modelValue","onUpdate:modelValue","suffix"])]),g("td",null,[a.value.items.length>1?(v(),w(d(I),{key:0,color:"gray",onClick:R=>c(_)},{default:y(()=>[M1]),_:2},1032,["onClick"])):$("",!0)])]))),128))])]),f(d(ut),{onClick:i,disabled:!u.value},{default:y(()=>[S(" Add product ")]),_:1},8,["disabled"]),T1,g("footer",null,[f(d(I),{type:"submit",loading:n.value},{default:y(()=>[S(" Create ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:b[3]||(b[3]=h=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"]),q1])],40,V1))}},U1={__name:"ForceFulfillSalesOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.salesOrder.forceFulfilledStatus(n.data.id),t("success"),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Mark sales order as fulfilled",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("You're about to mark "),g("b",null,C(n.data.publicId)+" ("+C(n.data.customer.shortName)+")",1),S(" as fulfilled. Do you want to proceed?")])]),footer:y(()=>[f(d(I),{loading:o.value,onClick:r},{default:y(()=>[S(" Confirm ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const L1=["onSubmit"],j1={__name:"RemoveSalesOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:n.data.id,status:null}),l=V(()=>{const s=[{label:"Cancelled by customer",value:"CANCELLED_BY_CUSTOMER"},{label:"Cancelled by us",value:"CANCELLED_BY_MANUFACTURER"}];return n.data.status==="OPEN"&&s.push({label:"Created by mistake",value:"DELETE"}),s}),a=async()=>{try{o.value=!0,r.value.status==="DELETE"?await N.salesOrder.deleteOne(n.data.id):await N.salesOrder.cancel(r.value),t("success",r.value),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Remove sales order",persist:o.value,onClose:u[2]||(u[2]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"removeSalesOrder",onSubmit:ce(a,["prevent"])},[g("p",null,[S("Removing "),g("b",null,C(n.data.publicId)+" ("+C(n.data.customer.shortName)+")",1),S(" is permanent. Select a reason below to proceed.")]),f(d(we),{modelValue:r.value.status,"onUpdate:modelValue":u[0]||(u[0]=i=>r.value.status=i),label:"Reason",options:l.value,required:""},null,8,["modelValue","options"])],40,L1)]),footer:y(()=>[f(d(I),{color:"red",type:"submit",form:"removeSalesOrder",loading:o.value,disabled:!r.value.status},{default:y(()=>[S(" Remove ")]),_:1},8,["loading","disabled"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[1]||(u[1]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},qi={__name:"SalesOrdersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"ID",key:"publicId"},{label:"Customer",key:"customer.shortName"},{label:"Item Count",key:"itemCount"},{label:"Date",key:"date"},{label:"Status",key:"status"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,searchable:"","row-actions":["View"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.publicId),1),g("td",null,C(a.customer.shortName),1),g("td",null,C(a.itemCount),1),g("td",null,C(a.date),1),g("td",null,[f(Hn,{data:a.status},null,8,["data"])])]),_:1},8,["data"]))}},D1={__name:"SalesOrdersSummary",props:{salesOrders:Array,archivedCount:Number},setup(e){const t=e,n=V(()=>{const o=["Open","Confirmed","Partially fulfilled","Fulfilled"],r=t.salesOrders.reduce((a,{status:s})=>(a[s]=(a[s]||0)+1,a),{}),l=o.map(a=>({label:a,value:r[a.replace(" ","_").toUpperCase()]||0}));return l.push({label:"Archived",value:t.archivedCount,to:{name:"ArchivedSalesOrders"}}),l});return(o,r)=>(v(),w(ra,{title:"Summary",description:`There are ${t.salesOrders.length} sales orders.`,data:n.value},null,8,["description","data"]))}},B1={__name:"ArchivedSalesOrdersView",setup(e){const t=Qe(),n=[{name:"Orders",path:"/sales/orders"},{name:"Archived Orders"}],o=k([]),r=({data:l})=>{t.push({name:"SalesOrder",params:{salesOrderId:l.id}})};return N.salesOrder.getAll({isArchived:!0}).then(l=>o.value=l),(l,a)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:n}),f(d(Ae),{title:"Archived Orders"}),f(d(qi),{data:o.value,onAction:r},null,8,["data"])]),_:1}))}},F1={class:"capitalize"},z1={__name:"CategoriesList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{key:"name",label:"Name"},{key:"type",label:"Type"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,"row-actions":["Edit","Remove"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.name),1),g("td",F1,C(a.type),1)]),_:1},8,["data"]))}},gn={__name:"CategorySelect",props:{modelValue:[Object,String],type:String,defaultOption:Boolean,keys:{type:Array,default:()=>["id","name"]},disabled:Boolean,required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,{categories:o}=ea(),r=V(()=>o.value.filter(({type:a})=>n.type.toUpperCase()===a).map(a=>{let s={};return n.keys.length>1?n.keys.forEach(u=>s[u]=a[u]):s=a[n.keys.at(0)],{label:a.name,value:s}})),l=V({get(){return n.modelValue},set(a){t("update:modelValue",a)}});return(a,s)=>(v(),w(d(we),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),label:"Category",options:r.value,disabled:n.disabled,required:n.required},null,8,["modelValue","options","disabled","required"]))}};const W1=["onSubmit"],H1={__name:"CreateCategory",emits:["success","cancel"],setup(e,{emit:t}){const n=[{label:"Materials",value:"MATERIALS"},{label:"Products",value:"PRODUCTS"}],o=k(!1),r=k({name:"",type:""}),l=async()=>{try{o.value=!0;const a=await N.category.createOne(r.value);t("success",a),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),w(d(te),{title:"Add category",persist:o.value,onClose:s[3]||(s[3]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"createCategory",onSubmit:ce(l,["prevent"])},[f(d(B),{modelValue:r.value.name,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.name=u),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(we),{modelValue:r.value.type,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.type=u),label:"Type",options:n,required:""},null,8,["modelValue"])],40,W1)]),footer:y(()=>[f(d(I),{type:"submit",form:"createCategory",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[2]||(s[2]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},K1={__name:"DeleteCategory",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.category.deleteOne(n.data.id),t("success",n.data),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove category",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as a category?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const J1=["onSubmit"],Q1={__name:"UpdateCategory",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=[{label:"Materials",value:"MATERIALS"},{label:"Products",value:"PRODUCTS"}],r=k(!1),l=k({id:n.data.id,name:n.data.name,type:n.data.type}),a=async()=>{try{r.value=!0,await N.category.updateOne(l.value),t("success",l.value),t("cancel")}catch(s){alert(s)}finally{r.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Edit category",persist:r.value,onClose:u[3]||(u[3]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"updateCategory",onSubmit:ce(a,["prevent"])},[f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":u[0]||(u[0]=i=>l.value.name=i),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(we),{modelValue:l.value.type,"onUpdate:modelValue":u[1]||(u[1]=i=>l.value.type=i),label:"Type",options:o,required:""},null,8,["modelValue"])],40,J1)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateCategory",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:u[2]||(u[2]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},Y1={__name:"CategoriesView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Inventory Categories"}],{isInitialized:n,isInitializing:o}=ln(),{categories:r,...l}=ea();!n.value&&!o.value&&N.category.getAll().then(l.set);const a=k(null),s=k(null),u=({key:i,data:c})=>{s.value=i,a.value=c};return(i,c)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Inventory Categories",description:"Configure the categories that group your materials and products."},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=p=>s.value="CREATE")},{default:y(()=>[S(" Add category ")]),_:1})]),_:1}),f(d(z1),{data:d(r),onAction:u},null,8,["data"])]),_:1}),s.value==="CREATE"?(v(),w(d(H1),{key:0,onSuccess:l.add,onCancel:c[1]||(c[1]=p=>s.value=null)},null,8,["onSuccess"])):$("",!0),s.value==="EDIT"?(v(),w(d(Q1),{key:1,data:a.value,onSuccess:l.update,onCancel:c[2]||(c[2]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0),s.value==="REMOVE"?(v(),w(d(K1),{key:2,data:a.value,onSuccess:l.remove,onCancel:c[3]||(c[3]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}},G1=g("p",null,"Set up the operations in your production.",-1),X1=g("p",null,"Add, edit, or remove workstations in your facility.",-1),Z1=g("p",null,"Add, edit, or remove workers who execute your production.",-1),ew=g("p",null,"Add, edit, or remove equipment used in your production.",-1),tw=g("p",null,"Configure the categories that group your materials and products.",-1),nw=g("p",null,"Configure custom data fields for products and operations.",-1),ow={__name:"ConfigurationsView",setup(e){return(t,n)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Settings",title:"Configurations"}),f(d(st),{title:"Operations"},{body:y(()=>[G1]),action:y(()=>[f(d(I),{to:{name:"Operations"}},{default:y(()=>[S(" Set up operations ")]),_:1})]),_:1}),f(d(st),{title:"Workstations"},{body:y(()=>[X1]),action:y(()=>[f(d(I),{to:{name:"Workstations"}},{default:y(()=>[S(" Manage workstations ")]),_:1})]),_:1}),f(d(st),{title:"Workers"},{body:y(()=>[Z1]),action:y(()=>[f(d(I),{to:{name:"Workers"}},{default:y(()=>[S(" Manage workers ")]),_:1})]),_:1}),f(d(st),{title:"Equipment"},{body:y(()=>[ew]),action:y(()=>[f(d(I),{to:{name:"Equipment"}},{default:y(()=>[S(" Manage equipment ")]),_:1})]),_:1}),f(d(st),{title:"Inventory Categories"},{body:y(()=>[tw]),action:y(()=>[f(d(I),{to:{name:"Categories"}},{default:y(()=>[S(" Configure categories ")]),_:1})]),_:1}),f(d(st),{title:"Custom Data"},{body:y(()=>[nw]),action:y(()=>[f(d(I),{to:{name:"Metafields"}},{default:y(()=>[S(" Configure custom data ")]),_:1})]),_:1})]),_:1}))}};const rw=["onSubmit"],lw={__name:"CreateOperationBatch",props:{operation:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({publicId:"",operationId:n.operation.id,workstation:null,schedule:null}),l=V(()=>`Add ${n.operation.name.toLowerCase()} batch`),a=async()=>{try{o.value=!0;const s=await N.operationBatch.createOne(r.value);t("success",s),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:l.value,persist:o.value,onClose:u[4]||(u[4]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"createOperationBatch",onSubmit:ce(a,["prevent"])},[f(d(B),{modelValue:r.value.publicId,"onUpdate:modelValue":u[0]||(u[0]=i=>r.value.publicId=i),modelModifiers:{trim:!0},label:"ID",required:""},null,8,["modelValue"]),f($r,{modelValue:r.value.workstation,"onUpdate:modelValue":u[1]||(u[1]=i=>r.value.workstation=i),"operation-id":n.operation.id,required:""},null,8,["modelValue","operation-id"]),f(d(B),{modelValue:r.value.schedule,"onUpdate:modelValue":u[2]||(u[2]=i=>r.value.schedule=i),label:"Schedule",type:"date",required:""},null,8,["modelValue"])],40,rw)]),footer:y(()=>[f(d(I),{type:"submit",form:"createOperationBatch",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[3]||(u[3]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}};const aw=["onSubmit"],sw={key:0},uw={key:0},iw={class:"allowsReworkToggle"},cw=g("hr",null,null,-1),dw={__name:"CreateOperationBatchReport",props:{operationBatch:Object,jobs:Array},emits:["success","cancel"],setup(e,{emit:t}){const n=e,{operations:o}=Ut(),r=k(!1),l=k([]),a=k([]),s=k({id:null,operation:{id:null},workstation:{id:null},worker:{id:null},equipment:{id:null},meta:null,productionRecords:[]}),u=V(()=>o.value.find(({id:m})=>n.operationBatch.operationId===m)),i=V(()=>{var b;return`Adding a report will close the batch ${(b=u.value)!=null&&b.allowsRework?"while incomplete jobs will be available for assignment":"and its jobs"}.`}),c=async()=>{a.value.forEach(m=>{var P;const{productionOrderId:b,qtyOutput:h,qtyReject:_,requiresRework:R}=m;s.value.productionRecords.push({productionOrderId:b,type:"OUTPUT",qty:h,timeTakenMins:(P=u.value)==null?void 0:P.timePerCycleMins}),_&&(s.value.productionRecords.push({productionOrderId:b,type:"REJECT",qty:_,requiresRework:R}),R||s.value.productionRecords.push({productionOrderId:b,type:"SHORTFALL",qty:_}))});try{r.value=!0,await N.operationBatch.createReport(s.value),t("success"),t("cancel")}catch(m){alert(m)}finally{r.value=!1}},p=m=>{m.length&&(l.value=m,s.value.meta={},m.forEach(({id:b,type:h})=>{const _={value:null};["DIMENSION","VOLUME","WEIGHT"].includes(h)&&(_.uom=null),s.value.meta[b]=_}))};return ul(()=>n.operationBatch,()=>{s.value.id=n.operationBatch.id,s.value.operation.id=n.operationBatch.operationId,s.value.workstation.id=n.operationBatch.workstation.id,N.metafield.getAll({resource:`OPERATION:${n.operationBatch.operationId}`}).then(p)}),ul(()=>n.jobs,()=>{a.value=n.jobs.map(m=>{const b=m.qtyOutput-m.qtyReject+m.qtyRework;return{productionOrderId:m.productionOrder.id,qtyOutput:m.qtyInput-b,qtyReject:0,requiresRework:!1}})}),(m,b)=>{var h,_;return v(),A("form",{class:"createOperationBatchReport",onSubmit:ce(c,["prevent"])},[g("fieldset",null,[f(d(oa),{modelValue:s.value.worker.id,"onUpdate:modelValue":b[0]||(b[0]=R=>s.value.worker.id=R),keys:["id"]},null,8,["modelValue"]),f(d(na),{modelValue:s.value.equipment.id,"onUpdate:modelValue":b[1]||(b[1]=R=>s.value.equipment.id=R),keys:["id"],"operation-id":(h=u.value)==null?void 0:h.id},null,8,["modelValue","operation-id"]),(v(!0),A(G,null,he(l.value,R=>(v(),w(d(bo),{modelValue:s.value.meta[R.id],"onUpdate:modelValue":P=>s.value.meta[R.id]=P,key:R.id,data:R},null,8,["modelValue","onUpdate:modelValue","data"]))),128))]),g("table",null,[g("colgroup",null,[(v(),A(G,null,he(3,R=>g("col")),64)),(_=u.value)!=null&&_.allowsRework?(v(),A("col",sw)):$("",!0)]),g("tbody",null,[(v(!0),A(G,null,he(n.jobs,(R,P)=>{var T;return v(),A("tr",{key:P},[g("td",null,[f(d(B),{label:"Job",value:`${R.productionOrder.publicId} — ${R.product.normalizedName}`,disabled:""},null,8,["value"])]),g("td",null,[f(d(B),{label:"Output",value:a.value[P].qtyOutput-a.value[P].qtyReject,type:"number",disabled:""},null,8,["value"])]),g("td",null,[f(d(B),{modelValue:a.value[P].qtyReject,"onUpdate:modelValue":q=>a.value[P].qtyReject=q,modelModifiers:{number:!0},label:"Reject",type:"number",step:"any",min:"0",max:R.qtyInput,required:""},null,8,["modelValue","onUpdate:modelValue","max"])]),(T=u.value)!=null&&T.allowsRework?(v(),A("td",uw,[g("div",iw,[a.value[P].qtyReject?(v(),w(d(bt),{key:0,label:"Rework",modelValue:a.value[P].requiresRework,"onUpdate:modelValue":q=>a.value[P].requiresRework=q},null,8,["modelValue","onUpdate:modelValue"])):$("",!0)])])):$("",!0)])}),128))])]),cw,g("footer",null,[f(d(I),{type:"submit",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:b[2]||(b[2]=R=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"]),g("p",null,C(i.value),1)])],40,aw)}}},pw={__name:"DeleteOperationBatch",props:{data:Object,operation:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=V(()=>`Delete ${n.operation.name.toLowerCase()} batch`),l=V(()=>`${n.data.jobCount} job${n.data.jobCount>1?"s":""}`),a=async()=>{try{o.value=!0,await N.operationBatch.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:r.value,persist:o.value,onClose:u[1]||(u[1]=i=>t("cancel"))},{body:y(()=>[g("p",null,[S("You are about to delete "),g("b",null,C(n.data.publicId)+" — "+C(n.data.schedule),1),S(" with "+C(l.value)+". Do you want to proceed?",1)])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:a},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[0]||(u[0]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}},fw={__name:"OperationBatchesList",props:{data:{type:Array,default:()=>[]}},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"ID",key:"publicId",width:"12%"},{label:"Schedule",key:"schedule"},{label:"Job Count",key:"jobCount"},{label:"Batch Size",key:"size"},{label:"Status",key:"status"},{label:"Workstation",key:"workstation.name"}],r=V(()=>n.data.map(l=>{let a=["Start","Remove"];return l.jobCount||(a=["Remove"]),l.status==="IN_PROGRESS"&&(a=["Add report"]),{_:{actions:a},...l}}));return(l,a)=>(v(),w(d(Ie),{columns:o,data:r.value,searchable:"","force-row-menu":"","row-actions":"",onRowAction:a[1]||(a[1]=s=>t("action",s))},{header:y(()=>[f(d(ut),{onClick:a[0]||(a[0]=s=>t("action",{key:"CREATE"}))},{default:y(()=>[S(" Add batch ")]),_:1})]),row:y(({data:s})=>[g("td",null,C(s.publicId),1),g("td",null,C(s.schedule),1),g("td",null,C(s.jobCount),1),g("td",null,C(s.size),1),g("td",null,[f(Hn,{data:s.status},null,8,["data"])]),g("td",null,C(s.workstation.name),1)]),_:1},8,["data"]))}},mw={__name:"StartOperationBatch",props:{data:Object,operation:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=V(()=>`Start ${n.operation.name.toLowerCase()} batch`),l=V(()=>`${n.data.jobCount} job${n.data.jobCount>1?"s":""}`),a=async()=>{try{o.value=!0,await N.operationBatch.start(n.data.id),t("success",n.data.id),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:r.value,persist:o.value,onClose:u[1]||(u[1]=i=>t("cancel"))},{body:y(()=>[g("p",null,[S("You are about to start "),g("b",null,C(n.data.publicId)+" — "+C(n.data.schedule),1),S(" with "+C(l.value)+". Do you want to proceed?",1)])]),footer:y(()=>[f(d(I),{loading:o.value,onClick:a},{default:y(()=>[S(" Proceed ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[0]||(u[0]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}};const vw={class:"operationBatchDetails"},yw=g("dt",null,"Batch ID:",-1),hw=g("dt",null,"Workstation:",-1),bw={__name:"CreateOperationBatchReportView",props:{operationSlug:String,operationBatchId:String},setup(e){const t=e,n=Qe(),o=k({publicId:"",operationId:"",workstation:{id:"",name:""},schedule:""}),r=k([]),l=V(()=>t.operationSlug.replaceAll("-"," ")),a=V(()=>[{name:"Execution",path:`/production/execution/${t.operationSlug}`},{name:`Add ${l.value} report`}]);return Ne(()=>{N.operationBatch.getOne(t.operationBatchId).then(s=>o.value=s),N.job.getAll({operationBatchId:t.operationBatchId}).then(s=>r.value=s)}),(s,u)=>(v(),w(d(Ce),null,{default:y(()=>{var i,c;return[f(d(ze),{data:a.value},null,8,["data"]),f(d(Ae),{title:`Add ${l.value} report`},null,8,["title"]),g("dl",vw,[yw,g("dd",null,C((i=o.value)==null?void 0:i.publicId),1),hw,g("dd",null,C((c=o.value)==null?void 0:c.workstation.name),1)]),o.value?(v(),w(d(dw),{key:0,"operation-batch":o.value,jobs:r.value,onSuccess:u[0]||(u[0]=p=>d(n).push(a.value[0].path)),onCancel:u[1]||(u[1]=p=>d(n).push(a.value[0].path))},null,8,["operation-batch","jobs"])):$("",!0)]}),_:1}))}},gw={__name:"CreateProductionRecordsView",setup(e){const t=Qe(),n=[{name:"Execution",path:"/production/execution"}],o=r=>r.toLowerCase().replaceAll(" ","-");return(r,l)=>(v(),w(d(Ce),{wide:""},{default:y(()=>[f(d(ze),{data:n}),f(d(Ae),{title:"Add multiple records"}),f(d(b1),{onSuccess:l[0]||(l[0]=({name:a})=>d(t).push(`/production/execution/${o(a)}`)),onCancel:l[1]||(l[1]=a=>d(t).push("/production/execution"))})]),_:1}))}};const _w=["onSubmit"],ww={key:0},Ow=g("hr",null,null,-1),kw=g("p",null,"After you add a product, you can only edit it if it has no production orders.",-1),Sw={__name:"CreateProduct",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k([]),r=k({}),l=k({sku:"",name:"",uom:"",category:{},operationIds:[],meta:null}),a=async()=>{try{n.value=!0,Object.values(r.value).some(({value:i})=>i!==null)&&(l.value.meta={},o.value.forEach(({id:i})=>{r.value[i].value&&(l.value.meta[i]=r.value[i])}));const u=await N.product.createOne(l.value);t("success",u)}catch(u){alert(u)}finally{n.value=!1}},s=u=>{u.length&&(o.value=u,u.forEach(({id:i,type:c})=>{const p={value:null};["DIMENSION","VOLUME","WEIGHT"].includes(c)&&(p.uom=null),r.value[i]=p}))};return N.metafield.getAll({resource:"PRODUCT"}).then(s),(u,i)=>(v(),A("form",{id:"createProduct",onSubmit:ce(a,["prevent"])},[g("fieldset",null,[f(d(gn),{modelValue:l.value.category,"onUpdate:modelValue":i[0]||(i[0]=c=>l.value.category=c),type:"products"},null,8,["modelValue"]),f(d(B),{modelValue:l.value.sku,"onUpdate:modelValue":i[1]||(i[1]=c=>l.value.sku=c),modelModifiers:{trim:!0},label:"SKU",required:""},null,8,["modelValue"]),f(d(B),{modelValue:l.value.name,"onUpdate:modelValue":i[2]||(i[2]=c=>l.value.name=c),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:l.value.uom,"onUpdate:modelValue":i[3]||(i[3]=c=>l.value.uom=c),modelModifiers:{trim:!0},label:"UOM",required:""},null,8,["modelValue"]),f(d(xr),{modelValue:l.value.operationIds,"onUpdate:modelValue":i[4]||(i[4]=c=>l.value.operationIds=c)},null,8,["modelValue"])]),o.value.length?(v(),A("fieldset",ww,[(v(!0),A(G,null,he(o.value,c=>(v(),w(d(bo),{modelValue:r.value[c.id],"onUpdate:modelValue":p=>r.value[c.id]=p,key:c.id,data:c},null,8,["modelValue","onUpdate:modelValue","data"]))),128))])):$("",!0),Ow,g("footer",null,[f(d(I),{type:"submit",loading:n.value},{default:y(()=>[S(" Add ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:i[5]||(i[5]=c=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"]),kw])],40,_w))}},Ew={__name:"DeleteProduct",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.product.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove product",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" from the inventory?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const Cw=["onSubmit"],Aw={__name:"IncrementProduct",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:n.data.id,qty:0}),l=V(()=>n.data.qtyAvailable+r.value.qty),a=async()=>{try{o.value=!0,await N.product.increment(r.value);const s={id:n.data.id,qtyAvailable:l.value};t("success",s),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Adjust available quantity",persist:o.value,onClose:u[2]||(u[2]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"incrementProduct",onSubmit:ce(a,["prevent"])},[f(d(B),{label:"Product",value:n.data.name,disabled:""},null,8,["value"]),f(d(B),{label:"Available",suffix:n.data.uom,value:n.data.qtyAvailable,disabled:""},null,8,["suffix","value"]),f(d(B),{modelValue:r.value.qty,"onUpdate:modelValue":u[0]||(u[0]=i=>r.value.qty=i),modelModifiers:{number:!0},label:"Adjustment",type:"number",step:"any",suffix:n.data.uom,required:""},null,8,["modelValue","suffix"]),f(d(B),{label:"Result",value:l.value,suffix:n.data.uom,disabled:""},null,8,["value","suffix"])],40,Cw)]),footer:y(()=>[f(d(I),{type:"submit",form:"incrementProduct",loading:o.value},{default:y(()=>[S("Save")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[1]||(u[1]=i=>t("cancel"))},{default:y(()=>[S("Cancel")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},$w={__name:"ProductsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"SKU",key:"sku",width:"12.5%"},{label:"Name",key:"name"},{label:"Category",key:"category.name"},{label:"Available",key:"qtyAvailable",width:"12.5%"},{label:"WIP",key:"qtyWip",width:"12.5%"},{label:"Allocated",key:"qtyAllocated",width:"12.5%"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,searchable:"","row-actions":["Make","Adjust","View"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.sku),1),g("td",null,C(a.name),1),g("td",null,C(a.category.name),1),g("td",null,C(`${a.qtyAvailable} ${a.uom}`),1),g("td",null,C(`${a.qtyWip} ${a.uom}`),1),g("td",null,C(`${a.qtyAllocated} ${a.uom}`),1)]),_:1},8,["data"]))}};const xw=["onSubmit"],Rw={key:0},Iw=g("hr",null,null,-1),Vw=g("p",null,"Changes will not apply to existing production orders.",-1),Pw={__name:"UpdateProduct",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k([]),l=k({}),a=k({id:"",sku:"",name:"",uom:"",category:{},operationIds:[],meta:null}),s=async()=>{try{o.value=!0,Object.values(l.value).some(({value:i})=>i!==null)&&(a.value.meta={},r.value.forEach(({id:i})=>{l.value[i].value&&(a.value.meta[i]=l.value[i])})),await N.product.updateOne(a.value),t("success",a.value),t("cancel")}catch(i){alert(i)}finally{o.value=!1}},u=i=>{i.length&&(r.value=i,i.forEach(({id:c,type:p})=>{if(l.value[c])delete l.value[c].label;else{const m={value:null};["DIMENSION","VOLUME","WEIGHT"].includes(p)&&(m.uom=null),l.value[c]=m}}))};return N.metafield.getAll({resource:"PRODUCT"}).then(u),ul(()=>n.data,({meta:i,...c})=>{Object.assign(a.value,c),l.value=i}),(i,c)=>(v(),A("form",{id:"createProduct",onSubmit:ce(s,["prevent"])},[g("fieldset",null,[f(d(gn),{modelValue:a.value.category,"onUpdate:modelValue":c[0]||(c[0]=p=>a.value.category=p),type:"products"},null,8,["modelValue"]),f(d(B),{modelValue:a.value.sku,"onUpdate:modelValue":c[1]||(c[1]=p=>a.value.sku=p),modelModifiers:{trim:!0},label:"SKU",required:""},null,8,["modelValue"]),f(d(B),{modelValue:a.value.name,"onUpdate:modelValue":c[2]||(c[2]=p=>a.value.name=p),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:a.value.uom,"onUpdate:modelValue":c[3]||(c[3]=p=>a.value.uom=p),modelModifiers:{trim:!0},label:"UOM",required:""},null,8,["modelValue"]),f(d(xr),{modelValue:a.value.operationIds,"onUpdate:modelValue":c[4]||(c[4]=p=>a.value.operationIds=p)},null,8,["modelValue"])]),r.value.length?(v(),A("fieldset",Rw,[(v(!0),A(G,null,he(r.value,p=>(v(),w(d(bo),{modelValue:l.value[p.id],"onUpdate:modelValue":m=>l.value[p.id]=m,key:p.id,data:p},null,8,["modelValue","onUpdate:modelValue","data"]))),128))])):$("",!0),Iw,g("footer",null,[f(d(I),{type:"submit",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:c[5]||(c[5]=p=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"]),Vw])],40,xw))}},Mw={__name:"CreateProductView",setup(e){const t=Qe(),n=[{name:"Products",path:"/inventory/products"}],o=({id:r})=>{t.push({name:"Product",params:{productId:r}})};return(r,l)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:n}),f(d(Ae),{title:"Add product"}),f(d(Sw),{onSuccess:o,onCancel:l[0]||(l[0]=a=>d(t).push("/inventory/products"))})]),_:1}))}},Tw={__name:"CreateSalesOrderView",setup(e){const t=Qe(),n=[{name:"Orders",path:"/sales/orders"}],o=({id:r})=>{t.push({name:"SalesOrder",params:{salesOrderId:r}})};return(r,l)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:n}),f(d(Ae),{title:"Create sales order"}),f(d(N1),{onSuccess:o,onCancel:l[0]||(l[0]=a=>d(t).push("/sales/orders"))})]),_:1}))}},zt=k([]),qw=()=>{const e=()=>{zt.value.sort((l,a)=>l.name.localeCompare(a.name))},t=l=>{zt.value=l},n=l=>{zt.value.push(l),e()},o=l=>{const a=zt.value.findIndex(s=>l===s.id);zt.value.splice(a,1)},r=l=>{const a=zt.value.findIndex(({id:s})=>l.id===s);Object.assign(zt.value[a],l),e()};return{customers:Je(zt),set:t,create:n,remove:o,update:r}};const Nw=["onSubmit"],Uw={__name:"CreateCustomer",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({name:"",shortName:""}),r=async()=>{try{n.value=!0;const l=await N.customer.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add customer",persist:n.value,onClose:a[3]||(a[3]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createCustomer",onSubmit:ce(r,["prevent"])},[f(d(B),{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.name=s),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.shortName,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.shortName=s),modelModifiers:{trim:!0},label:"Short name",required:""},null,8,["modelValue"])],40,Nw)]),footer:y(()=>[f(d(I),{type:"submit",form:"createCustomer",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[2]||(a[2]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},Lw={__name:"CustomersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{key:"name",label:"Name"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,searchable:"","row-actions":["Edit","Delete"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.name)+" ("+C(a.shortName)+")",1)]),_:1},8,["data"]))}},jw={__name:"DeleteCustomer",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.customer.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Delete customer",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to delete "),g("b",null,C(n.data.name),1),S("?")])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Delete ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const Dw=["onSubmit"],Bw={__name:"UpdateCustomer",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:n.data.id,name:n.data.name,shortName:n.data.shortName}),l=async()=>{try{o.value=!0,await N.customer.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),w(d(te),{title:"Update customer",persist:o.value,onClose:s[3]||(s[3]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateCustomer",onSubmit:ce(l,["prevent"])},[f(d(B),{modelValue:r.value.name,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.name=u),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.shortName,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.shortName=u),modelModifiers:{trim:!0},label:"Short name",required:""},null,8,["modelValue"])],40,Dw)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateCustomer",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[2]||(s[2]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},Fw={__name:"CustomersView",setup(e){const{customers:t,...n}=qw();Ne(()=>N.customer.getAll().then(n.set));const o=k(null),r=k(null),l=({key:a,data:s})=>{r.value=a,o.value=s};return(a,s)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Sales",title:"Customers"},{actions:y(()=>[f(d(I),{onClick:s[0]||(s[0]=u=>r.value="CREATE")},{default:y(()=>[S(" Add customer ")]),_:1})]),_:1}),f(d(Lw),{data:d(t),onAction:l},null,8,["data"])]),_:1}),r.value==="CREATE"?(v(),w(d(Uw),{key:0,onSuccess:n.create,onCancel:s[1]||(s[1]=u=>r.value=null)},null,8,["onSuccess"])):$("",!0),r.value==="EDIT"?(v(),w(d(Bw),{key:1,data:o.value,onSuccess:n.update,onCancel:s[2]||(s[2]=u=>r.value=o.value=null)},null,8,["data","onSuccess"])):$("",!0),r.value==="DELETE"?(v(),w(d(jw),{key:2,data:o.value,onSuccess:n.remove,onCancel:s[3]||(s[3]=u=>r.value=o.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}},zw={__name:"EquipmentsView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Equipment"}],{isInitialized:n,isInitializing:o}=ln(),{equipments:r,...l}=Er();!n.value&&!o.value&&N.equipment.getAll().then(l.set);const a=k(null),s=k(null),u=({key:i,data:c})=>{s.value=i,a.value=c};return(i,c)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Equipment",description:"Add, edit, or remove  equipment used in your production."},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=p=>s.value="CREATE")},{default:y(()=>[S(" Add equipment ")]),_:1})]),_:1}),f(d(k_),{data:d(r),onAction:u},null,8,["data"])]),_:1}),s.value==="CREATE"?(v(),w(d(w_),{key:0,onSuccess:l.add,onCancel:c[1]||(c[1]=p=>s.value=null)},null,8,["onSuccess"])):$("",!0),s.value==="EDIT"?(v(),w(d(E_),{key:1,data:a.value,onSuccess:l.update,onCancel:c[2]||(c[2]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0),s.value==="REMOVE"?(v(),w(d(O_),{key:2,data:a.value,onSuccess:l.remove,onCancel:c[3]||(c[3]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}};const Ww=g("h1",{class:"login-heading"},"Log in to your account",-1),Hw={class:"login-form"},Kw=g("p",null,"Contact your administrator if you cannot access your account.",-1),Jw={__name:"LoginView",setup(e){const t=Qe();return(n,o)=>(v(),A("div",null,[Ww,g("div",Hw,[f(d(d_),{onSuccess:o[0]||(o[0]=r=>d(t).push({name:"SalesOrders"}))})]),Kw]))}};const Qw=["onSubmit"],Yw={__name:"CreateMaterial",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({sku:"",name:"",uom:"",category:{}}),r=async()=>{try{n.value=!0;const l=await N.material.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add material",persist:n.value,onClose:a[5]||(a[5]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createMaterial",onSubmit:ce(r,["prevent"])},[f(gn,{modelValue:o.value.category,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.category=s),type:"materials"},null,8,["modelValue"]),f(d(B),{modelValue:o.value.sku,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.sku=s),modelModifiers:{trim:!0},label:"SKU",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.name,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value.name=s),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.uom,"onUpdate:modelValue":a[3]||(a[3]=s=>o.value.uom=s),modelModifiers:{trim:!0},label:"UOM",required:""},null,8,["modelValue"])],40,Qw)]),footer:y(()=>[f(d(I),{type:"submit",form:"createMaterial",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[4]||(a[4]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},Gw={__name:"DeleteMaterial",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.material.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove material",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" from the inventory?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const Xw=["onSubmit"],Zw={__name:"IncrementMaterial",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:n.data.id,qty:0}),l=V(()=>n.data.qtyAvailable+r.value.qty),a=async()=>{try{o.value=!0,await N.material.increment(r.value);const s={id:n.data.id,qtyAvailable:l.value};t("success",s),t("cancel")}catch(s){alert(s)}finally{o.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Adjust available quantity",persist:o.value,onClose:u[2]||(u[2]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"incrementMaterial",onSubmit:ce(a,["prevent"])},[f(d(B),{value:n.data.name,label:"Material",disabled:""},null,8,["value"]),f(d(B),{value:n.data.qtyAvailable,label:"Available",suffix:n.data.uom,disabled:""},null,8,["value","suffix"]),f(d(B),{modelValue:r.value.qty,"onUpdate:modelValue":u[0]||(u[0]=i=>r.value.qty=i),modelModifiers:{number:!0},label:"Adjustment",type:"number",step:"any",suffix:n.data.uom,required:""},null,8,["modelValue","suffix"]),f(d(B),{label:"Result",value:l.value,suffix:n.data.uom,disabled:""},null,8,["value","suffix"])],40,Xw)]),footer:y(()=>[f(d(I),{type:"submit",form:"incrementMaterial",loading:o.value},{default:y(()=>[S("Save")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:u[1]||(u[1]=i=>t("cancel"))},{default:y(()=>[S("Cancel")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},eO={__name:"MaterialsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"SKU",key:"sku",width:"12.5%"},{label:"Name",key:"name"},{label:"Category",key:"category.name"},{label:"Available",key:"qtyAvailable",width:"18.75%"},{label:"Allocated",key:"qtyAllocated",width:"18.75%"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,searchable:"","row-actions":["Adjust","Edit","Remove"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.sku),1),g("td",null,C(a.name),1),g("td",null,C(a.category.name),1),g("td",null,C(`${a.qtyAvailable} ${a.uom}`),1),g("td",null,C(`${a.qtyAllocated} ${a.uom}`),1)]),_:1},8,["data"]))}};const tO=["onSubmit"],nO={__name:"UpdateMaterial",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:"",sku:"",name:"",uom:"",category:{}}),l=async()=>{try{o.value=!0,await N.material.updateOne(r.value);const a={...r.value,normalizedName:`[${r.value.sku}] ${r.value.name}`};t("success",a),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return Ne(()=>Object.assign(r.value,n.data)),(a,s)=>(v(),w(d(te),{title:"Update material",persist:o.value,onClose:s[5]||(s[5]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateMaterial",onSubmit:ce(l,["prevent"])},[f(gn,{modelValue:r.value.category,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.category=u),type:"materials"},null,8,["modelValue"]),f(d(B),{modelValue:r.value.sku,"onUpdate:modelValue":s[1]||(s[1]=u=>r.value.sku=u),modelModifiers:{trim:!0},label:"SKU",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.name,"onUpdate:modelValue":s[2]||(s[2]=u=>r.value.name=u),modelModifiers:{trim:!0},label:"Name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:r.value.uom,"onUpdate:modelValue":s[3]||(s[3]=u=>r.value.uom=u),modelModifiers:{trim:!0},label:"UOM",required:""},null,8,["modelValue"])],40,tO)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateMaterial",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[4]||(s[4]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},oO={__name:"MaterialsView",setup(e){const t=k([]),n=k(null),o=k(null),r=({key:i,data:c})=>{o.value=i,n.value=c},l=i=>{t.value.push(i)},a=i=>{const c=t.value.findIndex(({id:p})=>p===i.id);t.value[c]=i},s=i=>{const c=t.value.findIndex(p=>i===p.id);t.value.splice(c,1)},u=i=>{const c=t.value.findIndex(({id:p})=>p===i.id);Object.assign(t.value[c],i)};return Ne(async()=>t.value=await N.material.getAll()),(i,c)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Inventory",title:"Materials"},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=p=>o.value="CREATE")},{default:y(()=>[S(" Add material ")]),_:1})]),_:1}),f(d(eO),{data:t.value,onAction:r},null,8,["data"])]),_:1}),o.value==="CREATE"?(v(),w(d(Yw),{key:0,onSuccess:l,onCancel:c[1]||(c[1]=p=>o.value=null)})):$("",!0),o.value==="EDIT"?(v(),w(d(nO),{key:1,data:n.value,onSuccess:a,onCancel:c[2]||(c[2]=p=>o.value=n.value=null)},null,8,["data"])):$("",!0),o.value==="REMOVE"?(v(),w(d(Gw),{key:2,data:n.value,onSuccess:s,onCancel:c[3]||(c[3]=p=>o.value=n.value=null)},null,8,["data"])):$("",!0),o.value==="ADJUST"?(v(),w(d(Zw),{key:3,data:n.value,onSuccess:u,onCancel:c[4]||(c[4]=p=>o.value=n.value=null)},null,8,["data"])):$("",!0)],64))}},rO=g("p",null,"Configure custom data fields for operations.",-1),lO=g("p",null,"Configure custom data fields for products.",-1),aO={__name:"MetafieldsView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Custom Data"}];return(n,o)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Custom Data",description:"Configure custom data fields for products and operations."}),f(d(st),{title:"Operation"},{body:y(()=>[rO]),action:y(()=>[f(d(I),{to:"/settings/configurations/custom-data/operation"},{default:y(()=>[S(" Configure ")]),_:1})]),_:1}),f(d(st),{title:"Product"},{body:y(()=>[lO]),action:y(()=>[f(d(I),{to:"/settings/configurations/custom-data/product"},{default:y(()=>[S(" Configure ")]),_:1})]),_:1})]),_:1}))}},sO={__name:"OperationsView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Operations"}],{isInitialized:n,isInitializing:o}=ln(),{operations:r,...l}=Ut();!n.value&&!o.value&&N.operation.getAll().then(l.set);const a=k(null),s=k(null),u=({key:i,data:c})=>{if(i==="MOVE_UP"){const p=r.value.findIndex(({id:h})=>c.id===h),{id:m,seq:b}=r.value[p-1];return N.operation.updateOne({id:m,seq:b+1}),N.operation.updateOne({id:c.id,seq:c.seq-1}),l.moveUp(p)}if(i==="MOVE_DOWN"){const p=r.value.findIndex(({id:h})=>c.id===h),{id:m,seq:b}=r.value[p+1];return N.operation.updateOne({id:m,seq:b-1}),N.operation.updateOne({id:c.id,seq:c.seq+1}),l.moveDown(p)}s.value=i,a.value=c};return(i,c)=>{var p;return v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Operations",description:"Set up the operations in your production."},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=m=>s.value="CREATE")},{default:y(()=>[S(" Add operation ")]),_:1})]),_:1}),f(d(x_),{data:d(r),onAction:u},null,8,["data"])]),_:1}),s.value==="CREATE"?(v(),w(d(A_),{key:0,"last-seq":(p=d(r)[d(r).length-1])==null?void 0:p.seq,onSuccess:l.add,onCancel:c[1]||(c[1]=m=>s.value=null)},null,8,["last-seq","onSuccess"])):$("",!0),s.value==="EDIT"?(v(),w(d(I_),{key:1,data:a.value,onSuccess:l.update,onCancel:c[2]||(c[2]=m=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0),s.value==="REMOVE"?(v(),w(d($_),{key:2,data:a.value,onSuccess:l.remove,onCancel:c[3]||(c[3]=m=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0)],64)}}};const uO=["onSubmit"],iO={__name:"AssignJob",props:{operation:Object,job:Object,unassignedJobs:{type:Array,default:()=>[]},operationBatches:{type:Array,default:()=>[]}},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:"",workstation:null}),l=V(()=>n.unassignedJobs.map(b=>{const h=`${b.productionOrder.publicId} — ${b.product.normalizedName}`,_={id:b.id,workstation:null};return{label:h,value:_}})),a=V(()=>n.operationBatches.filter(({status:b})=>b==="OPEN").map(({publicId:b,schedule:h,id:_})=>({label:`${b} — ${h}`,value:_}))),s=V(()=>{const m=n.job?"Reassign":"Assign",b=n.operation.name.toLowerCase(),h=n.operation.isBatch?"batch":"workstation";return`${m} ${b} job to a ${h}`}),u=V(()=>{var m;return n.job?n.job.workstation.id===((m=r.value.workstation)==null?void 0:m.id):!1}),i=({data:m})=>{const{workstation:b}=n.operationBatches.find(({id:h})=>m===h);r.value.workstation=b},c=async()=>{try{o.value=!0,n.operation.isBatch&&r.value.workstation!==null&&await N.operationBatchJob.createOne(r.value),await N.job.updateOne(r.value),await t("success",r.value),r.value={id:"",workstation:null},(n.job||!n.unassignedJobs.length)&&t("cancel")}catch(m){alert(m)}finally{o.value=!1}},p=async()=>{r.value.workstation=null,n.job.operationBatchId&&(await N.operationBatchJob.deleteOne({id:n.job.id,operationBatchId:n.job.operationBatchId}),r.value.operationBatchId=null,r.value.oldOperationBatchId=n.job.operationBatchId),c()};return Ne(()=>{n.job&&(r.value={id:n.job.id,workstation:n.job.workstation},n.job.operationBatchId&&(r.value.operationBatchId=n.job.operationBatchId))}),(m,b)=>(v(),w(d(te),{title:s.value,persist:o.value,onClose:b[4]||(b[4]=h=>t("cancel"))},{body:y(()=>[g("form",{id:"assignJob",onSubmit:ce(c,["prevent"])},[n.job?(v(),w(d(B),{key:1,label:"Job",value:`${n.job.productionOrder.publicId} — ${n.job.product.normalizedName}`,disabled:""},null,8,["value"])):(v(),w(d(we),{key:0,modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=h=>r.value=h),label:"Job",options:l.value,required:""},null,8,["modelValue","options"])),n.operation.isBatch?(v(),w(d(we),{key:3,modelValue:r.value.operationBatchId,"onUpdate:modelValue":b[2]||(b[2]=h=>r.value.operationBatchId=h),label:"Batch",options:a.value,required:"",onInput:i},null,8,["modelValue","options"])):(v(),w($r,{key:2,modelValue:r.value.workstation,"onUpdate:modelValue":b[1]||(b[1]=h=>r.value.workstation=h),"operation-id":e.operation.id,required:""},null,8,["modelValue","operation-id"]))],40,uO)]),footer:y(()=>[f(d(I),{type:"submit",form:"assignJob",loading:o.value,disabled:u.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading","disabled"]),n.job?(v(),w(d(I),{key:0,color:"gray",disabled:o.value,onClick:p},{default:y(()=>[S(" Unassign ")]),_:1},8,["disabled"])):$("",!0),f(d(I),{color:"gray",disabled:o.value,onClick:b[3]||(b[3]=h=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["title","persist"]))}},cO={__name:"JobsList",props:{data:Array},setup(e){const t=e,n=[{label:"Operation",key:"operation.name"},{label:"Status",key:"status"},{label:"Output",key:"qtyOutput"},{label:"Reject",key:"qtyReject"},{label:"Rework",key:"qtyRework"},{label:"Shortfall",key:"qtyShortfall"}];return(o,r)=>(v(),w(d(Ie),{columns:n,data:t.data},{row:y(({data:l})=>[g("td",null,C(l.operation.name),1),g("td",null,[f(Hn,{data:l.status},null,8,["data"])]),g("td",null,C(l.qtyOutput),1),g("td",null,C(l.qtyReject?`(${l.qtyReject})`:0),1),g("td",null,C(l.qtyRework),1),g("td",null,C(l.qtyShortfall?`(${l.qtyShortfall})`:0),1)]),_:1},8,["data"]))}};const dO={class:"unassignedProductionJobsCallout"},pO={__name:"UnassignedJobsCallout",props:{operation:Object,count:{type:Number,default:0}},emits:["trigger"],setup(e,{emit:t}){const n=e,o=V(()=>`Unassigned Job${n.count>1?"s":""} (${n.operation.name})`),r=V(()=>{const l=n.count>1?"jobs":"job",a=n.operation.isBatch?"batch":"workstation";return`You need to assign ${n.count} ${l} to a ${a}.`});return(l,a)=>(v(),A("div",dO,[g("h4",null,C(o.value),1),g("p",null,C(r.value),1),f(d(I),{onClick:a[0]||(a[0]=s=>t("trigger"))},{default:y(()=>[S("View")]),_:1})]))}},fO={__name:"ProductionExecutionView",props:{operationSlug:String},setup(e){const t=e,n=Qe(),{operation:o,workstation:r,showAllJobs:l,unassignedJobs:a,currentJobs:s,currentOperationBatches:u,...i}=m_(),c=k("BATCH"),p=k({job:null,operationBatch:null}),m=k(null),b=k(null),h=P=>P.toLowerCase().replaceAll(" ","-"),_=({key:P,data:T})=>{p.value.job=P,m.value=T},R=({key:P,data:T})=>{p.value.operationBatch=P,b.value=T,P==="ADD_REPORT"&&n.push({name:"CreateOperationBatchReport",params:{operationSlug:h(o.value.name),operationBatchId:T.id}})};return et(o,({name:P})=>n.push(`/production/execution/${h(P)}`)),Ne(async()=>{const{operations:P}=Ut(),{id:T,name:q,hasEquipment:M,isBatch:X}=t.operationSlug?P.value.find(({name:ne})=>t.operationSlug===h(ne)):P.value[0];o.value={id:T,name:q,hasEquipment:M,isBatch:X};const[pe,de]=await Promise.all([N.job.getAll(),N.operationBatch.getAllNotClosed()]);i.initialize(pe,de)}),vu(()=>i.reset()),(P,T)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Production",title:"Execution"},{actions:y(()=>[f(d(I),{to:{name:"CreateProductionRecords"}},{default:y(()=>[S(" Add multiple records ")]),_:1})]),_:1}),f(d(b_),{operation:d(o),"onUpdate:operation":T[0]||(T[0]=q=>Me(o)?o.value=q:null),workstation:d(r),"onUpdate:workstation":T[1]||(T[1]=q=>Me(r)?r.value=q:null),show:d(l),"onUpdate:show":T[2]||(T[2]=q=>Me(l)?l.value=q:null),list:c.value,"onUpdate:list":T[3]||(T[3]=q=>c.value=q)},null,8,["operation","workstation","show","list"]),d(a).length?(v(),w(d(pO),{key:0,operation:d(o),count:d(a).length,onTrigger:T[4]||(T[4]=q=>p.value.job="ASSIGN")},null,8,["operation","count"])):$("",!0),!d(o).isBatch||c.value==="JOB"?(v(),w(d(g_),{key:1,data:d(s),onAction:_},null,8,["data"])):(v(),w(d(fw),{key:2,data:d(u),onAction:R},null,8,["data"]))]),_:1}),p.value.job==="ASSIGN"||p.value.job==="REASSIGN"?(v(),w(d(iO),{key:0,operation:d(o),job:m.value,"unassigned-jobs":d(a),"operation-batches":d(u),onSuccess:i.updateJob,onCancel:T[5]||(T[5]=q=>p.value.job=m.value=null)},null,8,["operation","job","unassigned-jobs","operation-batches","onSuccess"])):$("",!0),p.value.job==="ADD_RECORD"?(v(),w(d(f1),{key:1,job:m.value,"require-equipment":d(o).hasEquipment,onSuccess:i.createProductionRecord,onCancel:T[6]||(T[6]=q=>p.value.job=m.value=null)},null,8,["job","require-equipment","onSuccess"])):$("",!0),p.value.job==="CLOSE"?(v(),w(d(g1),{key:2,job:m.value,onSuccess:i.createProductionRecord,onCancel:T[7]||(T[7]=q=>p.value.job=m.value=null)},null,8,["job","onSuccess"])):$("",!0),p.value.operationBatch==="CREATE"?(v(),w(d(lw),{key:3,operation:d(o),onSuccess:i.createOperationBatch,onCancel:T[8]||(T[8]=q=>p.value.operationBatch=null)},null,8,["operation","onSuccess"])):$("",!0),p.value.operationBatch==="START"?(v(),w(d(mw),{key:4,data:b.value,operation:d(o),onSuccess:i.startOperationBatch,onCancel:T[9]||(T[9]=q=>p.value.operationBatch=b.value=null)},null,8,["data","operation","onSuccess"])):$("",!0),p.value.operationBatch==="REMOVE"?(v(),w(d(pw),{key:5,data:b.value,operation:d(o),onSuccess:i.deleteOperationBatch,onCancel:T[10]||(T[10]=q=>p.value.operationBatch=b.value=null)},null,8,["data","operation","onSuccess"])):$("",!0)],64))}},un=k([]),mO=()=>{const e=o=>{un.value=o},t=o=>{const r=un.value.length+1;un.value.push({...o,seq:r})},n=({id:o,priority:r})=>{const l=un.value.find(a=>a.id===o);l.priority=r,un.value=un.value.sort((a,s)=>a.priority-s.priority).sort((a,s)=>a.id-s.id).map((a,s)=>({...a,seq:s+1}))};return{productionOrders:Je(un),set:e,create:t,reprioritize:n}};const vO=["onSubmit"],la={__name:"CreateProductionOrder",props:{product:Object,salesOrderItem:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k(null),l=k([]),a=k(""),s=k({publicId:"",product:{},qty:1,dueDate:null}),u=V(()=>l.value.filter(({category:b})=>r.value===b.id).map(b=>({label:b.normalizedName,value:b}))),i=V(()=>n.salesOrderItem?n.salesOrderItem.qty-n.salesOrderItem.qtyWip-n.salesOrderItem.qtyAllocated-n.salesOrderItem.qtyFulfilled:null),c=async()=>{try{o.value=!0;const p=await N.productionOrder.createOne(s.value);t("success",p),t("cancel")}catch(p){alert(p)}finally{o.value=!1}};return Ne(()=>{!n.product&&!n.salesOrderItem&&N.product.getAll().then(p=>l.value=p),n.product&&(s.value.product=n.product),n.salesOrderItem&&(s.value.publicId=n.salesOrderItem.publicId,n.salesOrderItem.productionOrderCount&&(s.value.publicId+=` (${n.salesOrderItem.productionOrderCount+1})`),s.value.product=n.salesOrderItem.product,s.value.salesOrderItemId=n.salesOrderItem.id),N.lookup.get("lastProductionOrderPublicId").then(p=>a.value=p.lastProductionOrderPublicId)}),(p,m)=>(v(),w(d(te),{title:"Create production order",persist:o.value,onClose:m[6]||(m[6]=b=>t("cancel"))},{body:y(()=>{var b;return[g("form",{id:"createProductionOrder",onSubmit:ce(c,["prevent"])},[n.salesOrderItem?$("",!0):(v(),w(d(B),{key:0,modelValue:s.value.publicId,"onUpdate:modelValue":m[0]||(m[0]=h=>s.value.publicId=h),modelModifiers:{trim:!0},label:"ID",helper:`Last ID: ${a.value||"None"}`,required:""},null,8,["modelValue","helper"])),!n.product&&!n.salesOrderItem?(v(),w(gn,{key:1,modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=h=>r.value=h),type:"products",keys:["id"]},null,8,["modelValue"])):$("",!0),!n.product&&!n.salesOrderItem?(v(),w(d(we),{key:2,modelValue:s.value.product,"onUpdate:modelValue":m[2]||(m[2]=h=>s.value.product=h),label:"Product",options:u.value,required:""},null,8,["modelValue","options"])):(v(),w(d(B),{key:3,label:"Product",value:s.value.product.normalizedName,disabled:""},null,8,["value"])),f(d(B),{modelValue:s.value.qty,"onUpdate:modelValue":m[3]||(m[3]=h=>s.value.qty=h),label:"Quantity",type:"number",step:"any",min:i.value?1:0,max:i.value,suffix:(b=s.value.product)==null?void 0:b.uom,required:""},null,8,["modelValue","min","max","suffix"]),f(d(B),{modelValue:s.value.dueDate,"onUpdate:modelValue":m[4]||(m[4]=h=>s.value.dueDate=h),label:"Due date",type:"date"},null,8,["modelValue"])],40,vO)]}),footer:y(()=>[f(d(I),{type:"submit",form:"createProductionOrder",loading:o.value},{default:y(()=>[S(" Create ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:m[5]||(m[5]=b=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},yO={__name:"ProductionOrdersByProductList",props:{data:Array},setup(e){const t=e,n=[{label:"ID",key:"publicId"},{label:"Quantity",key:"qty"},{label:"Status",key:"status"},{label:"Due Date",key:"dueDate"}];return(o,r)=>(v(),w(d(Ie),{columns:n,data:t.data},{row:y(({data:l})=>[g("td",null,C(l.publicId),1),g("td",null,C(l.qty)+" "+C(l.product.uom),1),g("td",null,[f(Hn,{data:l.status},null,8,["data"])]),g("td",null,C(l.dueDate),1)]),_:1},8,["data"]))}},hO={__name:"ProductionOrdersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"#",key:"seq",width:"3.5rem"},{label:"ID",key:"publicId"},{label:"Product",key:"product.normalizedName",width:"35%"},{label:"Quantity",key:"normalizedQty"},{label:"Status",key:"status"},{label:"Due date",key:"dueDate"}],r=V(()=>{const l=n.data.length>1;return n.data.map(a=>{const s=[{name:"View",to:{name:"ProductionOrder",params:{productionOrderId:a.id}}}];l&&a.status!=="CLOSED"&&s.push("Reprioritize");const u=a.status==="CLOSED"?`${a.qtyMade}/${a.qty}`:a.qty;return{_:{actions:s},...a,normalizedQty:u}})});return(l,a)=>(v(),w(d(Ie),{columns:o,data:r.value,searchable:"",sortable:"","default-sort-key":"seq","row-actions":"","force-row-menu":"",onRowAction:a[0]||(a[0]=s=>t("action",s))},{row:y(({data:s})=>[g("td",null,C(s.seq),1),g("td",null,C(s.publicId),1),g("td",null,C(s.product.normalizedName),1),g("td",null,C(s.normalizedQty),1),g("td",null,[f(Hn,{data:s.status},null,8,["data"])]),g("td",null,C(s.dueDate),1)]),_:1},8,["data"]))}},bO={__name:"ProductionOrdersSummary",props:{productionOrders:Array,releasedCount:Number},setup(e){const t=e,n=V(()=>{const o=["Open","In progress","Paused","Closed"],r=t.productionOrders.reduce((a,{status:s})=>(a[s]=(a[s]||0)+1,a),{}),l=o.map(a=>({label:a,value:r[a.replace(" ","_").toUpperCase()]||0}));return l.push({label:"Released",value:t.releasedCount,to:{name:"ReleasedProductionOrders"}}),l});return(o,r)=>(v(),w(ra,{title:"Summary",description:`There are ${t.productionOrders.length} production orders.`,data:n.value},null,8,["description","data"]))}},gO={__name:"ReleasedProductionOrdersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"ID",key:"publicId",width:"8.5rem"},{label:"Product",key:"product.normalizedName"},{label:"Quantity",key:"qtyMade"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,searchable:"","row-actions":["View"],onRowAction:l[0]||(l[0]=a=>t("action",a))},null,8,["data"]))}},_O={__name:"ReleaseProductionOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.productionOrder.release(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Release production order",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to release "),g("b",null,C(n.data.publicId+" — "+n.data.product.normalizedName),1),S("? This will add "+C(n.data.qtyMade)+" "+C(n.data.product.uom)+" to the inventory.",1)])]),footer:y(()=>[f(d(I),{loading:o.value,onClick:r},{default:y(()=>[S(" Release ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const wO=["onSubmit"],OO={__name:"RemoveProductionOrder",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=[{label:"Cancelled",value:"CANCEL"},{label:"Created by mistake",value:"DELETE"}],r=k(!1),l=k(null),a=async()=>{try{r.value=!0,l.value==="DELETE"?await N.productionOrder.deleteOne(n.data.id):await N.productionOrder.cancel(n.data.id),t("success"),t("cancel")}catch(s){alert(s)}finally{r.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Remove production order",persist:r.value,onClose:u[2]||(u[2]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"removeProductionOrder",onSubmit:ce(a,["prevent"])},[g("p",null,[S("Removing "),g("b",null,C(n.data.publicId+" — "+n.data.product.normalizedName),1),S(" is permanent. Select a reason below to proceed.")]),f(d(we),{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=i=>l.value=i),label:"Reason",options:o,required:""},null,8,["modelValue"])],40,wO)]),footer:y(()=>[f(d(I),{color:"red",type:"submit",form:"removeProductionOrder",loading:r.value},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:u[1]||(u[1]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const kO=["onSubmit"],SO=["value"],EO={class:"productionOrdersListPreview"},CO=g("h4",null,"Preview",-1),AO={key:0},$O={key:1},xO={class:"current"},RO={key:2},IO={key:3},VO={__name:"UpdateProductionOrderPriority",props:{data:Object,productionOrders:Array},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k(n.data.seq),l=V(()=>{const u=r.value-1,i=n.productionOrders.filter(({id:c})=>n.data.id!==c).map(({publicId:c,priority:p,product:m})=>({productNormalizedName:m.normalizedName,publicId:c,priority:p}));return{beforePrev:i[u-2],prev:i[u-1],next:i[u],afterNext:i[u+1]}}),a=V(()=>{var p,m;const u=((p=l.value.prev)==null?void 0:p.priority)||-1e3,i=((m=l.value.next)==null?void 0:m.priority)||1e3,c=(u+i)/(u&&i?2:1);return{id:n.data.id,priority:c}}),s=async()=>{try{o.value=!0,await N.productionOrder.updateOne(a.value),t("success",a.value),t("cancel")}catch(u){alert(u)}finally{o.value=!1}};return(u,i)=>(v(),w(d(te),{title:"Reprioritize production order",persist:o.value,onClose:i[2]||(i[2]=c=>t("cancel"))},{body:y(()=>[g("form",{id:"updateProductionOrderPriority",onSubmit:ce(s,["prevent"])},[f(d(B),{label:"ID",value:n.data.publicId,disabled:""},null,8,["value"]),f(d(we),{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=c=>r.value=c),modelModifiers:{number:!0},label:"Position",required:""},{default:y(()=>[(v(!0),A(G,null,he(n.productionOrders.length,c=>(v(),A("option",{value:c},C(c),9,SO))),256))]),_:1},8,["modelValue"])],40,kO),g("div",EO,[CO,g("ul",null,[!l.value.next&&l.value.beforePrev?(v(),A("li",AO,[g("span",null,C(r.value-2)+".",1),g("span",null,C(l.value.beforePrev.publicId),1),g("span",null,C(l.value.beforePrev.productNormalizedName),1)])):$("",!0),l.value.prev?(v(),A("li",$O,[g("span",null,C(r.value-1)+".",1),g("span",null,C(l.value.prev.publicId),1),g("span",null,C(l.value.prev.productNormalizedName),1)])):$("",!0),g("li",xO,[g("span",null,C(r.value)+".",1),g("span",null,C(n.data.publicId),1),g("span",null,C(n.data.product.normalizedName),1)]),l.value.next?(v(),A("li",RO,[g("span",null,C(r.value+1)+".",1),g("span",null,C(l.value.next.publicId),1),g("span",null,C(l.value.next.productNormalizedName),1)])):$("",!0),!l.value.prev&&l.value.afterNext?(v(),A("li",IO,[g("span",null,C(r.value+2)+".",1),g("span",null,C(l.value.afterNext.publicId),1),g("span",null,C(l.value.afterNext.productNormalizedName),1)])):$("",!0)])])]),footer:y(()=>[f(d(I),{type:"submit",form:"updateProductionOrderPriority",loading:o.value,disabled:r.value===n.data.seq},{default:y(()=>[S(" Save ")]),_:1},8,["loading","disabled"]),f(d(I),{color:"gray",disabled:o.value,onClick:i[1]||(i[1]=c=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},PO={__name:"ProductionOrdersView",setup(e){const{productionOrders:t,...n}=mO(),o=k(0),r=k(null),l=k(null),a=({key:s,data:u})=>{r.value=u,l.value=s};return N.productionOrder.getAllNotReleased().then(n.set),N.lookup.get("releasedProductionOrderCount").then(s=>o.value=s.releasedProductionOrderCount),(s,u)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Production",title:"Overview"},{actions:y(()=>[f(d(I),{onClick:u[0]||(u[0]=i=>l.value="ADD")},{default:y(()=>[S(" Create order ")]),_:1})]),_:1}),f(d(bO),{"production-orders":d(t),"released-count":o.value},null,8,["production-orders","released-count"]),f(d(hO),{data:d(t),onAction:a},null,8,["data"])]),_:1}),l.value==="ADD"?(v(),w(d(la),{key:0,onSuccess:n.create,onCancel:u[1]||(u[1]=i=>l.value=null)},null,8,["onSuccess"])):$("",!0),l.value==="REPRIORITIZE"?(v(),w(d(VO),{key:1,data:r.value,"production-orders":d(t),onSuccess:n.reprioritize,onCancel:u[2]||(u[2]=i=>l.value=r.value=null)},null,8,["data","production-orders","onSuccess"])):$("",!0)],64))}},MO={__name:"ProductionOrderView",props:{productionOrderId:String},setup(e){const t=e,n=Qe(),o=k({publicId:"",product:{normalizedName:"",uom:""},status:"",isReleased:null,qty:null,dueDate:null}),r=k([]),l=k([]),a=k(null),s=V(()=>[o.value.isReleased?{name:"Released Orders",path:"/production/overview/released"}:{name:"Overview",path:"/production/overview"},{name:o.value.publicId}]),u=V(()=>[{label:"Status",value:ta(o.value.status)},{label:"Product",value:o.value.product.normalizedName},{label:"Quantity",value:`${o.value.qty} ${o.value.product.uom}`},{label:"Due Date",value:o.value.dueDate}]),i=V(()=>["OPEN","IN_PROGRESS","PAUSED"].includes(o.value.status));return N.productionOrder.getOne(t.productionOrderId).then(c=>o.value=c),N.job.getAll({productionOrderId:t.productionOrderId}).then(c=>r.value=c),N.productionRecord.getAll({productionOrderId:t.productionOrderId}).then(c=>l.value=c),(c,p)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:s.value},null,8,["data"]),f(d(Ae),{title:o.value.publicId},{actions:y(()=>[o.value.status==="CLOSED"&&!o.value.isReleased?(v(),w(d(I),{key:0,onClick:p[0]||(p[0]=m=>a.value="RELEASE")},{default:y(()=>[S(" Release order ")]),_:1})):$("",!0)]),_:1},8,["title"]),f(d(Ze),{title:"Overview"}),f(d(Xo),{data:u.value},null,8,["data"]),f(d(Ze),{title:"Jobs"}),f(d(cO),{data:r.value},null,8,["data"]),f(d(Ze),{title:"Production records"}),f(d(w1),{data:l.value},null,8,["data"]),i.value?(v(),w(d(Ze),{key:0,title:"Remove production order"})):$("",!0),i.value?(v(),w(d(st),{key:1,simple:""},{body:y(()=>[S(" Cancelling or deleting this production order is permanent. ")]),action:y(()=>[f(d(ut),{color:"red",onClick:p[1]||(p[1]=m=>a.value="REMOVE")},{default:y(()=>[S(" Remove ")]),_:1})]),_:1})):$("",!0)]),_:1}),a.value==="REMOVE"?(v(),w(d(OO),{key:0,data:o.value,onSuccess:p[2]||(p[2]=m=>d(n).push({name:"ProductionOrders"})),onCancel:p[3]||(p[3]=m=>a.value=null)},null,8,["data"])):$("",!0),a.value==="RELEASE"?(v(),w(d(_O),{key:1,data:o.value,onSuccess:p[4]||(p[4]=m=>d(n).push({name:"ProductionOrders"})),onCancel:p[5]||(p[5]=m=>a.value=null)},null,8,["data"])):$("",!0)],64))}},TO={__name:"ProductsView",setup(e){const t=Qe(),n=k([]),o=k(null),r=k(null),l=({key:u,data:i})=>{u==="VIEW"&&t.push({name:"Product",params:{productId:i.id}}),r.value=u,o.value=i},a=u=>{const i=n.value.find(({id:c})=>u.product.id===c);i.qtyWip+=u.qty},s=u=>{const i=n.value.findIndex(({id:c})=>u.id===c);Object.assign(n.value[i],u)};return Ne(async()=>n.value=await N.product.getAll()),(u,i)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Inventory",title:"Products"},{actions:y(()=>[f(d(I),{to:{name:"CreateProduct"}},{default:y(()=>[S(" Add product ")]),_:1})]),_:1}),f(d($w),{data:n.value,onAction:l},null,8,["data"])]),_:1}),r.value==="MAKE"?(v(),w(d(la),{key:0,product:o.value,onSuccess:a,onCancel:i[0]||(i[0]=c=>r.value=o.value=null)},null,8,["product"])):$("",!0),r.value==="ADJUST"?(v(),w(d(Aw),{key:1,data:o.value,onSuccess:s,onCancel:i[1]||(i[1]=c=>r.value=o.value=null)},null,8,["data"])):$("",!0)],64))}},qO={__name:"AllocationsList",props:{data:Array},setup(e){const t=e,n=[{label:"Sales Order ID",key:"salesOrderItem.publicId"},{label:"Quantity",key:"qty"}];return(o,r)=>(v(),w(d(Ie),{columns:n,data:t.data},null,8,["data"]))}};const NO=["onSubmit"],UO={__name:"IncrementAllocation",props:{salesOrderItem:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({qtyAvailable:null,uom:""}),l=k(n.salesOrderItem.qtyAllocated),a=V(()=>{const i=n.salesOrderItem.qty-n.salesOrderItem.qtyWip-n.salesOrderItem.qtyAllocated-n.salesOrderItem.qtyFulfilled;return r.value.qtyAvailable<i?r.value.qtyAvailable:i}),s=V(()=>({salesOrderItem:{id:n.salesOrderItem.id},qty:l.value-n.salesOrderItem.qtyAllocated})),u=async()=>{try{o.value=!0,await N.allocation.increment(s.value),t("success",s.value),t("cancel")}catch(i){alert(i)}finally{o.value=!1}};return N.product.getOne(n.salesOrderItem.product.id).then(i=>r.value=i),(i,c)=>(v(),w(d(te),{title:"Allocate stock",persist:o.value,onClose:c[2]||(c[2]=p=>t("cancel"))},{body:y(()=>[g("form",{id:"incrementAllocation",onSubmit:ce(u,["prevent"])},[f(d(B),{label:"Product",value:r.value.normalizedName,disabled:""},null,8,["value"]),f(d(B),{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=p=>l.value=p),modelModifiers:{number:!0},label:"Quantity",suffix:r.value.uom,type:"number",step:"any",min:a.value?1:0,max:a.value,disabled:!r.value.qtyAvailable,required:""},null,8,["modelValue","suffix","min","max","disabled"])],40,NO)]),footer:y(()=>[f(d(I),{type:"submit",form:"incrementAllocation",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:c[1]||(c[1]=p=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const LO=["onSubmit"],jO={__name:"CreateProductMaterial",props:{productId:String,productMaterials:Array},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k([]),l=k(null),a=k({productId:n.productId,material:{},qty:null}),s=V(()=>{const i=n.productMaterials.map(({material:m})=>m.id);return r.value.filter(({id:m})=>!i.includes(m)).filter(({category:m})=>l.value===m.id).map(({id:m,normalizedName:b,category:h,uom:_})=>({label:b,value:{id:m,normalizedName:b,uom:_,categoryName:h.name}}))}),u=async()=>{try{o.value=!0,await N.productMaterial.createOne(a.value),t("success",a.value),t("cancel")}catch(i){alert(i)}finally{o.value=!1}};return Ne(async()=>r.value=await N.material.getAll()),(i,c)=>(v(),w(d(te),{title:"Add product material",persist:o.value,onClose:c[4]||(c[4]=p=>t("cancel"))},{body:y(()=>{var p;return[g("form",{id:"createProductMaterial",onSubmit:ce(u,["prevent"])},[f(gn,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=m=>l.value=m),type:"materials",keys:["id"]},null,8,["modelValue"]),f(d(we),{modelValue:a.value.material,"onUpdate:modelValue":c[1]||(c[1]=m=>a.value.material=m),label:"Name",options:s.value,required:""},null,8,["modelValue","options"]),f(d(B),{modelValue:a.value.qty,"onUpdate:modelValue":c[2]||(c[2]=m=>a.value.qty=m),label:"Quantity",type:"number",step:"any",suffix:(p=a.value.material)==null?void 0:p.uom,required:""},null,8,["modelValue","suffix"])],40,LO)]}),footer:y(()=>[f(d(I),{type:"submit",form:"createProductMaterial",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:c[3]||(c[3]=p=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},DO={__name:"DeleteProductMaterial",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.productMaterial.deleteOne(n.data),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove product material",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>{var s;return[g("p",null,[S("Are you sure you want to remove "),g("b",null,C((s=n.data)==null?void 0:s.name),1),S(" as product material?")])]}),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},BO={__name:"ProductMaterialsList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{key:"material.categoryName",label:"Category"},{key:"material.normalizedName",label:"Name"},{key:"qty",label:"Quantity"}];return(r,l)=>(v(),w(d(Ie),{columns:o,data:n.data,"row-actions":["Edit","Remove"],onRowAction:l[0]||(l[0]=a=>t("action",a))},{row:y(({data:a})=>[g("td",null,C(a.material.categoryName),1),g("td",null,C(a.material.normalizedName),1),g("td",null,C(`${a.qty} ${a.material.uom}`),1)]),_:1},8,["data"]))}};const FO=["onSubmit"],zO={__name:"UpdateProductMaterial",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({productId:n.data.productId,material:n.data.material,qty:n.data.qty}),l=async()=>{try{o.value=!0,await N.productMaterial.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),w(d(te),{title:"Update product material",persist:o.value,onClose:s[2]||(s[2]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateProductMaterial",onSubmit:ce(l,["prevent"])},[f(d(B),{label:"Category",value:n.data.material.categoryName,disabled:""},null,8,["value"]),f(d(B),{label:"Name",value:n.data.material.normalizedName,disabled:""},null,8,["value"]),f(d(B),{modelValue:r.value.qty,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.qty=u),label:"Quantity",type:"number",step:"any",suffix:n.data.material.uom,required:""},null,8,["modelValue","suffix"])],40,FO)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateProductMaterial",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[1]||(s[1]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},WO={__name:"ProductView",props:{productId:String},setup(e){const t=e,n=Qe(),o=k({product:null,materials:null}),r=k({id:"",name:"",sku:"",uom:"",category:{id:"",name:""},meta:null,qtyAvailable:null,qtyWip:null}),l=k([]),a=k([]),s=k([]),u=k(null),i=V(()=>[{name:"Products",path:"/inventory/products"},{name:r.value.sku}]),c=V(()=>[{label:"Category",value:r.value.category.name},{label:"Operations",value:r.value.operationIds.length},{label:"SKU",value:r.value.sku},{label:"Available",value:`${r.value.qtyAvailable} ${r.value.uom}`}]),p=V(()=>Object.entries(r.value.meta).map(([h,_])=>({label:_.label,value:`${_.value} ${_.uom||""}`}))),m={add:h=>s.value.push(h),update:h=>{const _=s.value.findIndex(({id:R})=>h.id===R);Object.assign(s.value[_],h)},remove:h=>{const _=s.value.findIndex(R=>h===R.id);s.value.splice(_,1)}},b=({key:h,data:_})=>{o.value.materials=h,u.value=_};return N.product.getOne(t.productId).then(h=>r.value=h),N.productMaterial.getAll(t.productId).then(h=>s.value=h),N.productionOrder.getAllNotReleased({productId:t.productId}).then(h=>l.value=h),N.allocation.getAll({productId:t.productId}).then(h=>a.value=h),(h,_)=>(v(),A(G,null,[r.value.id?(v(),w(d(Ce),{key:0},{default:y(()=>[f(d(ze),{data:i.value},null,8,["data"]),f(d(Ae),{title:r.value.name},{actions:y(()=>[f(d(ut),{disabled:!!r.value.qtyWip,to:{name:"UpdateProduct",params:{productId:r.value.id}}},{default:y(()=>[S(" Edit product ")]),_:1},8,["disabled","to"])]),_:1},8,["title"]),f(d(Ze),{title:"Overview"}),f(d(Xo),{data:c.value},null,8,["data"]),r.value.meta?(v(),w(d(Ze),{key:0,title:"Other details"})):$("",!0),r.value.meta?(v(),w(d(Xo),{key:1,data:p.value},null,8,["data"])):$("",!0),f(d(Ze),{title:"Product materials",subtitle:"Materials required to produce a single unit of the product."},{action:y(()=>[f(d(ut),{onClick:_[0]||(_[0]=R=>o.value.materials="ADD")},{default:y(()=>[S(" Add material ")]),_:1})]),_:1}),f(d(BO),{data:s.value,onAction:b},null,8,["data"]),f(d(Ze),{title:"Production orders"}),f(d(yO),{data:l.value},null,8,["data"]),f(d(Ze),{title:"Allocation"}),f(d(qO),{data:a.value},null,8,["data"]),f(d(Ze),{title:"Remove product"}),f(d(st),{simple:""},{body:y(()=>[S(" Removing this product is permanent. You will no longer be able to make orders for this product. ")]),action:y(()=>[f(d(ut),{color:"red",onClick:_[1]||(_[1]=R=>o.value.product="REMOVE")},{default:y(()=>[S(" Remove ")]),_:1})]),_:1})]),_:1})):$("",!0),o.value.product==="REMOVE"?(v(),w(d(Ew),{key:1,data:r.value,onSuccess:_[2]||(_[2]=R=>d(n).push({name:"Products"})),onCancel:_[3]||(_[3]=R=>o.value.product=null)},null,8,["data"])):$("",!0),o.value.materials==="ADD"?(v(),w(d(jO),{key:2,"product-id":r.value.id,"product-materials":s.value,onSuccess:m.add,onCancel:_[4]||(_[4]=R=>o.value.materials=null)},null,8,["product-id","product-materials","onSuccess"])):$("",!0),o.value.materials==="EDIT"?(v(),w(d(zO),{key:3,data:u.value,onSuccess:m.update,onCancel:_[5]||(_[5]=R=>o.value.materials=u.value=null)},null,8,["data","onSuccess"])):$("",!0),o.value.materials==="REMOVE"?(v(),w(d(DO),{key:4,data:u.value,onSuccess:m.remove,onCancel:_[6]||(_[6]=R=>o.value.materials=u.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}},HO={__name:"ReleasedProductionOrdersView",setup(e){const t=Qe(),n=[{name:"Overview",path:"/production/overview"},{name:"Released Orders"}],o=k([]),r=({data:l})=>{t.push({name:"ProductionOrder",params:{productionOrderId:l.id}})};return N.productionOrder.getAllReleased().then(l=>o.value=l),(l,a)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:n}),f(d(Ae),{title:"Released Orders"}),f(d(gO),{data:o.value,onAction:r},null,8,["data"])]),_:1}))}};const KO={class:"date-range-input"},JO={class:"cf-form-control"},QO={key:0},YO={key:1,class:"cf-form-control-widget"},GO=["value"],XO={key:2,class:"cf-form-control-widget"},ZO=["max"],e0=g("div",null,"—",-1),t0=["max"],n0=g("span",null,null,-1),o0=[n0],r0={__name:"DateRangeInput",props:{modelValue:Array},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=new Date().toLocaleDateString("en-CA"),r=[{label:"Previous 7 days",value:7},{label:"Previous 30 days",value:30},{label:"Previous 90 days",value:90},{label:"Custom range",value:0}],l=k(7);et(l,c=>{c&&t("update:modelValue",[i(o,c),o])});const a=V({get:()=>n.modelValue[0],set:c=>t("update:modelValue",[c,n.modelValue[1]])}),s=V({get:()=>n.modelValue[1],set:c=>{const p=c===a.value?i(c):n.modelValue[0];t("update:modelValue",[p,c])}}),u=V(()=>i(s.value)),i=(c,p=1)=>{const m=new Date(c);return m.setDate(m.getDate()-p),m.toLocaleDateString("en-CA")};return Nl(()=>t("update:modelValue",[i(o,l.value),o])),(c,p)=>(v(),A("div",KO,[g("div",JO,[n.label?(v(),A("label",QO,C(n.label),1)):$("",!0),l.value?(v(),A("div",YO,[Zt(g("select",{"onUpdate:modelValue":p[0]||(p[0]=m=>l.value=m)},[(v(),A(G,null,he(r,m=>g("option",{key:m.value,value:m.value},C(m.label),9,GO)),64))],512),[[zl,l.value]])])):(v(),A("div",XO,[Zt(g("input",{"onUpdate:modelValue":p[1]||(p[1]=m=>a.value=m),type:"date",max:u.value},null,8,ZO),[[Ko,a.value]]),e0,Zt(g("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>s.value=m),type:"date",max:d(o)},null,8,t0),[[Ko,s.value]]),g("button",{onClick:p[3]||(p[3]=m=>l.value=7)},o0)]))])]))}},l0={__name:"ReportView",setup(e){const{saveAsCsv:t}=v_(),n=k(!1),o=k(["",""]),r=k([]),l=k([]),a=k([]),s=k([]),u=k([]),i=V(()=>{const p=r.value.map(({id:_})=>_),m=l.value.map(({id:_})=>_),b=a.value.map(({id:_})=>_),h=s.value.map(({id:_})=>_);return u.value.filter(({operation:_})=>m.length?m.includes(_.id):!0).filter(({workstation:_})=>h.length?h.includes(_.id):!0).filter(({equipment:_})=>p.length?p.includes(_.id):!0).filter(({worker:_})=>b.length?b.includes(_.id):!0)}),c=async()=>{try{n.value=!0,await t(u.value)}catch(p){alert(p)}finally{n.value=!1}};return et(o,([p,m])=>{if(p&&m){const b=Date.parse(`${p}T00:00:00+08:00`),h=Date.parse(`${m}T23:59:59+08:00`);N.productionRecord.getAll({from:b,to:h}).then(_=>u.value=_)}}),(p,m)=>(v(),w(d(Ce),{wide:""},{default:y(()=>[f(d(Ae),{title:"Reports"},{actions:y(()=>[f(r0,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=b=>o.value=b)},null,8,["modelValue"]),f(d(I),{loading:n.value,onClick:c},{default:y(()=>[S(" Export ")]),_:1},8,["loading"])]),_:1}),f(d(t1),{"production-records":i.value},null,8,["production-records"]),f(d(Y_),{operations:l.value,"onUpdate:operations":m[1]||(m[1]=b=>l.value=b),workstations:s.value,"onUpdate:workstations":m[2]||(m[2]=b=>s.value=b),workers:a.value,"onUpdate:workers":m[3]||(m[3]=b=>a.value=b),equipments:r.value,"onUpdate:equipments":m[4]||(m[4]=b=>r.value=b)},null,8,["operations","workstations","workers","equipments"]),f(d(O1),{"production-records":i.value},null,8,["production-records"])]),_:1}))}},a0={__name:"ResourceMetafieldsView",props:{resource:String},setup(e){const t=e,n=k([]),o=k(null),r=k(null),l=V(()=>t.resource.toUpperCase()),a=V(()=>l.value.charAt(0)+l.value.slice(1).toLowerCase()),s=V(()=>[{name:"Custom Data",path:"/settings/configurations/custom-data"},{name:a.value}]),u=({key:h,data:_})=>{if(h==="MOVE_UP")return m(_);if(h==="MOVE_DOWN")return b(_);r.value=h,o.value=_},i=h=>n.value.push(h),c=h=>{const _=n.value.findIndex(({id:R})=>h===R);n.value.splice(_,1)},p=h=>{const _=n.value.findIndex(({id:R})=>h.id===R);Object.assign(n.value[_],h)},m=h=>{const _=n.value.findIndex(({id:T})=>h.id===T),{id:R,position:P}=n.value[_-1];N.metafield.updateOne({id:R,position:P+1}),N.metafield.updateOne({id:h.id,position:h.position-1}),n.value[_].position--,n.value[_-1].position++,[n.value[_],n.value[_-1]]=[n.value[_-1],n.value[_]]},b=h=>{const _=n.value.findIndex(({id:T})=>h.id===T),{id:R,position:P}=n.value[_+1];N.metafield.updateOne({id:R,position:P-1}),N.metafield.updateOne({id:h.id,position:h.position+1}),n.value[_].position++,n.value[_+1].position--,[n.value[_],n.value[_+1]]=[n.value[_+1],n.value[_]]};return N.metafield.getAll({resource:t.resource.toUpperCase()}).then(h=>n.value=h),(h,_)=>{var R;return v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:s.value},null,8,["data"]),f(d(Ae),{title:`Custom ${a.value} Data`},{actions:y(()=>[f(d(I),{onClick:_[0]||(_[0]=P=>r.value="CREATE")},{default:y(()=>[S(" Add custom field ")]),_:1})]),_:1},8,["title"]),f(d(i1),{onAction:u,data:n.value},null,8,["data"])]),_:1}),r.value==="CREATE"?(v(),w(d(o1),{key:0,resource:t.resource.toUpperCase(),"last-position":(R=n.value[n.value.length-1])==null?void 0:R.position,onSuccess:i,onCancel:_[1]||(_[1]=P=>r.value=null)},null,8,["resource","last-position"])):$("",!0),r.value==="REMOVE"?(v(),w(d(r1),{key:1,data:o.value,onSuccess:c,onCancel:_[2]||(_[2]=P=>r.value=o.value=null)},null,8,["data"])):$("",!0),r.value==="EDIT"?(v(),w(d(d1),{key:2,data:o.value,onSuccess:p,onCancel:_[3]||(_[3]=P=>r.value=o.value=null)},null,8,["data"])):$("",!0)],64)}}},s0={__name:"SalesOrdersView",setup(e){const t=Qe(),n=k([]),o=k(0),r=({data:l})=>{t.push({name:"SalesOrder",params:{salesOrderId:l.id}})};return N.salesOrder.getAll().then(l=>n.value=l),N.lookup.get("archivedSalesOrderCount").then(l=>o.value=l.archivedSalesOrderCount),(l,a)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Sales",title:"Orders"},{actions:y(()=>[f(d(I),{to:{name:"CreateSalesOrder"}},{default:y(()=>[S(" Create order ")]),_:1})]),_:1}),f(d(D1),{"sales-orders":n.value,"archived-count":o.value},null,8,["sales-orders","archived-count"]),f(d(qi),{data:n.value,onAction:r},null,8,["data"])]),_:1}))}};const u0=["onSubmit"],i0={__name:"CreateFulfillment",props:{salesOrderItem:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({salesOrderItemId:n.salesOrderItem.id,qty:null}),l=async()=>{try{o.value=!0,await N.fulfillment.createOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),w(d(te),{title:"Create fulfillment",persist:o.value,onClose:s[2]||(s[2]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"createFulfillment",onSubmit:ce(l,["prevent"])},[f(d(B),{label:"Product",value:n.salesOrderItem.product.normalizedName,disabled:""},null,8,["value"]),f(d(B),{label:"Unfulfilled demand",value:n.salesOrderItem.qty-n.salesOrderItem.qtyFulfilled,suffix:n.salesOrderItem.product.uom,disabled:""},null,8,["value","suffix"]),f(d(B),{modelValue:r.value.qty,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.qty=u),modelModifiers:{number:!0},label:"Quantity",type:"number",step:"any",min:"1",max:n.salesOrderItem.qtyAllocated,suffix:n.salesOrderItem.product.uom,required:""},null,8,["modelValue","max","suffix"])],40,u0)]),footer:y(()=>[f(d(I),{type:"submit",form:"createFulfillment",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[1]||(s[1]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},c0={__name:"FulfillmentsList",props:{data:Array},setup(e){const t=e,n=[{label:"Date",key:"timestamp"},{label:"Product",key:"product.normalizedName",width:"60%"},{label:"Quantity",key:"qty"}];return(o,r)=>(v(),w(d(Ie),{data:t.data,columns:n},{row:y(({data:l})=>[g("td",null,C(new Date(l.timestamp).toLocaleDateString("en-CA")),1),g("td",null,C(l.product.normalizedName),1),g("td",null,C(l.qty)+" "+C(l.product.uom),1)]),_:1},8,["data"]))}};const d0=["onSubmit"],p0={__name:"CreateSalesOrderItem",props:{salesOrder:Object,salesOrderItems:Array},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k([]),l=k(""),a=k({salesOrderId:n.salesOrder.id,product:{id:"",normalizedName:"",uom:""},qty:null}),s=V(()=>{const i=n.salesOrderItems.map(({product:p})=>p.id);return r.value.filter(p=>l.value===p.categoryId).map(p=>({...p,disabled:i.includes(p.value.id)}))}),u=async()=>{try{o.value=!0;const{id:i}=await N.salesOrderItem.createOne(a.value),c={id:i,product:a.value.product,qty:a.value.qty,qtyWip:0,qtyAllocated:0};t("success",c),t("cancel")}catch(i){alert(i)}finally{o.value=!1}};return N.product.getAll().then(i=>{r.value=i.map(({id:c,normalizedName:p,uom:m,category:b})=>({label:p,value:{id:c,normalizedName:p,uom:m},categoryId:b.id}))}),(i,c)=>(v(),w(d(te),{title:"Add sales order item",persist:o.value,onClose:c[4]||(c[4]=p=>t("cancel"))},{body:y(()=>[g("form",{id:"createSalesOrderItem",onSubmit:ce(u,["prevent"])},[f(gn,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=p=>l.value=p),type:"products",keys:["id"]},null,8,["modelValue"]),f(d(we),{modelValue:a.value.product,"onUpdate:modelValue":c[1]||(c[1]=p=>a.value.product=p),label:"Product",options:s.value,required:""},null,8,["modelValue","options"]),f(d(B),{modelValue:a.value.qty,"onUpdate:modelValue":c[2]||(c[2]=p=>a.value.qty=p),modelModifiers:{number:!0},label:"Quantity",suffix:a.value.product.uom,type:"number",step:"any",min:"1",required:""},null,8,["modelValue","suffix"])],40,d0)]),footer:y(()=>[f(d(I),{type:"submit",form:"createSalesOrderItem",loading:o.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:c[3]||(c[3]=p=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},f0={__name:"DeleteSalesOrderItem",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.salesOrderItem.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove sales order item",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to remove "),g("b",null,C(n.data.product.normalizedName),1),S(" from this order?")])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},m0={key:0},v0={key:1},y0={key:2},h0={__name:"SalesOrderItemsList",props:{data:Array,salesOrder:Object},emits:["action"],setup(e,{emit:t}){const n=e,o=V(()=>["CONFIRMED","PARTIALLY_FULFILLED","FULFILLED"].includes(n.salesOrder.status)),r=V(()=>{const a=[{label:"#",key:"seq",width:"4rem"},{label:"Product",key:"product.normalizedName",width:n.salesOrder.status==="OPEN"?"auto":"40%"},{label:"Demand",key:"qty"}];return o.value&&!n.salesOrder.isArchived&&a.push({label:"WIP",key:"qtyWip"},{label:"Allocated",key:"qtyAllocated"}),(o.value||n.salesOrder.isArchived)&&a.push({label:"Fulfilled",key:"qtyFulfilled"}),a}),l=V(()=>n.data.map((a,s)=>{let u=!1;return n.salesOrder.status==="OPEN"&&(u=["Edit","Remove"]),["CONFIRMED","PARTIALLY_FULFILLED"].includes(n.salesOrder.status)&&(u=["Make","Allocate"],a.qtyAllocated&&u.push("Fulfill")),{_:{actions:u},...a,seq:s+1}}));return(a,s)=>(v(),w(d(Ie),{columns:r.value,data:l.value,"row-actions":"",onRowAction:s[0]||(s[0]=u=>t("action",u))},{row:y(({data:u})=>[g("td",null,C(u.seq),1),g("td",null,C(u.product.normalizedName),1),g("td",null,C(u.qty)+" "+C(u.product.uom),1),o.value&&!n.salesOrder.isArchived?(v(),A("td",m0,C(u.qtyWip)+" "+C(u.product.uom),1)):$("",!0),o.value&&!n.salesOrder.isArchived?(v(),A("td",v0,C(u.qtyAllocated)+" "+C(u.product.uom),1)):$("",!0),o.value||n.salesOrder.isArchived?(v(),A("td",y0,C(u.qtyFulfilled)+" "+C(u.product.uom),1)):$("",!0)]),_:1},8,["columns","data"]))}};const b0=["onSubmit"],g0={__name:"UpdateSalesOrderItemQty",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=k({id:n.data.id,qty:n.data.qty}),l=async()=>{try{o.value=!0,await N.salesOrderItem.updateOne(r.value),t("success",r.value),t("cancel")}catch(a){alert(a)}finally{o.value=!1}};return(a,s)=>(v(),w(d(te),{title:"Edit sales order item",persist:o.value,onClose:s[2]||(s[2]=u=>t("cancel"))},{body:y(()=>[g("form",{id:"updateSalesOrderItemQty",onSubmit:ce(l,["prevent"])},[f(d(B),{label:"Product",value:n.data.product.normalizedName,disabled:""},null,8,["value"]),f(d(B),{modelValue:r.value.qty,"onUpdate:modelValue":s[0]||(s[0]=u=>r.value.qty=u),modelModifiers:{number:!0},label:"Quantity",type:"number",step:"any",min:"1",required:""},null,8,["modelValue"])],40,b0)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateSalesOrderItemQty",loading:o.value,disabled:n.data.qty===r.value.qty},{default:y(()=>[S(" Edit ")]),_:1},8,["loading","disabled"]),f(d(I),{color:"gray",disabled:o.value,onClick:s[1]||(s[1]=u=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},_0={__name:"SalesOrderView",props:{salesOrderId:String},setup(e){const t=e,n=Qe(),o=k({status:"",isArchived:null,publicId:"",customer:{shortName:""},date:null,items:[]}),r=k([]),l=k([]),a=k(null),s=k({salesOrder:null,salesOrderItem:null}),u=V(()=>[o.value.isArchived?{name:"Archived Orders",path:"/sales/orders/archived"}:{name:"Orders",path:"/sales/orders"},{name:o.value.publicId}]),i=V(()=>[{label:"Status",value:ta(o.value.status)},{label:"Customer",value:o.value.customer.shortName},{label:"Date",value:o.value.date}]),c=V(()=>{const q=r.value.map(({qtyWip:M})=>M).some(M=>M>0);return o.value.status==="PARTIALLY_FULFILLED"&&!q}),p=({key:q,data:M})=>{s.value.salesOrderItem=q,a.value=M},m=()=>{o.value.status="CONFIRMED",r.value.forEach((q,M)=>{r.value[M].publicId=`${o.value.publicId}/${M+1}`})},b=({salesOrderId:q,...M})=>{r.value.push(M)},h=q=>{const M=r.value.find(({id:X})=>q.id===X);M.qty=q.qty},_=q=>{const M=r.value.findIndex(X=>X.id===q);r.value.splice(M,1)},R=({salesOrderItemId:q,qty:M})=>{const X=r.value.find(({id:pe})=>q===pe);X.qtyWip+=M,X.productionOrderCount++},P=({salesOrderItem:q,qty:M})=>{const X=r.value.find(({id:pe})=>q.id===pe);X.qtyAllocated+=M},T=({salesOrderItemId:q,qty:M})=>{const X=r.value.find(({id:de})=>q===de);X.qtyFulfilled+=M,X.qtyAllocated-=M;const pe=r.value.map(({qty:de,qtyFulfilled:ne})=>ne>=de).some(de=>de===!1);o.value.status=pe?"PARTIALLY_FULFILLED":"FULFILLED"};return N.salesOrder.getOne(t.salesOrderId).then(q=>o.value=q),N.salesOrderItem.getAllBySalesOrder(t.salesOrderId).then(q=>r.value=q),N.fulfillment.getAllBySalesOrder(t.salesOrderId).then(q=>l.value=q),(q,M)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:u.value},null,8,["data"]),f(d(Ae),{title:o.value.publicId},{actions:y(()=>[o.value.status==="OPEN"?(v(),w(d(I),{key:0,disabled:r.value.length===0,onClick:M[0]||(M[0]=X=>s.value.salesOrder="CONFIRM")},{default:y(()=>[S(" Confirm order ")]),_:1},8,["disabled"])):$("",!0),c.value?(v(),w(d(ut),{key:1,onClick:M[1]||(M[1]=X=>s.value.salesOrder="FORCE_FULFILL")},{default:y(()=>[S(" Mark as fulfilled ")]),_:1})):$("",!0),o.value.status==="FULFILLED"&&!o.value.isArchived?(v(),w(d(I),{key:2,onClick:M[2]||(M[2]=X=>s.value.salesOrder="ARCHIVE")},{default:y(()=>[S(" Archive order ")]),_:1})):$("",!0)]),_:1},8,["title"]),f(d(Ze),{title:"Overview"}),f(d(Xo),{data:i.value},null,8,["data"]),f(d(Ze),{title:"Order items",subtitle:o.value.status==="OPEN"?"You can add, edit, and remove items until the order is confirmed.":null},{action:y(()=>[o.value.status==="OPEN"?(v(),w(d(ut),{key:0,onClick:M[3]||(M[3]=X=>s.value.salesOrderItem="CREATE")},{default:y(()=>[S(" Add item ")]),_:1})):$("",!0)]),_:1},8,["subtitle"]),f(d(h0),{data:r.value,"sales-order":o.value,onAction:p},null,8,["data","sales-order"]),o.value.status!=="OPEN"?(v(),w(d(Ze),{key:0,title:"Fulfillments"})):$("",!0),o.value.status!=="OPEN"?(v(),w(d(c0),{key:1,data:l.value},null,8,["data"])):$("",!0),o.value.isArchived?$("",!0):(v(),w(d(Ze),{key:2,title:"Remove order"})),o.value.isArchived?$("",!0):(v(),w(d(st),{key:3,simple:""},{body:y(()=>[S(" Cancelling or deleting this order is permanent. You will no longer be able to fulfill this order. ")]),action:y(()=>[f(d(ut),{color:"red",onClick:M[4]||(M[4]=X=>s.value.salesOrder="REMOVE")},{default:y(()=>[S(" Remove ")]),_:1})]),_:1}))]),_:1}),s.value.salesOrder==="CONFIRM"?(v(),w(d(I1),{key:0,data:o.value,onSuccess:m,onCancel:M[5]||(M[5]=X=>s.value.salesOrder=null)},null,8,["data"])):$("",!0),s.value.salesOrder==="FORCE_FULFILL"?(v(),w(d(U1),{key:1,data:o.value,onSuccess:M[6]||(M[6]=X=>o.value.status="FULFILLED"),onCancel:M[7]||(M[7]=X=>s.value.salesOrder=null)},null,8,["data"])):$("",!0),s.value.salesOrder==="ARCHIVE"?(v(),w(d(R1),{key:2,data:o.value,onSuccess:M[8]||(M[8]=X=>d(n).push({name:"SalesOrders"})),onCancel:M[9]||(M[9]=X=>s.value.salesOrder=null)},null,8,["data"])):$("",!0),s.value.salesOrder==="REMOVE"?(v(),w(d(j1),{key:3,data:o.value,onSuccess:M[10]||(M[10]=X=>d(n).push({name:"SalesOrders"})),onCancel:M[11]||(M[11]=X=>s.value.salesOrder=null)},null,8,["data"])):$("",!0),s.value.salesOrderItem==="CREATE"?(v(),w(d(p0),{key:4,"sales-order":o.value,"sales-order-items":r.value,onSuccess:b,onCancel:M[12]||(M[12]=X=>s.value.salesOrderItem=null)},null,8,["sales-order","sales-order-items"])):$("",!0),s.value.salesOrderItem==="EDIT"?(v(),w(d(g0),{key:5,data:a.value,onSuccess:h,onCancel:M[13]||(M[13]=X=>s.value.salesOrderItem=a.value=null)},null,8,["data"])):$("",!0),s.value.salesOrderItem==="REMOVE"?(v(),w(d(f0),{key:6,data:a.value,onSuccess:_,onCancel:M[14]||(M[14]=X=>s.value.salesOrderItem=a.value=null)},null,8,["data"])):$("",!0),s.value.salesOrderItem==="MAKE"?(v(),w(d(la),{key:7,"sales-order-item":a.value,onSuccess:R,onCancel:M[15]||(M[15]=X=>s.value.salesOrderItem=a.value=null)},null,8,["sales-order-item"])):$("",!0),s.value.salesOrderItem==="ALLOCATE"?(v(),w(d(UO),{key:8,"sales-order-item":a.value,onSuccess:P,onCancel:M[16]||(M[16]=X=>s.value.salesOrderItem=a.value=null)},null,8,["sales-order-item"])):$("",!0),s.value.salesOrderItem==="FULFILL"?(v(),w(d(i0),{key:9,"sales-order-item":a.value,onSuccess:T,onCancel:M[17]||(M[17]=X=>s.value.salesOrderItem=a.value=null)},null,8,["sales-order-item"])):$("",!0)],64))}},w0={__name:"UpdateProductView",props:{productId:String},setup(e){const t=e,n=Qe(),o=k({id:"",name:"",sku:"",uom:"",category:{id:"",name:""},meta:null,qtyAvailable:null,qtyWip:null}),r=V(()=>[{name:"Back",path:`/inventory/products/${t.productId}`}]),l=({id:a})=>{n.push({name:"Product",params:{productId:a}})};return N.product.getOne(t.productId).then(a=>o.value=a),(a,s)=>(v(),w(d(Ce),null,{default:y(()=>[f(d(ze),{data:r.value},null,8,["data"]),f(d(Ae),{title:"Edit product"}),f(d(Pw),{data:o.value,onSuccess:l,onCancel:s[0]||(s[0]=u=>d(n).push(`/inventory/products/${t.productId}`))},null,8,["data"])]),_:1}))}};const O0=["onSubmit"],k0={__name:"CreateUser",emits:["success","cancel"],setup(e,{emit:t}){const n=k(!1),o=k({firstName:"",lastName:"",username:"",password:"",isAdmin:!1}),r=async()=>{try{n.value=!0;const l=await N.user.createOne(o.value);t("success",l),t("cancel")}catch(l){alert(l)}finally{n.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Add user",persist:n.value,onClose:a[6]||(a[6]=s=>t("cancel"))},{body:y(()=>[g("form",{id:"createUser",onSubmit:ce(r,["prevent"])},[f(d(B),{modelValue:o.value.firstName,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value.firstName=s),modelModifiers:{trim:!0},label:"First name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.lastName,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.lastName=s),modelModifiers:{trim:!0},label:"Last name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.username,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value.username=s),modelModifiers:{trim:!0},label:"Username",helper:"Must be at least 3 characters (letters and numbers only)",pattern:"[a-zA-Z0-9]{3,}",required:""},null,8,["modelValue"]),f(d(B),{modelValue:o.value.password,"onUpdate:modelValue":a[3]||(a[3]=s=>o.value.password=s),modelModifiers:{trim:!0},label:"Temporary password",helper:"Must be at least 14 characters",minlength:"14",required:""},null,8,["modelValue"]),f(d(bt),{modelValue:o.value.isAdmin,"onUpdate:modelValue":a[4]||(a[4]=s=>o.value.isAdmin=s),label:"Administrator role"},null,8,["modelValue"])],40,O0)]),footer:y(()=>[f(d(I),{type:"submit",form:"createUser",loading:n.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:n.value,onClick:a[5]||(a[5]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},S0={__name:"DeleteUser",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,o=k(!1),r=async()=>{try{o.value=!0,await N.user.deleteOne(n.data.id),t("success",n.data.id),t("cancel")}catch(l){alert(l)}finally{o.value=!1}};return(l,a)=>(v(),w(d(te),{title:"Remove user",persist:o.value,onClose:a[1]||(a[1]=s=>t("cancel"))},{body:y(()=>[g("p",null,[S("Are you sure you want to remove "),g("b",null,C(`${n.data.lastName}, ${n.data.firstName}`),1),S(" as a user?")])]),footer:y(()=>[f(d(I),{color:"red",loading:o.value,onClick:r},{default:y(()=>[S(" Remove ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:o.value,onClick:a[0]||(a[0]=s=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}};const E0=["onSubmit"],C0={__name:"UpdateUser",props:{data:Object},emits:["success","cancel"],setup(e,{emit:t}){const n=e,{session:o}=on(),r=k(!1),l=k({id:n.data.id,firstName:n.data.firstName,lastName:n.data.lastName,isAdmin:n.data.isAdmin,isDisabled:n.data.isDisabled}),a=async()=>{try{r.value=!0,await N.user.updateOne(l.value),t("success",l.value),t("cancel")}catch(s){alert(s)}finally{r.value=!1}};return(s,u)=>(v(),w(d(te),{title:"Update user",persist:r.value,onClose:u[5]||(u[5]=i=>t("cancel"))},{body:y(()=>[g("form",{id:"updateUser",onSubmit:ce(a,["prevent"])},[f(d(B),{modelValue:l.value.firstName,"onUpdate:modelValue":u[0]||(u[0]=i=>l.value.firstName=i),modelModifiers:{trim:!0},label:"First name",required:""},null,8,["modelValue"]),f(d(B),{modelValue:l.value.lastName,"onUpdate:modelValue":u[1]||(u[1]=i=>l.value.lastName=i),modelModifiers:{trim:!0},label:"Last name",required:""},null,8,["modelValue"]),f(d(bt),{modelValue:l.value.isAdmin,"onUpdate:modelValue":u[2]||(u[2]=i=>l.value.isAdmin=i),modelModifiers:{trim:!0},label:"Administrator role"},null,8,["modelValue"]),n.data.id!==d(o).user.id?(v(),w(d(bt),{key:0,modelValue:l.value.isDisabled,"onUpdate:modelValue":u[3]||(u[3]=i=>l.value.isDisabled=i),label:"Active","true-value":!1,"false-value":!0},null,8,["modelValue"])):$("",!0)],40,E0)]),footer:y(()=>[f(d(I),{type:"submit",form:"updateUser",loading:r.value},{default:y(()=>[S(" Save ")]),_:1},8,["loading"]),f(d(I),{color:"gray",disabled:r.value,onClick:u[4]||(u[4]=i=>t("cancel"))},{default:y(()=>[S(" Cancel ")]),_:1},8,["disabled"])]),_:1},8,["persist"]))}},A0={__name:"UsersList",props:{data:Array},emits:["action"],setup(e,{emit:t}){const n=e,o=[{label:"Name",key:"lastName"},{label:"Administrator",key:"isAdmin"},{label:"Last Login",key:"lastLogin"}],{session:r}=on(),l=V(()=>n.data.map(a=>{var i;const s=["Update","Change password"];a.id!==((i=r.value)==null?void 0:i.user.id)&&s.push("Delete");const u=a.lastLogin?new Date(a.lastLogin).toLocaleString("en-CA"):"";return{_:{actions:s},...a,normalizedLastLogin:u}}));return(a,s)=>(v(),w(d(Ie),{columns:o,data:l.value,"row-actions":"","force-row-menu":"",onRowAction:s[0]||(s[0]=u=>t("action",u))},{row:y(({data:u})=>[g("td",null,C(`${u.lastName}, ${u.firstName} ${u.isDisabled?"(Disabled)":""}`),1),g("td",null,C(u.isAdmin?"Yes":""),1),g("td",null,C(u.normalizedLastLogin),1)]),_:1},8,["data"]))}},$0={__name:"UsersView",setup(e){const t=k(null),n=k([]),o=k(null),r=({key:s,data:u})=>{t.value=s,o.value=u},l=s=>{n.value=n.value.filter(u=>s!==u.id)},a=s=>{const u=n.value.findIndex(({id:i})=>s.id===i);Object.assign(n.value[u],s)};return N.user.getAll().then(s=>n.value=s),(s,u)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(Ae),{surtitle:"Settings",title:"Users"},{actions:y(()=>[f(d(I),{onClick:u[0]||(u[0]=i=>t.value="CREATE")},{default:y(()=>[S(" Add user ")]),_:1})]),_:1}),f(d(A0),{data:n.value,onAction:r},null,8,["data"])]),_:1}),t.value==="CREATE"?(v(),w(d(k0),{key:0,onSuccess:u[1]||(u[1]=i=>n.value.push(i)),onCancel:u[2]||(u[2]=i=>t.value=null)})):$("",!0),t.value==="DELETE"?(v(),w(d(S0),{key:1,data:o.value,onSuccess:l,onCancel:u[3]||(u[3]=i=>t.value=o.value=null)},null,8,["data"])):$("",!0),t.value==="UPDATE"?(v(),w(d(C0),{key:2,data:o.value,onSuccess:a,onCancel:u[4]||(u[4]=i=>t.value=o.value=null)},null,8,["data"])):$("",!0),t.value==="CHANGE_PASSWORD"?(v(),w(d(Ii),{key:3,user:o.value,onDismiss:u[5]||(u[5]=i=>t.value=o.value=null)},null,8,["user"])):$("",!0)],64))}},x0={__name:"WorkersView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Workers"}],{isInitialized:n,isInitializing:o}=ln(),{workers:r,...l}=Cr();!n.value&&!o.value&&N.worker.getAll().then(l.set);const a=k(null),s=k(null),u=({key:i,data:c})=>{s.value=i,a.value=c};return(i,c)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Workers",description:"Add, edit, or remove workers who execute your production."},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=p=>s.value="CREATE")},{default:y(()=>[S(" Add worker ")]),_:1})]),_:1}),f(d(N_),{data:d(r),onAction:u},null,8,["data"])]),_:1}),s.value==="CREATE"?(v(),w(d(P_),{key:0,onSuccess:l.add,onCancel:c[1]||(c[1]=p=>s.value=null)},null,8,["onSuccess"])):$("",!0),s.value==="EDIT"?(v(),w(d(q_),{key:1,data:a.value,onSuccess:l.update,onCancel:c[2]||(c[2]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0),s.value==="REMOVE"?(v(),w(d(M_),{key:2,data:a.value,onSuccess:l.remove,onCancel:c[3]||(c[3]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}},R0={__name:"WorkstationsView",setup(e){const t=[{name:"Configurations",path:"/settings/configurations"},{name:"Workstation"}],{isInitialized:n,isInitializing:o}=ln(),{workstations:r,...l}=Ar();!n.value&&!o.value&&N.workstation.getAll().then(l.set);const a=k(null),s=k(null),u=({key:i,data:c})=>{s.value=i,a.value=c};return(i,c)=>(v(),A(G,null,[f(d(Ce),null,{default:y(()=>[f(d(ze),{data:t}),f(d(Ae),{title:"Workstations",description:"Add, edit, or remove workstations in your facility."},{actions:y(()=>[f(d(I),{onClick:c[0]||(c[0]=p=>s.value="CREATE")},{default:y(()=>[S(" Add workstation ")]),_:1})]),_:1}),f(d(F_),{data:d(r),onAction:u},null,8,["data"])]),_:1}),s.value==="CREATE"?(v(),w(d(L_),{key:0,onSuccess:l.create,onCancel:c[1]||(c[1]=p=>s.value=null)},null,8,["onSuccess"])):$("",!0),s.value==="EDIT"?(v(),w(d(B_),{key:1,data:a.value,onSuccess:l.update,onCancel:c[2]||(c[2]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0),s.value==="REMOVE"?(v(),w(d(j_),{key:2,data:a.value,onSuccess:l.remove,onCancel:c[3]||(c[3]=p=>s.value=a.value=null)},null,8,["data","onSuccess"])):$("",!0)],64))}},Ni=hf({history:Pp("/"),routes:[{path:"/login",component:Ts,children:[{path:"",name:"Login",component:Jw}]},{path:"/sales",component:Sn,children:[{path:"orders",children:[{path:"",name:"SalesOrders",component:s0},{path:"archived",name:"ArchivedSalesOrders",component:B1},{path:":salesOrderId",name:"SalesOrder",component:_0,props:!0},{path:"create",name:"CreateSalesOrder",component:Tw}]},{path:"customers",name:"Customers",component:Fw}]},{path:"/production",component:Sn,children:[{path:"overview",children:[{path:"",name:"ProductionOrders",component:PO},{path:"released",name:"ReleasedProductionOrders",component:HO},{path:":productionOrderId",name:"ProductionOrder",component:MO,props:!0}]},{path:"execution",name:"ProductionExecution",redirect:"/production/execution/",children:[{path:"add-records",name:"CreateProductionRecords",component:gw},{path:":operationSlug?",component:fO,props:!0},{path:":operationSlug/:operationBatchId/add-report",name:"CreateOperationBatchReport",component:bw,props:!0}]}]},{path:"/inventory",component:Sn,children:[{path:"products",children:[{path:"",name:"Products",component:TO},{path:":productId",name:"Product",component:WO,props:!0},{path:":productId/edit",name:"UpdateProduct",component:w0,props:!0},{path:"add",name:"CreateProduct",component:Mw}]},{path:"materials",name:"Materials",component:oO}]},{path:"/reports",component:Sn,children:[{path:"",name:"Reports",component:l0}]},{path:"/settings",component:Sn,children:[{path:"users",name:"Users",component:$0},{path:"configurations",children:[{path:"",name:"Configurations",component:ow},{path:"custom-data",name:"Metafields",component:aO},{path:"custom-data/:resource",name:"ResourceMetafields",component:a0,props:!0},{path:"operations",name:"Operations",component:sO},{path:"workstations",name:"Workstations",component:R0},{path:"workers",name:"Workers",component:x0},{path:"equipment",name:"Equipment",component:zw},{path:"categories",name:"Categories",component:Y1}]}]},{path:"/account",component:Sn,children:[{path:"",name:"Account",component:x1}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ts}]});Ni.beforeEach((e,t,n)=>{var l,a;const{session:o,clearSession:r}=on();e.name==="Login"?o.value.user?n({name:"SalesOrders"}):n():e.name==="NotFound"?(l=o.value)!=null&&l.user?n({name:"SalesOrders"}):n({name:"Login"}):e.path.includes("settings")?(a=o.value.user)!=null&&a.isAdmin?n():n({name:"SalesOrders"}):!o.value.user||Math.floor(Date.now()/1e3)>o.value.expiresIn?(r(),n({name:"Login"})):n()});const Ui=cp(vp);Ui.use(Ni);Ui.mount("#app");
